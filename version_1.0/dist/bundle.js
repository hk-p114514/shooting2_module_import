/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={6099:(t,e,n)=>{"use strict";n.d(e,{Z:()=>I});var i,r,o=n(655),a=n(4589),s=n(909),u=n(4594),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/app-check"]="fire-app-check",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),p=new u.Yd("@firebase/app"),v=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return i}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return i._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var i=this.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,i);return e[s]=u,u},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=d[t])&&void 0!==i?i:t;n&&(r+="-"+n);var a=r.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return a&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||f,!(0,a.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?i[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),i[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?i[s]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(v);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(w);const I=w},909:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var i=n(655),r=n(4589),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}try{for(var r=(0,i.XA)(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=(0,i.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,i.ev)((0,i.ev)([],(0,i.CR)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,i.CR)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,o=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,i.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,i.CR)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&t(o,i),function(){r.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,i.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:r}),this.instances.set(n,o),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},4594:(t,e,n)=>{"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var r;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var s=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:r,type:e.name})}},i=0,r=a;i<r.length;i++)n(r[i])}},4589:(t,e,n)=>{"use strict";n.d(e,{BH:()=>c,LL:()=>S,r3:()=>T,Sg:()=>l,ne:()=>k,p$:()=>s,ZB:()=>u,m9:()=>N,z$:()=>h,jU:()=>p,ru:()=>v,d:()=>g,w1:()=>y,uI:()=>f,UG:()=>d,b$:()=>m,G6:()=>w,Mn:()=>b});var i=n(655),r=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),i.push(n[l],n[h],n[f],n[d])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(i.push(c),64!==s){var l=a<<4&240|s>>2;if(i.push(l),64!==u){var h=s<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){return function(t){var e=r(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function s(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,i.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function v(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return h().indexOf("Electron/")>=0}function y(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var I=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return(0,i.ZT)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],a=o?_(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new I(r,s,i);return u},t}();function _(t,e){return t.replace(E,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var E=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e){var n=new A(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++)i<40?i<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):i<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t}}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=C),void 0===i.error&&(i.error=C),void 0===i.complete&&(i.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function N(t){return t&&t._delegate?t._delegate:t}},7211:(t,e,n)=>{var i;!function(){var r=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function a(t){t&&t.blur&&t!==document.body&&t.blur()}function s(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function u(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function c(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]});else{var e,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===t){var o="DOMNodeRemoved";n|=r.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,r)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}a(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],i=null;try{i=n.cssRules}catch(t){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(t){}if(a&&s(a,t)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return!("absolute"!==window.getComputedStyle(t).position||"auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom||l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,i=0;e=t.removedNodes[i];++i)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),a(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e||(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return u(this)?"dialog":d.call(this)};var p=f.set;f.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&u(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var v=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return v.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(u(e)){t.preventDefault();var n=o(e);if(n){var i=l.formSubmitter;i&&i.form===e?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(i=function(){return l}.call(e,n,e,t))||(t.exports=i):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},5503:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i.Z});var i=n(6099),r="8.10.0";i.Z.registerVersion("firebase",r,"app"),i.Z.SDK_VERSION=r},7397:(t,e,n)=>{"use strict";n.r(e);var i=n(6099);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=r.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){o(t)}}:e}var r,o,a=new e((function(t,e){r=t,o=e}));return this.Ra(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=a(t),o=r.next();!o.done;o=r.next())i(o.value).Ra(e,n)}))},e.all=function(t){var n=a(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function S(t,e,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:I).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t){return t}function A(t,e,n){this.code=x+t,this.message=e||O[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new A(e.substring(x.length),t.message,t.serverResponse):null}T(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var N,x="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function M(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");R.call(this,n+t[i])}function j(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}N=P("__EID__")?"__EID__":void 0,T(R,Error),R.prototype.name="CustomError",T(L,R),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new F((function(){return new q}),(function(t){t.reset()}));function G(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(i[r++]=s)}return i},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},J=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function Y(t,e){return 0<=K(t,e)}function X(t,e){var n;return(n=0<=(e=K(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1).length}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,it=/</g,rt=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||u).Element&&i.Location){var r=i;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Et&&e||"",this.b=_t}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===_t?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var St,_t={},Et={};function Tt(){if(void 0===St){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(t){u.console&&u.console.error(t.message)}St=t}else St=t}return St}function kt(t,e){this.a=e===Ot?t:""}function At(t){return t instanceof kt&&t.constructor===kt?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=It(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new kt(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(Nt,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof wt?It(t):encodeURIComponent(String(t))})))}kt.prototype.ta=!0,kt.prototype.sa=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Dt(t,e){this.a=e===Ut?t:""}function Pt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Dt.prototype.ta=!0,Dt.prototype.sa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Mt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t))t=new Dt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&Mt.test(e[1])?new Dt(t,Ut):null}return t}function Ft(t){return t instanceof Dt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Ut))}var Ut={},Vt=new Dt("about:invalid#zClosurez",Ut);function Bt(t,e,n){this.a=n===Gt?t:""}Bt.prototype.ta=!0,Bt.prototype.sa=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Gt={};function qt(t,e,n,i){return t=t instanceof Dt?t:Ft(t),e=e||u,n=n instanceof wt?It(n):n||"",e.open(Pt(t),n,i,void 0)}function Kt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Ht(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(it,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=f;var zt,Jt,Yt=dt("Opera"),Xt=dt("Trident")||dt("MSIE"),Zt=dt("Edge"),Qt=Zt||Xt,$t=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function ee(){var t=u.document;return t?t.documentMode:void 0}t:{var ne="",ie=(Jt=tt,$t?/rv:([^\);]+)(\)|;)/.exec(Jt):Zt?/Edge\/([\d\.]+)/.exec(Jt):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):te?/WebKit\/(\S+)/.exec(Jt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(ie&&(ne=ie?ie[1]:""),Xt){var re=ee();if(null!=re&&re>parseFloat(ne)){zt=String(re);break t}}zt=ne}var oe,ae={};function se(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(zt)).split("."),i=et(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}u.document&&Xt?oe=ee()||parseInt(zt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Jt){}var ce=!Xt||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!p(o)||m(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}H(a?$(o):o,i)}}}function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout((function(){throw t}),0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(Ie)}}else de=function(){var t=Ie;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){i.next={Hb:t},i=i.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new V;function Ie(){for(var t;t=G();){try{t.a.call(t.b)}catch(t){ge(t)}U(B,t)}be=!1}function Se(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Le(n,Ee,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,Te,t)}))}catch(t){Le(this,Te,t)}}var _e=0,Ee=2,Te=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ae=new F((function(){return new ke}),(function(t){t.reset()}));function Ce(t,e,n){var i=Ae.get();return i.g=t,i.b=e,i.f=n,i}function Ne(t){if(t instanceof Se)return t;var e=new Se(f);return Le(e,Ee,t),e}function xe(t){return new Se((function(e,n){n(t)}))}function Oe(t,e,n){je(t,e,n,null)||ye(_(e,t))}function De(t){return new Se((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Oe(t[o],_(r,o,!0),_(r,o,!1));else e(i)}))}function Pe(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,a=n.b;a&&(a.c||(i++,a.a==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==_e&&1==i?Pe(n,e):(o?((i=o).next==n.f&&(n.f=i),i.next=i.next.next):Ue(n),Ve(n,r,Te,e)))}t.c=null}else Le(t,Te,e)}function Me(t,e){t.b||t.a!=Ee&&t.a!=Te||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,i){var r=Ce(null,null,null);return r.a=new Se((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof qe?o(e):t(r)}catch(t){o(t)}}:o})),r.a.c=t,Me(t,r),r.a}function Le(t,e,n){t.a==_e&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Te||n instanceof qe||function(t,e){t.g=!0,ye((function(){t.g&&Ge.call(null,e)}))}(t,n)))}function je(t,e,n,i){if(t instanceof Se)return Me(t,Ce(e||f,n||null,i)),!0;if(M(t))return t.then(e,n,i),!0;if(m(t))try{var r=t.then;if(v(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(r,t))}),o)}catch(t){o(t)}}(t,r,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function Fe(t){t.h||(t.h=!0,ye(t.gc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,i){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,i);else try{e.c?e.g.call(e.f):Be(e,n,i)}catch(t){Ge.call(null,t)}U(Ae,e)}function Be(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Se.prototype.then=function(t,e,n){return Re(this,v(t)?t:null,v(e)?e:null,n)},Se.prototype.$goog_Thenable=!0,(t=Se.prototype).oa=function(t,e){return(t=Ce(t,t,e)).c=!0,Me(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new qe(t);ye((function(){Pe(this,e)}),this)}},t.$c=function(t){this.a=_e,Le(this,Ee,t)},t.ad=function(t){this.a=_e,Le(this,Te,t)},t.gc=function(){for(var t;t=Ue(this);)Ve(this,t,this.a,this.i);this.h=!1};var Ge=ge;function qe(t){R.call(this,t)}function Ke(){0!=He&&(We[g(this)]=this),this.ya=this.ya,this.pa=this.pa}T(qe,R),qe.prototype.name="cancel";var He=0,We={};function ze(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=g(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}Ke.prototype.ya=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Je=Object.freeze||function(t){return t},Ye=!Xt||9<=Number(ue),Xe=Xt&&!se("9"),Ze=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Wt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},T($e,Qe);var tn=Je({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},$e.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Wa=r,this.key=++nn,this.wa=this.Qa=!1}function on(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==i)return r}return-1}an.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,i,r);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new rn(e,this.src,o,!!i,r)).Qa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,i,r){if(i&&i.once)dn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,i,r);else n=Sn(n),t&&t[en]?En(t,e,n,m(i)?!!i.capture:!!i,r):fn(t,e,n,!1,i,r)}function fn(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=m(r)?!!r.capture:!!r,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,i,a,o)).proxy)if(i=function(){var t=bn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ze||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(mn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function dn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,i,r);else n=Sn(n),t&&t[en]?Tn(t,e,n,m(i)?!!i.capture:!!i,r):fn(t,e,n,!0,i,r)}function pn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,i,r);else i=m(i)?!!i.capture:!!i,n=Sn(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,i,r))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,i,r)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(mn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function mn(t){return t in ln?ln[t]:ln[t]="on"+t}function gn(t,e,n,i){var r=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=yn(o,i),r=r&&!1!==o)}return r}function yn(t,e){var n=t.listener,i=t.Wa||t.src;return t.Qa&&vn(t),n.call(i,e)}function bn(t,e){if(t.wa)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new $e(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=gn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=gn(i[r],t,!1,e),n=n&&o}return n}return yn(t,new $e(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(t){return v(t)?t:(t[In]||(t[In]=function(e){return t.handleEvent(e)}),t[In])}function _n(){Ke.call(this),this.v=new an(this),this.bc=this,this.hb=null}function En(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function Tn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function kn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(t.v,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}function An(t,e,n){if(v(t))n&&(t=S(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=S(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Cn(t){var e=null;return new Se((function(n,i){-1==(e=An((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Nn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function On(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof On)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Pn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Pn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(_n,Ke),_n.prototype[en]=!0,_n.prototype.addEventListener=function(t,e,n,i){hn(this,t,e,n,i)},_n.prototype.removeEventListener=function(t,e,n,i){pn(this,t,e,n,i)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var i=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var r=t;yt(t=new Qe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];r=kn(a,i,!0,t)&&r}if(r=kn(a=t.b=n,i,!0,t)&&r,r=kn(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=kn(a=t.b=e[o],i,!1,t)&&r;return r},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)on(n[i]);delete e.a[t],e.b--}}this.hb=null},(t=On.prototype).X=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},t.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Fn(this,ii(t.b)),this.h=t.h):t&&(n=String(t).match(Mn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),jn(this,n[4]),this.f=qn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Zn(null,this.i))}function Ln(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Zn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ti(this,e),ni(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Kn(e,Yn)),t.b=new Zn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function Bn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Gn(t,e,n,i){var r=new Rn(null,void 0);return t&&Ln(r,t),e&&(r.a=e),n&&jn(r,n),i&&(r.f=i),r}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Kn(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?Jn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Kn(n,Xn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ct(r,"./")||ct(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?Fn(e,ii(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Wn=/[#\/\?@]/g,zn=/[#\?:]/g,Jn=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function Zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new On,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Zn(null,void 0);t=Nn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?ni(n,r,o):n.add(r,o)}return n}function ti(t,e){Qn(t),e=ri(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function ei(t,e){return Qn(t),e=ri(t,e),Pn(t.a.b,e)}function ni(t,e,n){ti(t,e),0<n.length&&(t.c=null,t.a.set(ri(t,e),$(n)),t.b+=n.length)}function ii(t){var e=new Zn;return e.c=t.c,t.a&&(e.a=new On(t.a),e.b=t.b),e}function ri(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function oi(t){var e=[];return si(new ai,t,e),e.join("")}function ai(){}function si(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),si(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),li(i,n),n.push(":"),si(t,o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":li(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Zn.prototype).add=function(t,e){Qn(this),this.c=null,t=ri(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,i){H(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)ei(this,t)&&(e=Q(e,this.a.get(ri(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,ei(this,t=ri(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.X(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var ui={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ci=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function li(t,e){e.push('"',t.replace(ci,(function(t){var e=ui[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ui[t]=e),e})),'"')}function hi(){var t=Oi();return Xt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fi(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function di(t,e){e=e||u.window;var n="about:blank";t&&(n=Pt(jt(t)||Vt)),e.location.href=n}function pi(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pi(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function vi(t){return!!((t=(t||Oi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function mi(t){t=t||u.window;try{t.close()}catch(t){}}function gi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Oi().toLowerCase(),i&&(e.target=i,ct(n,"crios/")&&(e.target="_blank")),Ci(Oi())==ki&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Dt?n:jt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(bt(a=me(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Ft(e),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",i,n,a),t=Pt(e),a&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(i=Tt())?i.createHTML(t):t,null,Gt),i=a.document)&&(i.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(a=qt(e,i,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bi=/^[^@]+@[^@]+$/;function wi(){var t=null;return new Se((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function Ii(t){return t=t||Oi(),!("file:"!==Li()&&"ionic:"!==Li()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Si(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function _i(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Ei(){return i.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.Z.INTERNAL.hasOwnProperty("node")?"Node":_i()?"Worker":"Browser"}function Ti(){var t=Ei();return"ReactNative"===t||"Node"===t}var ki="Firefox",Ai="Chrome";function Ci(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?ki:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ai:"Safari"}var Ni={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xi(t,e){e=e||[];var n,i=[],r={};for(n in Ni)r[Ni[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=Ei())?i=Ci(r=Oi()):"Worker"===i&&(i=Ci(r=Oi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Oi(){return u.navigator&&u.navigator.userAgent||""}function Di(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Pi(){try{var t=u.localStorage,e=Bi();if(t)return t.setItem(e,"1"),t.removeItem(e),!hi()||!!u.indexedDB}catch(t){return _i()&&!!u.indexedDB}return!1}function Mi(){return(Ri()||"chrome-extension:"===Li()||Ii())&&!Ti()&&Pi()&&!_i()}function Ri(){return"http:"===Li()||"https:"===Li()}function Li(){return u.location&&u.location.protocol||null}function ji(t){return!vi(t=t||Oi())&&Ci(t)!=ki}function Fi(t){return void 0===t?null:oi(t)}function Ui(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vi(t){if(null!==t)return JSON.parse(t)}function Bi(t){return t||Math.floor(1e9*Math.random()).toString()}function Gi(t){return"Safari"!=Ci(t=t||Oi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qi(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ki(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Oi(),e=Ei(),this.b=vi(t)||"ReactNative"===e}function Hi(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function zi(){return!(!Di("fireauth.oauthhelper",u)&&!Di("fireauth.iframe",u))}Ki.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Ri()&&"chrome-extension:"!==Li()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ji,Yi={};function Xi(t){Yi[t]||(Yi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Zi={};Object.defineProperty(Zi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zi,"abcd",{configurable:!0,enumerable:!0,value:2}),Ji=2==Zi.abcd}catch(Jt){Ji=!1}function Qi(t,e,n){Ji?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $i(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qi(t,n,e[n])}function tr(t){var e={};return $i(e,t),e}function er(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qi(e,n,er(t[n]));return e}function nr(t){var e=t&&(t[sr]?"phone":null);if(!(e&&t&&t[ar]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Qi(this,"uid",t[ar]),Qi(this,"displayName",t[rr]||null);var n=null;t[or]&&(n=new Date(t[or]).toUTCString()),Qi(this,"enrollmentTime",n),Qi(this,"factorId",e)}function ir(t){try{var e=new ur(t)}catch(t){e=null}return e}nr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var rr="displayName",or="enrolledAt",ar="mfaEnrollmentId",sr="phoneInfo";function ur(t){nr.call(this,t),Qi(this,"phoneNumber",t[sr])}function cr(t){var e={},n=t[dr],i=t[vr],r=t[mr];if(t=ir(t[pr]),!r||r!=hr&&r!=fr&&!n||r==fr&&!i||r==lr&&!t)throw Error("Invalid checkActionCode response!");r==fr?(e[yr]=n||null,e[wr]=n||null,e[gr]=i):(e[yr]=i||null,e[wr]=i||null,e[gr]=n||null),e[br]=t||null,Qi(this,Sr,r),Qi(this,Ir,er(e))}T(ur,nr),ur.prototype.w=function(){var t=ur.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var lr="REVERT_SECOND_FACTOR_ADDITION",hr="EMAIL_SIGNIN",fr="VERIFY_AND_CHANGE_EMAIL",dr="email",pr="mfaInfo",vr="newEmail",mr="requestType",gr="email",yr="fromEmail",br="multiFactorInfo",wr="previousEmail",Ir="data",Sr="operation";function _r(t){var e=Vn(t=Bn(t),Er)||null,n=Vn(t,Tr)||null,i=Vn(t,Cr)||null;if(i=i&&xr[i]||null,!e||!n||!i)throw new A("argument-error",Er+", "+Tr+"and "+Cr+" are required in a valid action code URL.");$i(this,{apiKey:e,operation:i,code:n,continueUrl:Vn(t,kr)||null,languageCode:Vn(t,Ar)||null,tenantId:Vn(t,Nr)||null})}var Er="apiKey",Tr="oobCode",kr="continueUrl",Ar="languageCode",Cr="mode",Nr="tenantId",xr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:lr,signIn:hr,verifyAndChangeEmail:fr,verifyEmail:"VERIFY_EMAIL"};function Or(t){try{return new _r(t)}catch(t){return null}}function Dr(t){var e=t[jr];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pr];if(n&&"object"==typeof n){e=n[Vr];var i=n[Fr];if(n=n[Ur],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new A("argument-error",Fr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Ur+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Vr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Pr+" property must be a non null object when specified.");if(this.f=null,(e=t[Lr])&&"object"==typeof e){if("string"==typeof(e=e[Br])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Br+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Lr+" property must be a non null object when specified.");if(void 0!==(e=t[Rr])&&"boolean"!=typeof e)throw new A("argument-error",Rr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Mr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",Mr+" property must be a non empty string when specified.");this.i=t||null}var Pr="android",Mr="dynamicLinkDomain",Rr="handleCodeInApp",Lr="iOS",jr="url",Fr="installApp",Ur="minimumVersion",Vr="packageName",Br="bundleId";function Gr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qr=null;function Kr(t){var e=Wr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hr(t){try{return new Kr(t)}catch(t){return null}}function Wr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=function(t){var e=[];return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=qr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qr){qr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===qr[o]&&(qr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<i.length;){var r=i[e++];if(128>r)t[n++]=String.fromCharCode(r);else if(191<r&&224>r){var o=i[e++];t[n++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&365>r){o=i[e++];var a=i[e++],s=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&i[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=i[e++],a=i[e++],t[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Kr.prototype.T=function(){return this.f},Kr.prototype.l=function(){return this.c},Kr.prototype.toString=function(){return this.h};var zr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Jr=["client_id","response_type","scope","redirect_uri","state"],Yr={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Jr},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Jr},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Jr},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zr},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Xr(t){for(var e in Yr)if(Yr[e].fa==t)return Yr[e];return null}function Zr(t){var e={};e["facebook.com"]=no,e["google.com"]=ro,e["github.com"]=io,e["twitter.com"]=oo;var n=t&&t[$r];try{if(n)return e[n]?new e[n](t):new eo(t);if(void 0!==t[Qr])return new to(t)}catch(t){}return null}var Qr="idToken",$r="providerId";function to(t){var e=t[$r];if(!e&&t[Qr]){var n=Hr(t[Qr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qi(this,"providerId",e),Qi(this,"isNewUser",n)}function eo(t){to.call(this,t),Qi(this,"profile",er((t=Vi(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",this.profile&&this.profile.login||null)}function ro(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",t.screenName||null)}function ao(t){var e=Bn(t),n=Vn(e,"link"),i=Vn(Bn(n),"link");return e=Vn(e,"deep_link_id"),Vn(Bn(e),"link")||e||i||n||t}function so(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}T(eo,to),T(no,eo),T(io,eo),T(ro,eo),T(oo,eo);var uo="enroll",co="signin";function lo(){}function ho(t,e){return t.then((function(t){if(t[$a]){var n=Hr(t[$a]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new A("user-mismatch"):t}))}function fo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Qi(this,"providerId",t),Qi(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fo(t.providerId,t.pendingToken)}catch(t){}return null}function mo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qi(this,"idToken",e.idToken),e.accessToken&&Qi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Qi(this,"accessToken",e.oauthToken),Qi(this,"secret",e.oauthTokenSecret)}Qi(this,"providerId",t),Qi(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new mo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Qc=e||[],$i(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Xr(t)||{}).Ja||null,this.pb=null}function wo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function Io(t){bo.call(this,t,Jr),this.a=[]}function So(){Io.call(this,"facebook.com")}function _o(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function Eo(){Io.call(this,"github.com")}function To(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function ko(){Io.call(this,"google.com"),this.Ca("profile")}function Ao(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function Co(){bo.call(this,"twitter.com",zr)}function No(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Qi(this,"providerId","password"),Qi(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Oo(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Do(){$i(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=Mo(e)))throw new A("argument-error","Invalid email link!");return new xo(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Mo(t){return(t=Or(t=ao(t)))&&t.operation===hr?t:null}function Ro(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new A("internal-error");this.a=t,Qi(this,"providerId","phone"),this.fa="phone",Qi(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Fo(t){try{this.a=t||i.Z.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$i(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Ro({fb:t,eb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Ao(o,n);case"facebook.com":return _o(n);case"github.com":return To(n);case"twitter.com":return No(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new fo(e,a):new mo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Io(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function Bo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Go(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Go(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Ko(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Ne(this.a):Ne(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},fo.prototype.ka=function(t){return ws(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,Is(t,n)},fo.prototype.c=function(t,e){return ho(Ss(t,po(this)),e)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(t){return ws(t,go(this))},mo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Is(t,n)},mo.prototype.c=function(t,e){return ho(Ss(t,go(this)),e)},mo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ka=function(t){return this.Jb=mt(t),this},T(wo,bo),T(Io,bo),Io.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},Io.prototype.Rb=function(){return $(this.a)},Io.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},T(So,Io),Qi(So,"PROVIDER_ID","facebook.com"),Qi(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Eo,Io),Qi(Eo,"PROVIDER_ID","github.com"),Qi(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),T(ko,Io),Qi(ko,"PROVIDER_ID","google.com"),Qi(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Co,bo),Qi(Co,"PROVIDER_ID","twitter.com"),Qi(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?iu(t,xs,{email:this.a,oobCode:this.f}):iu(t,Qs,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?iu(t,Os,{idToken:e,email:this.a,oobCode:this.f}):iu(t,Ks,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return ho(this.ka(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$i(Do,{PROVIDER_ID:"password"}),$i(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$i(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.gb(jo(this))},Ro.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,iu(t,tu,n)},Ro.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",ho(t=iu(t,eu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fo.prototype.gb=function(t,e){var n=this.a.a;return Ne(e.verify()).then((function(i){if("string"!=typeof i)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(r&&r.type==uo?r.Ha().then((function(t){return function(t,e){return iu(t,Ws,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==co?r.Ha().then((function(e){return function(t,e){return iu(t,zs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return iu(t,Gs,e)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$i(Fo,{PROVIDER_ID:"phone"}),$i(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),Go.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Go.prototype.T=function(){return this.h},Go.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Wo=null;function zo(t){var e="unauthorized-domain",n=void 0,i=Bn(t);t=i.a,"chrome-extension"==(i=i.c)?n=Kt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Kt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Jo(t,e,n){A.call(this,t,n),(t=e||{}).Kb&&Qi(this,"email",t.Kb),t.ea&&Qi(this,"phoneNumber",t.ea),t.credential&&Qi(this,"credential",t.credential),t.$b&&Qi(this,"tenantId",t.$b)}function Yo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Vo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Jo(e,n,t.message)}return null}function Xo(){}function Zo(t){return t.c||(t.c=t.b())}function Qo(){}function $o(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ta(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.qc,this),this.a.onerror=S(this.Tb,this),this.a.onprogress=S(this.rc,this),this.a.ontimeout=S(this.vc,this)}function na(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ia(t,e,n){this.reset(t,e,n,void 0,void 0)}function ra(t){this.f=t,this.b=this.c=this.a=null}function oa(t,e){this.name=t,this.value=e}T(zo,A),T(Jo,A),Jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Jo.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,T(Qo,Xo),Qo.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Qo,T(ta,Xo),ta.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(t=ea.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",na(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,na(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null,ia.prototype.reset=function(t,e,n,i,r){i||E(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(t){return t.c?t.c:t.a?la(t.a):(j("Root logger has no level set."),null)}ra.prototype.log=function(t,e,n){if(t.value>=la(this).value)for(v(e)&&(e=e()),t=new ia(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ha={},fa=null;function da(t){var e;if(fa||(fa=new ra(""),ha[""]=fa,fa.c=ua),!(e=ha[t])){e=new ra(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=da(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,ha[t]=e}return e}function pa(t,e){t&&t.log(ca,e,void 0)}function va(t){this.f=t}function ma(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(va,Xo),va.prototype.a=function(){return new ma(this.f)},va.prototype.b=function(t){return function(){return t}}({}),T(ma,_n);var ga=0;function ya(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ba(t){t.readyState=4,t.g=null,t.c=null,t.m=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ia(t){_n.call(this),this.headers=new On,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Sa,this.u=this.S=!1}(t=ma.prototype).open=function(t,e){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=ga},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ya(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this):wa(this),3==this.readyState&&ya(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ba(this))},t.sc=function(t){this.a&&(this.response=t,ba(this))},t.Va=function(t){var e=this.i;e&&e.log(sa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ba(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(Ia,_n);var Sa="";Ia.prototype.b=da("goog.net.XhrIo");var _a=/^https?$/i,Ea=["POST","PUT"];function Ta(t){return"content-type"==t.toLowerCase()}function ka(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),Na(t)}function Aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ca(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Oa(t)&&2==Da(t))pa(t.b,Pa(t,"Local request error detected and ignored"));else if(t.i&&4==Oa(t))An(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Oa(t)){pa(t.b,Pa(t,"Request complete")),t.c=!1;try{var e,n=Da(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(Mn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}r=!_a.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Oa(t)?t.a.statusText:""}catch(e){pa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Da(t)+"]",Aa(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){xa(t);var n=t.a,i=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(aa,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function xa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Oa(t){return t.a?t.a.readyState:0}function Da(t){try{return 2<Oa(t)?t.a.status:-1}catch(t){return-1}}function Pa(t,e){return e+" ["+t.P+" "+t.l+" "+Da(t)+"]"}function Ma(t){var e=Ha;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,Ua(t)}function La(t){if(t.a){if(!t.v)throw new Va(t);t.v=!1}}function ja(t,e,n,i){t.g.push([e,n,i]),t.a&&Ua(t)}function Fa(t){return J(t.g,(function(t){return v(t[1])}))}function Ua(t){if(t.h&&t.a&&Fa(t)){var e=t.h,n=qa[e];n&&(u.clearTimeout(n.a),delete qa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],a=r[1];if(r=r[2],o=t.f?a:o)try{var s=o.call(r||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(M(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(i=!0,t.i=!0)}catch(i){e=i,t.f=!0,Fa(t)||(n=!0)}}t.c=e,i&&(s=S(t.m,t,!0),i=S(t.m,t,!1),e instanceof Ma?(ja(e,s,i),e.C=!0):e.then(s,i)),n&&(e=new Ga(e),qa[e.a]=e,t.h=e.a)}function Va(){R.call(this)}function Ba(){R.call(this)}function Ga(t){this.a=u.setTimeout(S(this.c,this),0),this.b=t}(t=Ia.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(pa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Ia.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Ca(this):this.Jc())},t.Jc=function(){Ca(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return pa(this.b,"Can not get response: "+t.message),null}},Ma.prototype.cancel=function(t){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ba(this),La(this),Ra(this,!1,t))}},Ma.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},Ma.prototype.then=function(t,e,n){var i,r,o=new Se((function(t,e){i=t,r=e}));return ja(this,i,(function(t){t instanceof Ba?o.cancel():r(t)})),o.then(t,e,n)},Ma.prototype.$goog_Thenable=!0,T(Va,R),Va.prototype.message="Deferred has already fired",Va.prototype.name="AlreadyCalledError",T(Ba,R),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",Ga.prototype.c=function(){throw delete qa[this.a],this.b};var qa={};function Ka(t){var e={},n=e.document||document,i=At(t).toString(),r=me(document,"SCRIPT"),o={Xb:r,Ma:void 0},a=new Ma(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Wa(r,!0);var t=new Ya(Ja,"Timeout reached for loading script "+i);La(a),Ra(a,!1,t)}),c),o.Ma=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Wa(r,e.xd||!1,s),La(a),Ra(a,!0,null))},r.onerror=function(){Wa(r,!0,s);var t=new Ya(za,"Error while loading script "+i);La(a),Ra(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(r,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=At(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),a}function Ha(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Wa(t,!0,this.Ma)}}function Wa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var za=0,Ja=1;function Ya(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Xa(t){this.f=t}function Za(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ts,this.g=mt(t.secureTokenHeaders||es),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ns,this.a=mt(t.firebaseHeaders||is),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ei(),!(n=u.XMLHttpRequest||n&&i.Z.INTERNAL.node&&i.Z.INTERNAL.node.XMLHttpRequest)&&!_i())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,_i()?this.f=new va(self):Ti()?this.f=new Xa(n):this.f=new ta,this.b=null}T(Ya,R),T(Xa,Xo),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var Qa,$a="idToken",ts=new Ki(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ns=new Ki(3e4,6e4),is={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function os(t,e){e&&(t.l=as("https://securetoken.googleapis.com/v1/token",e),t.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=as("https://identitytoolkit.googleapis.com/v2/",e))}function as(t,e){return t=Bn(t),e=Bn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function us(t,e,n,i,r,o,a){(function(){var t=Oi();return!((t=Ci(t)!=Ai?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Xt&&ue&&!(9<ue))})()||_i()?t=S(t.u,t):(Qa||(Qa=new Se((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[ls]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ja(t,null,e,void 0)}(Ka(Ct(cs,{onload:ls})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=S(t.s,t)),t(e,n,i,r,o,a)}Za.prototype.T=function(){return this.b},Za.prototype.u=function(t,e,n,i,r,o){if(_i()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}En(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return pa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Tn(a,"ready",(function(){s&&clearTimeout(s),ze(this)})),Tn(a,"timeout",(function(){s&&clearTimeout(s),ze(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=t.D?Zo(t.D):Zo(Ho),t.a.onreadystatechange=S(t.Wb,t);try{pa(t.b,Pa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return pa(t.b,Pa(t,"Error opening Xhr: "+e.message)),void ka(t,e)}e=i||"";var o=new On(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)H(t,e,void 0);else for(var n=xn(t),i=Nn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=Ta,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),i=u.FormData&&e instanceof u.FormData,!Y(Ea,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{xa(t),0<t.g&&(t.u=function(t){return Xt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),pa(t.b,Pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=S(t.Ma,t)):t.s=An(t.Ma,t.g,t)),pa(t.b,Pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){pa(t.b,Pa(t,"Send error: "+e.message)),ka(t,e)}}(a,t,n,i,r)};var cs=new wt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(t){if("string"!=typeof(t=t.email)||!bi.test(t))throw new A("invalid-email")}function fs(t){"email"in t&&hs(t)}function ds(t){if(!t[$a]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,mt(t));throw new A("internal-error")}}function ps(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}Za.prototype.s=function(t,e,n,i,r){var o=this;Qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Za.prototype.Ab=function(){return iu(this,Hs,{})},Za.prototype.Cb=function(t,e){return iu(this,qs,{idToken:t,email:e})},Za.prototype.Db=function(t,e){return iu(this,Ks,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function gs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&ei(t=new Zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function bs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Yo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;ds(t)}function ws(t,e){return e.returnIdpCredential=!0,iu(t,Js,e)}function Is(t,e){return e.returnIdpCredential=!0,iu(t,Xs,e)}function Ss(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,iu(t,Ys,e)}function _s(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=Za.prototype).Eb=function(t,e){var n={idToken:t},i=[];return pt(vs,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),iu(this,qs,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),iu(this,Fs,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),iu(this,Rs,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),iu(this,Ls,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),iu(this,js,t)},t.gb=function(t){return iu(this,$s,t)},t.ob=function(t,e){return iu(this,Bs,{oobCode:t,newPassword:e})},t.Sa=function(t){return iu(this,Ts,{oobCode:t})},t.kb=function(t){return iu(this,Es,{oobCode:t})};var Es={endpoint:"setAccountInfo",A:_s,Z:"email",B:!0},Ts={endpoint:"resetPassword",A:_s,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(t){if(hs(t),!t.password)throw new A("weak-password")},G:ds,V:!0,B:!0},As={endpoint:"createAuthUri",B:!0},Cs={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},xs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:hs,G:ds,V:!0,B:!0},Os={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:hs,G:ds,V:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ms,G:ds,B:!0,Na:!0},Ps={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:ds,B:!0,Na:!0},Ms={endpoint:"getAccountInfo"},Rs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");hs(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");hs(t)},Z:"email",B:!0},Us={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Vs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Bs={endpoint:"resetPassword",A:_s,Z:"email",B:!0},Gs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fs(t),!t.password)throw new A("weak-password")},G:ds,V:!0},Hs={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:gs,Za:ys,G:bs,V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:gs,Za:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);ds(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(gs(t),!t.idToken)throw new A("internal-error")},Za:ys,G:bs,V:!0},Zs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ds,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(hs(t),!t.password)throw new A("wrong-password")},G:ds,V:!0,B:!0},$s={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ps(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Yo(t);ds(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$a]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function iu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.O))return xe(new A("internal-error"));var i,r=!!e.Na,o=e.Vb||"POST";return Ne(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,a){var s=Bn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",Date.now().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&Un(s,c,r[c]);return new Se((function(e,n){us(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new A("network-request-failed"))}),i,u?void 0:oi(Ui(r)),t.a,t.v.get())}))}(t,r?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return i=t,e.Za?e.Za(n,i):i})).then(e.G).then((function(){if(!e.Z)return i;if(!(e.Z in i))throw new A("internal-error");return i[e.Z]}))}function ru(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new A(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",yt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new A(i[r],e);return!e&&t&&(e=Fi(t)),new A("internal-error",e)}function au(t){this.b=t,this.a=null,this.sb=function(t){return(lu||(lu=new Se((function(t,e){function n(){qi(),Di("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qi(),e(Error("Network Error"))},timeout:uu.get()})}if(Di("gapi.iframes.Iframe"))t();else if(Di("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[i]=function(){Di("gapi.load")?n():e(Error("Network Error"))},Ne(Ka(i=Ct(su,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new Se((function(e,n){Di("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new wt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Ki(3e4,6e4),cu=new Ki(5e3,15e3),lu=null;function hu(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Gn((t=Bn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Gn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function du(t){try{return i.Z.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=fi();return function(t){return iu(t,Us,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yi.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(fi())}))}function mu(t){return t.m||(t.m=wi().then((function(){if(!t.u){var e=t.c,n=t.i,i=du(t.b),r=new hu(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=$(i||[]),t.u=r.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Ne(n)}return n.status="ERROR",Ne(n)}))}(t)}))),t.m}function gu(t){return t.l||(t.C=t.c?xi(t.c,du(t.b)):null,t.l=new Za(t.g,P(t.i),t.C),t.f&&os(t.l,t.f)),t.l}function yu(t,e,n,i,r,o,a,s,u,c,l,h){return(t=new fu(t,e,n,i,r,h)).l=o,t.g=a,t.i=s,t.b=mt(u||null),t.f=c,t.zb(l).toString()}function bu(t){if(this.a=t||i.Z.INTERNAL.reactNative&&i.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=S(this.c,this)}hu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):ti(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):ti(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):ti(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Bn(this.v.url);t=Gn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Gn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.Z.app(this.c).auth().la()}catch(t){n=null}for(var r in e.pb=n,Un(t,"providerId",this.a.providerId),e=Ui((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=mt(e);for(var o=0;o<r.length;o++){var a=r[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),vt(e)||Un(t,"customParameters",Fi(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Un(t,"scopes",n.join(",")),this.l?Un(t,"redirectUrl",this.l):ti(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):ti(t.b,"eventId"),this.i?Un(t,"v",this.i):ti(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Vn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):ti(t.b,"tid"),this.f?Un(t,"eid",this.f):ti(t.b,"eid"),(s=du(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Pb=function(t,e,n){var i=new A("popup-closed-by-user"),r=new A("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.sb.then((function(){return new Se((function(n){t.a.send(e.type,e,n,Di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&mi(t),e(r),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Se((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Cn(n).then((function(){e(i)}))}))},t.Yb=function(){var t=Oi();return!ji(t)&&!Gi(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,i,r,o,a,s){if(!t)return xe(new A("popup-blocked"));if(a&&!ji())return this.ma().o((function(e){mi(t),r(e)})),i(),Ne();this.a||(this.a=vu(gu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw mi(t),r(e),e}));return i(),e})).then((function(){Bo(n),a||di(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,i){this.a||(this.a=vu(gu(this)));var r=this;return this.a.then((function(){Bo(e),di(yu(r.s,r.g,r.b,t,e,fi(),n,r.c,void 0,r.i,i,r.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ma=function(){var t=this;return mu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Z(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return Ne(this.a.getItem(t)).then((function(t){return t&&Vi(t)}))},t.set=function(t,e){return Ne(this.a.setItem(t,Fi(e)))},t.U=function(t){return Ne(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Su=[];function _u(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,i){var r,o,a,s,u=n||{},c=null;if(t.b)return xe(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Se((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),Z(t.a,(function(t){return t==e}))}}function Cu(){if(!Du())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_i()&&self?(this.v=function(){var t=_i()?self:null;if(H(Su,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Su.push(e)}return e}(),_u(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),_u(this.v,"ping",(function(){return Ne(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ne().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ne(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Eu(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new Se((function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new Se((function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function xu(t){return t.i||(t.i=Nu(t)),t.i}function Ou(t,e){var n=0;return new Se((function i(r,o){xu(t).then(e).then(r).o((function(e){if(!(3<++n))return xu(t).then((function(e){return e.close(),t.i=void 0,i(r,o)})).o((function(t){o(t)}));o(e)}))}))}function Du(){try{return!!u.indexedDB}catch(t){return!1}}function Pu(t){return t.objectStore("firebaseLocalStorage")}function Mu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new Se((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ne()}function ju(t){return xu(t).then((function(t){var e=Pu(Mu(t,!1));return e.getAll?Ru(e.getAll()):new Se((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=pi(t.c,n),t.c=n}return i}))}function Fu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ne().then((function(){if(Du()){var t=Bi(),i="__sak"+t;return Iu||(Iu=new Cu),(n=Iu).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==Ei();if(!(t=Gu()||t&&i.Z.INTERNAL.node&&i.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ei())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Gu()||i.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Gu(){try{var t=u.localStorage,e=Bi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function qu(){this.type="nullStorage"}function Ku(){if(!function(){var t="Node"==Ei();if(!(t=Hu()||t&&i.Z.INTERNAL.node&&i.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ei())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Hu()||i.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=u.sessionStorage,e=Bi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wu(){var t={};t.Browser=Yu,t.Node=Xu,t.ReactNative=Zu,t.Worker=Qu,this.a=t[Ei()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];H(i,(function(e){r.push(Ne().then((function(){return e(t.origin,t.data.data)})))})),De(r).then((function(i){var r=[];H(i,(function(t){r.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,i=!1;return Ou(this,(function(e){return Ru((e=Pu(Mu(e,!0))).get(t))})).then((function(r){return Ou(n,(function(o){if(o=Pu(Mu(o,!0)),r)return r.value=e,Ru(o.put(r));n.b++,i=!0;var a={};return a.fbase_key=t,a.value=e,Ru(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){i&&n.b--}))},t.get=function(t){return Ou(this,(function(e){return Ru(Pu(Mu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Ou(this,(function(i){return n=!0,e.b++,Ru(Pu(Mu(i,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Fu(t),function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Z(this.a,(function(e){return e==t})),0==this.a.length&&Fu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Z(this.a,(function(e){return e==t}))},(t=Vu.prototype).get=function(t){return Ne(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ne()},t.U=function(t){return delete this.a[t],Ne()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Ne().then((function(){return Vi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var i=Fi(e);null===i?n.U(t):n.a.setItem(t,i)}))},t.U=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&hn(u.window,"storage",t)},t.ia=function(t){u.window&&pn(u.window,"storage",t)},(t=qu.prototype).get=function(){return Ne(null)},t.set=function(){return Ne()},t.U=function(){return Ne()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return Ne().then((function(){return Vi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var i=Fi(e);null===i?n.U(t):n.a.setItem(t,i)}))},t.U=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Ju,Yu={F:Bu,cb:Ku},Xu={F:Bu,cb:Ku},Zu={F:bu,cb:qu},Qu={F:Bu,cb:qu},$u={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Gi(Oi())||!Si()),e=ji(),n=Pi();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Wu),t=zu;try{this.g=!hi()&&zi()||!u.indexedDB?new t.a.F:new Uu(_i()?new Vu:new t.a.F)}catch(t){this.g=new Vu,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new Vu}this.v=new Vu,this.f=S(this.Zb,this),this.b={}}function ec(){return Ju||(Ju=new tc),Ju}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ic(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=ic(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(ic(t,e))},t.set=function(t,e,n){var i=ic(t,n),r=this,o=nc(this,t.F);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=ic(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.h||(hi()||!zi())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ic(t,e),this.a[t]&&(Z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=u.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?u.localStorage.setItem(e,i):u.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.nb(e))},Xt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,S(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}T(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=Q(128,dc);function mc(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function gc(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(mc(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(mc(t),r=0)}}t.c=r,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}T(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(t){return new A("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ec(t){return t.f||(t.f=t.ma().then((function(){return new Se((function(e){t.Ea((function n(i){return e(i),t.Ta(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),Tc(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vi(Vn(o=Bn(r),"firebaseError")||null))?C(o):null)?new Go(i.c,i.b,null,null,o,null,i.T()):new Go(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}_c(t,r)}))}var n=new Go("unknown",null,null,null,new A("no-auth-event")),i=!1,r=Cn(500).then((function(){return Tc(t).then((function(){i||_c(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Di("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Wo||(Wo=new Ko),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Di("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Tc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Ii(void 0)?wi().then((function(){return new Se((function(t,e){var n=u.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Di("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if(void 0===Di("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Di("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!=typeof Di("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Pb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),Ne()},t.Nb=function(){return xe(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,i){if(this.c)return xe(new A("redirect-operation-pending"));var r=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ne().then((function(){return Bo(e),Ec(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Go(e,i,null,o,new A("no-auth-event"),null,r),s=Di("BuildInfo.packageName",u);if("string"!=typeof s)throw new A("invalid-cordova-configuration");var c=Di("BuildInfo.displayName",u),l={};if(Oi().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Oi().toLowerCase().match(/android/))return xe(new A("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(t){var e=new bc;gc(e,t),t=[];var n=8*e.g;56>e.c?gc(e,vc,56-e.c):gc(e,vc,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(mc(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,i,t.m,l,t.u,r,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Di("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Di("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Di("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");e=Oi(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new Se((function(t,e){s=function(){var e=Di("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(s),c=function(){a||(a=Cn(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},l=function(){Hi()&&c()},o.addEventListener("resume",c,!1),Oi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Tc(r).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&r.Ta(s),r.c=null}))},t.Ea=function(t){this.b.push(t),Ec(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Go("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Ta=function(t){Z(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Cc(t){return rc(t.b,Ac,t.a)}function Nc(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=S(this.s,this),this.b=new Kc,this.C=new Yc,this.g=new kc(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,N,this.J)}function xc(t,e,n,r,o){var a=i.Z.SDK_VERSION||null;return Ii()?new Ic(t,e,n,a,r,o):new pu(t,e,n,a,r,o)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Dc(t){t.a.Yb()&&Oc(t).o((function(e){var n=new Go("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Ub()||Hc(t.b)}function Pc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Cc(t.g).then((function(){Oc(t).o((function(e){var n=new Go("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Dc(t)})).o((function(){Dc(t)}))}function Mc(t,e){Z(t.h,(function(t){return t==e}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hc(this.b),e};var Rc=new Ki(2e3,1e4),Lc=new Ki(3e4,6e4);function jc(t,e,n,i,r,o,a){return t.a.Nb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),r,o,a)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,i,r){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,i,r).o((function(e){if(Fc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Se((function(){})):Cc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,i,r){return t.a.Pb(i,(function(t){e.na(n,null,t,r)}),Rc.get())}Nc.prototype.ra=function(){return this.b.ra()};var Bc={};function Gc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,i){var r=Gc(e,n,i);return Bc[r]||(Bc[r]=new Nc(t,e,n,i)),Bc[r]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Jc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Jc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Ne(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Jc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Xc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Zc(t,e){this.a=e,Qi(this,"verificationId",t)}function Qc(t,e,n,i){return new Fo(t).gb(e,n).then((function(t){return new Zc(t,i)}))}function $c(t){var e=Wr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$i(this,{token:t,expirationTime:Wi(1e3*e.exp),authTime:Wi(1e3*e.auth_time),issuedAtTime:Wi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function tl(t,e,n){var i=e&&e[nl];if(!i)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new so(null,i),this.b=[];var r=this;H(e[el]||[],(function(t){(t=ir(t))&&r.b.push(t)})),Qi(this,"auth",this.a),Qi(this,"session",this.c),Qi(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Jc(this,!0,null,t.a),Ne()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(i,r,a,o).then((function(e){Jc(t,s,e,null)})).o((function(e){Jc(t,s,null,e)}))}(this,t,e):xe(new A("invalid-auth-event")):(Jc(this,!1,null,null),Ne())}else xe(new A("invalid-auth-event"))},Kc.prototype.ra=function(){var t=this;return new Se((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=Cn(Lc.get()).then((function(){t.b||(t.g=!0,Jc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ne()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(i,t,null,n)})).o((function(t){e.na(i,null,t,n)}))}(t,e):xe(new A("invalid-auth-event"))}else xe(new A("invalid-auth-event"))},Zc.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var el="mfaInfo",nl="mfaPendingCredential";function il(t,e,n,i){A.call(this,"multi-factor-auth-required",i,e),this.b=new tl(t,e,n),Qi(this,"resolver",this.b)}function rl(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(t){}return null}function ol(){}function al(t){Qi(this,"factorId",t.fa),this.a=t}function sl(t){if(al.call(this,t),this.a.fa!=Fo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function cl(t,e){this.a=t,this.b=[],this.c=S(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[ar]=t.uid),t.displayName&&(i[rr]=t.displayName),t.enrollmentTime&&(i[or]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[sr]=t.phoneNumber);try{e=new ur(i)}catch(t){}t=e}else t=null;t&&n.push(t)})),ll(this,n)}function ll(t,e){t.b=e,Qi(t,"enrolledFactors",e)}function hl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Hi()||!t?Ne():new Se((function(n){e=function(){Hi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fl(t,!0)})).o((function(e){t.i(e)&&fl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=Hr(e[$a]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){this.a=t||null,this.b=e||null,$i(this,{lastSignInTime:Wi(e||null),creationTime:Wi(t||null)})}function gl(t,e,n,i,r,o){$i(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function yl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.Z.SDK_VERSION?xi(i.Z.SDK_VERSION):null;this.a=new Za(this.l,P(N),r),(this.u=t.emulatorConfig||null)&&os(this.a,this.u),this.h=new dl(this.a),Al(this,e[$a]),vl(this.h,e),Qi(this,"refreshToken",this.h.a),xl(this,n||{}),_n.call(this),this.P=!1,this.s&&Mi()&&(this.b=qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new hl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=S(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){bl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Sl(o,t.f)},this.ja=null,this.S=new cl(this,n),Qi(this,"multiFactor",this.S)}function bl(t,e){t.u=e,os(t.a,e),t.b&&(e=t.b,t.b=qc(t.s,t.l,t.m,t.u),t.P&&(Mc(e,t),Pc(t.b,t)))}function wl(t,e){t.qa&&pn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&hn(e,"languageCodeChanged",t.Pa)}function Il(t,e){t.$&&pn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&hn(e,"emulatorConfigChanged",t.Ba)}function Sl(t,e){t.aa=e,ss(t.a,i.Z.SDK_VERSION?xi(i.Z.SDK_VERSION,t.aa):null)}function _l(t,e){t.ja&&pn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&hn(e,"frameworkChanged",t.Oa)}function El(t){try{return i.Z.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.J||t.D.b||(t.D.start(),pn(t,"tokenChanged",t.ba),hn(t,"tokenChanged",t.ba))}function kl(t){pn(t,"tokenChanged",t.ba),t.D.stop()}function Al(t,e){t.Aa=e,Qi(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return De(e).then((function(){return t}))}function Nl(t){t.b&&!t.P&&(t.P=!0,Pc(t.b,t))}function xl(t,e){$i(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ol(){}function Dl(t){return Ne().then((function(){if(t.J)throw new A("app-deleted")}))}function Pl(t){return z(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){Z(t.providerData,(function(t){return t.providerId==e}))}function Ll(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qi(t,e,n)}function jl(t,e){t!=e&&($i(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qi(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):Qi(t,"metadata",new ml),H(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qi(t,"refreshToken",t.h.a),ll(t.S,e.S.b))}function Fl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return iu(t.a,Ms,{idToken:e}).then(S(t.Kc,t))}(t,e).then((function(){return n||Ll(t,"isAnonymous",!1),e}))}))}function Ul(t,e){e[$a]&&t.Aa!=e[$a]&&(vl(t.h,e),t.dispatchEvent(new ul("tokenChanged")),Al(t,e[$a]),Ll(t,"refreshToken",t.h.a))}function Vl(t,e){return Fl(t).then((function(){if(Y(Pl(t),e))return Cl(t).then((function(){throw new A("provider-already-linked")}))}))}function Bl(t,e,n){return tr({user:t,credential:Vo(e),additionalUserInfo:e=Zr(e),operationType:n})}function Gl(t,e){return Ul(t,e),t.reload().then((function(){return t}))}function ql(t,e,n,r,o){if(!Mi())return xe(new A("operation-not-supported-in-this-environment"));if(t.i&&!o)return xe(t.i);var a=Xr(n.providerId),s=Bi(t.uid+":::"),u=null;(!ji()||Si())&&t.s&&n.isOAuthProvider&&(u=yu(t.s,t.l,t.m,e,n,null,s,i.Z.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=gi(u,a&&a.va,a&&a.ua);return r=r().then((function(){if(Hl(t),!o)return t.I().then((function(){}))})).then((function(){return jc(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Se((function(n,i){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=i,t.g=s,t.c=Vc(t.b,t,e,c,s)}))})).then((function(t){return c&&mi(c),t?tr(t):null})).o((function(t){throw c&&mi(c),t})),Wl(t,r,o)}function Kl(t,e,n,i,r){if(!Mi())return xe(new A("operation-not-supported-in-this-environment"));if(t.i&&!r)return xe(t.i);var o=null,a=Bi(t.uid+":::");return i=i().then((function(){if(Hl(t),!r)return t.I().then((function(){}))})).then((function(){return t.ga=a,Cl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yl,t.w(),e.a)),e})).then((function(){return Uc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,i,r)}function Hl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Wl(t,e,n){var i=function(t,e,n){return t.i&&!n?(e.cancel(),xe(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ul("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(i),i.oa((function(){X(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),El(t),S(t.jc,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$a]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new yl(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Ml(r,tr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Jl(t){this.a=t,this.b=ec()}tl.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=mt(e.f);return delete n[el],delete n[nl],yt(n,t),e.g(n)}))},T(il,A),ol.prototype.tb=function(t,e,n){return e.type==uo?function(t,e,n,i){return n.Ha().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),yt(n,{phoneVerificationInfo:jo(t.a)}),iu(e,Ds,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),iu(e,Ps,n)}))}(this,t,e)},T(al,ol),T(sl,al),T(ul,Qe),(t=cl.prototype).yc=function(t){ll(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=ir(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.fc=function(t,e){var n=this,i=this.a.a;return this.Sb().then((function(n){return t.tb(i,n,e)})).then((function(t){return Ul(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return iu(i,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=W(e.b,(function(t){return t.uid!=n}));return ll(e,i),Ul(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Se((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?us(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(ou(t)):t.access_token&&t.refresh_token?n(t):i(new A("internal-error")):i(new A("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):i(new A("internal-error"))}))}(t.f,e).then((function(e){return t.b=Hr(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ne(null):Ne({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(yl,_n),yl.prototype.xa=function(t){this.za=t,rs(this.a,t)},yl.prototype.la=function(){return this.za},yl.prototype.Ga=function(){return $(this.aa)},yl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qi(yl.prototype,"providerId","firebase"),(t=yl.prototype).reload=function(){var t=this;return Wl(this,Dl(this).then((function(){return Fl(t).then((function(){return Cl(t)})).then(Ol)})))},t.oc=function(t){return this.I(t).then((function(t){return new $c(t)}))},t.I=function(t){var e=this;return Wl(this,Dl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.Aa&&(Al(e,t.accessToken),e.dispatchEvent(new ul("tokenChanged"))),Ll(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");xl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new gl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Ll(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:t}))},t.Lc=function(t){return Xi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return Ul(e,t),n=Bl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Xi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Wl(this,Vl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bl(e,t,"link"),Gl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wl(this,Vl(this,"phone").then((function(){return Qc(El(n),t,e,S(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Wl(this,Ne().then((function(){return Qc(El(n),t,e,S(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ul(e,t),e.reload()})))},t.Db=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Ul(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ul(e,t),Ll(e,"displayName",t.displayName||null),Ll(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Qi(t,"displayName",e.displayName),Qi(t,"photoURL",e.photoURL))})),Cl(e)})).then(Ol))},t.cd=function(t){var e=this;return Wl(this,Fl(this).then((function(n){return Y(Pl(e),t)?function(t,e,n){return iu(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Pl(e),(function(t){n[t]||Rl(e,t)})),n[Fo.PROVIDER_ID]||Qi(e,"phoneNumber",null),Cl(e)})):Cl(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return iu(t.a,Cs,{idToken:e})})).then((function(){t.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");wl(t,null),Il(t,null),_l(t,null),t.N=[],t.J=!0,kl(t),Qi(t,"refreshToken",null),t.b&&Mc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?S(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?S(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?S(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?S(this.Mb,this):null},t.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,(function(){return Vl(e,t.providerId).then((function(){return Cl(e)}))}),!1)},t.Nc=function(t){return ql(this,"reauthViaPopup",t,(function(){return Ne()}),!0)},t.Fc=function(t){var e=this;return Kl(this,"linkViaRedirect",t,(function(){return Vl(e,t.providerId)}),!1)},t.Oc=function(t){return Kl(this,"reauthViaRedirect",t,(function(){return Ne()}),!0)},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return Is(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=Bl(r,t,"link"),Gl(r,t)})).then((function(){return o})))},t.Mb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,Ne().then((function(){return ho(Ss(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=Bl(r,t,"reauthenticate"),Ul(r,t),r.i=null,r.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:Gr(new Dr(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,i=null;return Wl(this,this.I().then((function(t){return i=t,void 0===e||vt(e)?{}:Gr(new Dr(e))})).then((function(e){return n.a.Fb(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wl(this,t=ho(Ne(t),n.uid).then((function(t){return e=Bl(n,t,"reauthenticate"),Ul(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.S.w()),t};var Yl={name:"redirectUser",F:"session"};function Xl(t){return rc(t.b,Yl,t.a)}function Zl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=th("local"),n=th("session"),i=th("none");return function(t,e,n){var i=ic(e,n),r=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Vi(u.localStorage.getItem(i))}catch(t){}if(a&&!o)return u.localStorage.removeItem(i),t.set(e,a,n);a&&o&&"localStorage"!=r.type&&u.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get($l,t.a).then((function(t){return t?th(t):e}))}))}))})).then((function(e){return t.c=e,Ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(th("local"),this.a,S(this.g,this))}function Ql(t,e){var n,i=[];for(n in $u)$u[n]!==e&&i.push(rc(t.b,th($u[n]),t.a));return i.push(rc(t.b,$l,t.a)),function(t){return new Se((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},a=function(t){n(t)},s=0;s<t.length;s++)Oe(t[s],_(o,s),a);else e(r)}))}(i)}Zl.prototype.g=function(){var t=this,e=th("local");rh(this,(function(){return Ne().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Ql(t,"local").then((function(){t.c=e}))}))}))};var $l={name:"persistence",F:"session"};function th(t){return{name:"authUser",F:t}}function eh(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nh(t){return rh(t,(function(){return rc(t.b,t.c,t.a)}))}function ih(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function oh(t){if(this.l=!1,Qi(this,"settings",new Xc),Qi(this,"app",t),!dh(this).options||!dh(this).options.apiKey)throw new A("invalid-api-key");t=i.Z.SDK_VERSION?xi(i.Z.SDK_VERSION):null,this.a=new Za(dh(this).options&&dh(this).options.apiKey,P(N),t),this.P=[],this.s=[],this.N=[],this.Pa=i.Z.INTERNAL.createSubscribe(S(this.zc,this)),this.W=void 0,this.ib=i.Z.INTERNAL.createSubscribe(S(this.Ac,this)),hh(this,null),this.i=new Zl(dh(this).options.apiKey+":"+dh(this).name),this.D=new Jl(dh(this).options.apiKey+":"+dh(this).name),this.$=gh(this,function(t){var e=dh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.D,dh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return gh(t,e)}(t).then((function(){return ih(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return eh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nh(t.i)}))):null})).then((function(e){hh(t,e||null)}));return gh(t,n)}(this)),this.h=gh(this,function(t){return t.$.then((function(){return lh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(th("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=S(this.Zc,this),this.Ba=S(this.da,this),this.qa=S(this.mc,this),this.za=S(this.wc,this),this.Aa=S(this.xc,this),this.b=null,function(t){var e=dh(t).options.authDomain,n=dh(t).options.apiKey;e&&Mi()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=qc(e,n,dh(t).name,t.R),Pc(t.b,t),ph(t)&&Nl(ph(t)),t.m){Nl(t.m);var i=t.m;i.xa(t.la()),wl(i,t),Sl(i=t.m,t.J),_l(i,t),bl(i=t.m,t.R),Il(i,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Bn(this.R.url);t=tr({protocol:t.c,host:t.a,port:t.g,options:tr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function ah(t){Qe.call(this,"languageCodeChanged"),this.h=t}function sh(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function uh(t){Qe.call(this,"frameworkChanged"),this.f=t}function ch(t){return t.Oa||xe(new A("auth-domain-config-required"))}function lh(t){if(!Mi())return xe(new A("operation-not-supported-in-this-environment"));var e=ch(t).then((function(){return t.b.ra()})).then((function(t){return t?tr(t):null}));return gh(t,e)}function hh(t,e){ph(t)&&(function(t,e){Z(t.W,(function(t){return t==e}))}(ph(t),t.Ba),pn(ph(t),"tokenChanged",t.qa),pn(ph(t),"userDeleted",t.za),pn(ph(t),"userInvalidated",t.Aa),kl(ph(t))),e&&(e.W.push(t.Ba),hn(e,"tokenChanged",t.qa),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Tl(e)),Qi(t,"currentUser",e),e&&(e.xa(t.la()),wl(e,t),Sl(e,t.J),_l(e,t),bl(e,t.R),Il(e,t))}function fh(t,e){var n=null,i=null;return gh(t,e.then((function(e){return n=Vo(e),i=Zr(e),function(t,e){var n={};return n.apiKey=dh(t).options.apiKey,n.authDomain=dh(t).options.authDomain,n.appName=dh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,i){var r=new yl(t,e);return n&&(r.ha=n),i&&Sl(r,i),r.reload().then((function(){return r}))}(n,e,t.D,t.Ga())})).then((function(e){return ph(t)&&e.uid==ph(t).uid?(jl(ph(t),e),t.da(e)):(hh(t,e),Nl(e),t.da(e))})).then((function(){mh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),t,S(t.kc,t))),n||e})).then((function(){return tr({user:ph(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function dh(t){return t.app}function ph(t){return t.currentUser}function vh(t){return ph(t)&&ph(t)._lat||null}function mh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](vh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](vh(t))}}function gh(t,e){return t.P.push(e),e.oa((function(){X(t.P,e)})),e}function yh(){}function bh(){this.a={},this.b=1e12}Zl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(i in $u)if($u[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Ei()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Du()&&"none"!==t)throw n;break;default:if(!Pi()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Ql(n,t)})).then((function(){if(n.c=th(t),e)return n.b.set(n.c,e,n.a)})):Ne()}))},T(oh,_n),T(ah,Qe),T(sh,Qe),T(uh,Qe),(t=oh.prototype).yb=function(t){return gh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wi().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,os(this.a,this.R),this.dispatchEvent(new sh(this.R))}},t.Gc=function(t){this.J.push(t),ss(this.a,i.Z.SDK_VERSION?xi(i.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new uh(this.J))},t.Ga=function(){return $(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:dh(this).options.apiKey,authDomain:dh(this).options.authDomain,appName:dh(this).name,currentUser:ph(this)&&ph(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?S(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then((function(){return fh(r,ws(r.a,o))}))},t.Xc=function(t){if(!Mi())return xe(new A("operation-not-supported-in-this-environment"));var e=this,n=Xr(t.providerId),r=Bi(),o=null;(!ji()||Si())&&dh(this).options.authDomain&&t.isOAuthProvider&&(o=yu(dh(this).options.authDomain,dh(this).options.apiKey,dh(this).name,"signInViaPopup",t,null,r,i.Z.SDK_VERSION||null,null,null,this.T(),this.R));var a=gi(o,n&&n.va,n&&n.ua);return gh(this,n=ch(this).then((function(n){return jc(n,a,"signInViaPopup",t,r,!!o,e.T())})).then((function(){return new Se((function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Vc(e.b,e,"signInViaPopup",a,r)}))})).then((function(t){return a&&mi(a),t?tr(t):null})).o((function(t){throw a&&mi(a),t})))},t.Yc=function(t){if(!Mi())return xe(new A("operation-not-supported-in-this-environment"));var e=this;return gh(this,ch(this).then((function(){return function(t){return rh(t,(function(){return t.b.set($l,t.c.F,t.a)}))}(e.i)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return lh(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return xe(new A("null-user"));if(this.S!=t.tenantId)return xe(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=dh(this).options.apiKey,n.authDomain=dh(this).options.authDomain,n.appName=dh(this).name;var i=function(t,e,n,i){var r=t.h,o={};return o[$a]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new yl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),i&&Sl(e,i),jl(e,t),e}(t,n,e.D,e.Ga());return gh(this,this.h.then((function(){if(dh(e).options.apiKey!=t.l)return i.reload()})).then((function(){return ph(e)&&t.uid==ph(e).uid?(jl(ph(e),t),e.da(t)):(hh(e,i),Nl(i),e.da(i))})).then((function(){mh(e)})))},t.Bb=function(){var t=this;return gh(this,this.h.then((function(){return t.b&&Wc(t.b.b),ph(t)?(hh(t,null),nh(t.i).then((function(){mh(t)}))):Ne()})))},t.Zc=function(){var t=this;return ih(this.i,dh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ph(t)&&e){n=ph(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return jl(ph(t),e),ph(t).I();(ph(t)||e)&&(hh(t,e),e&&(Nl(e),e.ha=t.D),t.b&&Pc(t.b,t),mh(t))}}))},t.da=function(t){return eh(this.i,t)},t.mc=function(){mh(this),this.da(ph(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return fh(e,Ne(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ph(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),gh(t,t.h.then((function(){!t.l&&Y(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(vh(t)))})))}(this,(function(){t.next(ph(e))}))},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ph(i)):"function"==typeof t.next&&t.next(ph(i))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then((function(){i.W=i.getUid(),"function"==typeof t?t(ph(i)):"function"==typeof t.next&&t.next(ph(i))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return gh(this,this.h.then((function(){return ph(e)?ph(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return fh(e,iu(e.a,Zs,{token:t}))})).then((function(t){var n=t.user;return Ll(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return fh(n,iu(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return fh(n,iu(n.a,ks,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return fh(e,t.ka(e.a))}))},t.Sc=function(t){return Xi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ph(t);if(e&&e.isAnonymous){var n=tr({providerId:null,isNewUser:!1});return tr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fh(t,t.a.Ab()).then((function(e){var n=e.user;return Ll(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ph(this)&&ph(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ph(this)&&Tl(ph(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ph(this)&&kl(ph(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),gh(this,this.h.then((function(){e.l||Y(e.s,t)&&t(vh(e))})))},t.removeAuthTokenListener=function(t){Z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(th("local"),t.a,this.ja),this.b&&(Mc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return gh(this,function(t,e){return iu(t,As,{identifier:e,continueUri:Ri()?fi():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Mo(t)},t.xb=function(t,e){var n=this;return gh(this,Ne().then((function(){var t=new Dr(e);if(!t.c)throw new A("argument-error",Rr+" must be true when sending sign in link to email");return Gr(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return gh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return gh(this,this.a.Sa(t).then((function(t){return new cr(t)})))},t.kb=function(t){return gh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return gh(this,Ne().then((function(){return void 0===e||vt(e)?{}:Gr(new Dr(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return gh(this,Qc(this,t,e,S(this.ab,this)))},t.Vc=function(t,e){var n=this;return gh(this,Ne().then((function(){var i=e||fi(),r=Po(t,i);if(!(i=Mo(i)))throw new A("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.ab(r)})))},yh.prototype.render=function(){},yh.prototype.reset=function(){},yh.prototype.getResponse=function(){},yh.prototype.execute=function(){};var wh=null;function Ih(t,e){return(e=Sh(e))&&t.a[e]||null}function Sh(t){return(t=void 0===t?1e12:t)?t.toString():null}function _h(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Eh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function kh(){}bh.prototype.render=function(t,e){return this.a[this.b.toString()]=new _h(t,e),this.b++},bh.prototype.reset=function(t){var e=Ih(this,t);t=Sh(t),e&&t&&(e.delete(),delete this.a[t])},bh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},bh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},_h.prototype.getResponse=function(){return Eh(this),this.b},_h.prototype.execute=function(){Eh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},_h.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Qi(Th,"FACTOR_ID","phone"),kh.prototype.g=function(){return wh||(wh=new bh),Ne(wh)},kh.prototype.c=function(){};var Ah=null;function Ch(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new wt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new Ki(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new Se((function(n,i){var r=setTimeout((function(){i(new A("network-request-failed"))}),xh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(u.grecaptcha)}else clearTimeout(r),i(new A("internal-error"));delete u[e.a]},Ne(Ka(Ct(Nh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(u.grecaptcha))}))},Ch.prototype.c=function(){this.b--};var Oh=null;function Dh(t,e,n,i,r,o,a){if(Qi(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Ah||(Ah=new kh),a=Ah):(Oh||(Oh=new Ch),a=Oh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Za(t,o||null,r||null),this.u=i||function(){return null};var s=this;this.l=[];var c=this.a[Ph];this.a[Ph]=function(t){if(jh(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Di(c,u);"function"==typeof e&&e(t)}};var l=this.a[Mh];this.a[Mh]=function(){if(jh(s,null),"function"==typeof l)l();else if("string"==typeof l){var t=Di(l,u);"function"==typeof t&&t()}}}var Ph="callback",Mh="expired-callback",Rh="sitekey",Lh="size";function jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.oa((function(){X(t.h,e)})),e}function Uh(t){if(t.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(t,e,n){var r=!1;try{this.b=n||i.Z.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=i.Z.SDK_VERSION?xi(i.Z.SDK_VERSION,a):null,Dh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,P(N),r)}function Bh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=Gh.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Gh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new A("argument-error",t+" failed: "+i)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,Ne().then((function(){if(Ri()&&!_i())return wi();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,iu(t.s,Vs,{})})).then((function(e){t.a[Rh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=me(r,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<i.length&&ve(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uh(this);var t=this;return Fh(this,this.render().then((function(e){return new Se((function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){Z(t.l,(function(t){return t==e}))}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Uh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Vh,Dh);var Gh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Hh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function Wh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Jh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return m(t)&&"string"==typeof t.uid}function Zh(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Qh(t,e){for(var n in e){var i=e[n].name;t[i]=ef(i,t[n],e[n].j)}}function $h(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,i){Bh(t,[n],[i],!0),this[e]=i}),i,n,e[n].lb),enumerable:!0})}}function tf(t,e,n,i){t[e]=ef(e,n,i)}function ef(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Bh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Qh(oh.prototype,{kb:{name:"applyActionCode",j:[qh("code")]},Sa:{name:"checkActionCode",j:[qh("code")]},ob:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Hh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Hh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[qh("email"),Zh(Hh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[qh("email"),Hh("actionCodeSettings")]},yb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Jh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Jh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yl)}},zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Hh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),$h(oh.prototype,{lc:{name:"languageCode",lb:Zh(qh(),zh(),"languageCode")},ti:{name:"tenantId",lb:Zh(qh(),zh(),"tenantId")}}),oh.Persistence=$u,oh.Persistence.LOCAL="local",oh.Persistence.SESSION="session",oh.Persistence.NONE="none",Qh(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Jh()]},rb:{name:"linkWithCredential",j:[Jh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jh()]},ub:{name:"reauthenticateWithCredential",j:[Jh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zh(Hh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Cb:{name:"updateEmail",j:[qh("email")]},Db:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Jh("phone")]},Eb:{name:"updateProfile",j:[Hh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Zh(Hh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(Se.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$h(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Kh("appVerificationDisabledForTesting")}}),Qh(Zc.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),tf(lo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[yo,Oo,Lo,vo],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Zh(qh(),Hh(),"json")]),tf(Do,"credential",(function(t,e){return new xo(t,e)}),[qh("email"),qh("password")]),Qh(xo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(So.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Hh("customOAuthParameters")]}}),tf(So,"credential",_o,[Zh(qh(),Hh(),"token")]),tf(Do,"credentialWithLink",Po,[qh("email"),qh("emailLink")]),Qh(Eo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Hh("customOAuthParameters")]}}),tf(Eo,"credential",To,[Zh(qh(),Hh(),"token")]),Qh(ko.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Hh("customOAuthParameters")]}}),tf(ko,"credential",Ao,[Zh(qh(),Zh(Hh(),zh()),"idToken"),Zh(qh(),zh(),"accessToken",!0)]),Qh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Hh("customOAuthParameters")]}}),tf(Co,"credential",No,[Zh(qh(),Hh(),"token"),qh("secret",!0)]),Qh(Io.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Zh(qh(),Zh(Hh(),zh()),"optionsOrIdToken"),Zh(qh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Hh("customOAuthParameters")]}}),Qh(mo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(fo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),tf(Fo,"credential",Uo,[qh("verificationId"),qh("verificationCode")]),Qh(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[Zh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yh(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yh(t.session,co)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?Yh(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Qh(Ro.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(A.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Jo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(zo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(il.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Qh(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Qh(cl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},qh(),"multiFactorInfoIdentifier")]}}),Qh(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(_r,"parseLink",Or,[qh("link")]),tf(Th,"assertion",(function(t){return new sl(t)}),[Jh("phone")]),function(){if(void 0===i.Z||!i.Z.INTERNAL||!i.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:lr,VERIFY_AND_CHANGE_EMAIL:fr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:oh,AuthCredential:lo,Error:A};tf(t,"EmailAuthProvider",Do,[]),tf(t,"FacebookAuthProvider",So,[]),tf(t,"GithubAuthProvider",Eo,[]),tf(t,"GoogleAuthProvider",ko,[]),tf(t,"TwitterAuthProvider",Co,[]),tf(t,"OAuthProvider",Io,[qh("providerId")]),tf(t,"SAMLAuthProvider",wo,[qh("providerId")]),tf(t,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof oh)}}]),tf(t,"RecaptchaVerifier",Vh,[Zh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.Z.app.App)}}]),tf(t,"ActionCodeURL",_r,[]),tf(t,"PhoneMultiFactorGenerator",Th,[]),i.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new oh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),i.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:S((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:S(t.nc,t),addAuthTokenListener:S(t.cc,t),removeAuthTokenListener:S(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.Z.registerVersion("@firebase/auth","0.16.8"),i.Z.INTERNAL.extendNamespace({User:yl})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},9433:(t,e,n)=>{"use strict";n.r(e);var i=n(6099),r=n(655),o=n(4589),a=n(4594),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function S(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function _(){this.s=this.s,this.o=this.o}var E={};_.prototype.s=!1,_.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(this);delete E[t]}},_.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var x,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var M=f.navigator;if(M){var R=M.userAgent;if(R){x=R;break t}}x=""}function L(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function j(t){var e={};for(var n in t)e[n]=t[n];return e}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function V(t){return V[" "](t),t}V[" "]=d;var B,G,q=D(x,"Opera"),K=D(x,"Trident")||D(x,"MSIE"),H=D(x,"Edge"),W=H||K,z=D(x,"Gecko")&&!(D(x.toLowerCase(),"webkit")&&!D(x,"Edge"))&&!(D(x,"Trident")||D(x,"MSIE"))&&!D(x,"Edge"),J=D(x.toLowerCase(),"webkit")&&!D(x,"Edge");function Y(){var t=f.document;return t?t.documentMode:void 0}t:{var X="",Z=(G=x,z?/rv:([^\);]+)(\)|;)/.exec(G):H?/Edge\/([\d\.]+)/.exec(G):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(G):J?/WebKit\/(\S+)/.exec(G):q?/(?:Version)[ \/]?(\S+)/.exec(G):void 0);if(Z&&(X=Z?Z[1]:""),K){var Q=Y();if(null!=Q&&Q>parseFloat(X)){B=String(Q);break t}}B=X}var $,tt={};function et(){return t=tt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=O(String(B)).split("."),n=O("9").split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var o=e[r]||"",a=n[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=P(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==o[2].length,0==a[2].length)||P(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}f.document&&K?$=Y()||parseInt(B,10)||void 0:$=void 0;var nt=$,it=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(t){}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ot(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z){t:{try{V(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:at[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ot.Z.h.call(this)}}rt.prototype.h=function(){this.defaultPrevented=!0},S(ot,rt);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++ut,this.ca=this.fa=!1}function lt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ht(t){this.src=t,this.g={},this.h=0}function ft(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=T(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(lt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==i)return r}return-1}ht.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=dt(t,e,i,r);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ct(e,this.src,o,!!i,r)).fa=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),vt={};function mt(t,e,n,i,r){if(i&&i.once)return yt(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,i,r);return null}return n=Tt(n),t&&t[st]?t.N(e,n,v(i)?!!i.capture:!!i,r):gt(t,e,n,!1,i,r)}function gt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=v(r)?!!r.capture:!!r,s=_t(t);if(s||(t[pt]=s=new ht(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=St;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)it||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(It(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function yt(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,i,r);return null}return n=Tt(n),t&&t[st]?t.O(e,n,v(i)?!!i.capture:!!i,r):gt(t,e,n,!0,i,r)}function bt(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)bt(t,e[o],n,i,r);else i=v(i)?!!i.capture:!!i,n=Tt(n),t&&t[st]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=dt(o=t.g[e],n,i,r))&&(lt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=_t(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,i,r)),(n=-1<t?e[t]:null)&&wt(n))}function wt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[st])ft(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(It(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=_t(e))?(ft(n,t),0==n.h&&(n.src=null,e[pt]=null)):lt(t)}}}function It(t){return t in vt?vt[t]:vt[t]="on"+t}function St(t,e){if(t.ca)t=!0;else{e=new ot(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&wt(t),t=n.call(i,e)}return t}function _t(t){return(t=t[pt])instanceof ht?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(t){return"function"==typeof t?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function kt(){_.call(this),this.i=new ht(this),this.P=this,this.I=null}function At(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var r=e;U(e=new rt(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Ct(a,i,!0,e)&&r}if(r=Ct(a=e.g=t,i,!0,e)&&r,r=Ct(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Ct(a=e.g=n[o],i,!1,e)&&r}function Ct(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ft(t.i,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}S(kt,_),kt.prototype[st]=!0,kt.prototype.removeEventListener=function(t,e,n,i){bt(this,t,e,n,i)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)lt(n[i]);delete e.g[t],e.h--}}this.I=null},kt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},kt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Nt=f.JSON.stringify;function xt(){var t=Ft,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ot,Dt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Pt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Mt}),(function(t){return t.reset()})),Mt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Rt(t){f.setTimeout((function(){throw t}),0)}function Lt(t,e){Ot||function(){var t=f.Promise.resolve(void 0);Ot=function(){t.then(Ut)}}(),jt||(Ot(),jt=!0),Ft.add(t,e)}var jt=!1,Ft=new Dt;function Ut(){for(var t;t=xt();){try{t.h.call(t.g)}catch(t){Rt(t)}var e=Pt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jt=!1}function Vt(t,e){kt.call(this),this.h=t||1,this.g=e||f,this.j=w(this.kb,this),this.l=Date.now()}function Bt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Gt(t,e,n){if("function"==typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function qt(t){t.g=Gt((function(){t.g=null,t.i&&(t.i=!1,qt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}S(Vt,kt),(c=Vt.prototype).da=!1,c.S=null,c.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),At(this,"tick"),this.da&&(Bt(this),this.start()))}},c.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){Vt.Z.M.call(this),Bt(this),delete this.g};var Kt=function(t){function e(e,n){var i=t.call(this)||this;return i.m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:qt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(_);function Ht(t){_.call(this),this.h=t,this.g={}}S(Ht,_);var Wt=[];function zt(t,e,n,i){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var r=0;r<n.length;r++){var o=mt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Jt(t){L(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Yt(){this.g=!0}function Xt(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return Nt(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}Ht.prototype.M=function(){Ht.Z.M.call(this),Jt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.Aa=function(){this.g=!1},Yt.prototype.info=function(){};var Zt={},Qt=null;function $t(){return Qt=Qt||new kt}function te(t){rt.call(this,Zt.Ma,t)}function ee(t){var e=$t();At(e,new te(e,t))}function ne(t,e){rt.call(this,Zt.STAT_EVENT,t),this.stat=e}function ie(t){var e=$t();At(e,new ne(e,t))}function re(t,e){rt.call(this,Zt.Na,t),this.size=e}function oe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}Zt.Ma="serverreachability",S(te,rt),Zt.STAT_EVENT="statevent",S(ne,rt),Zt.Na="timingevent",S(re,rt);var ae={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ue(){}function ce(t){return t.h||(t.h=t.i())}function le(){}ue.prototype.h=null;var he,fe={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function de(){rt.call(this,"d")}function pe(){rt.call(this,"c")}function ve(){}function me(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Ht(this),this.P=ye,t=W?125:void 0,this.W=new Vt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}S(de,rt),S(pe,rt),S(ve,ue),ve.prototype.g=function(){return new XMLHttpRequest},ve.prototype.i=function(){return{}},he=new ve;var ye=45e3,be={},we={};function Ie(t,e,n){t.K=1,t.v=Ke(Fe(e)),t.s=n,t.U=!0,Se(t,null)}function Se(t,e){t.F=Date.now(),ke(t),t.A=Fe(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),rn(n.h,"t",i),t.C=0,n=t.l.H,t.h=new ge,t.g=oi(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Kt(w(t.Ia,t,t.g),t.O)),zt(t.V,t.g,"readystatechange",t.gb),e=t.H?j(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ee(1),function(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function _e(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ee(t,e,n){for(var i,r=!0;!t.I&&t.C<n.length;){if((i=Te(t,n))==we){4==e&&(t.o=4,ie(14),r=!1),Xt(t.j,t.m,null,"[Incomplete Response]");break}if(i==be){t.o=4,ie(15),Xt(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Xt(t.j,t.m,i,null),Oe(t,i)}_e(t)&&i!=we&&i!=be&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ie(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zn(e),e.L=!0,ie(11))):(Xt(t.j,t.m,n,"[Invalid Chunked Response]"),xe(t),Ne(t))}function Te(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?we:(n=Number(e.substring(n,i)),isNaN(n)?be:(i+=1)+n>e.length?we:(e=e.substr(i,n),t.C=i+n,e))}function ke(t){t.Y=Date.now()+t.P,Ae(t,t.P)}function Ae(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=oe(w(t.eb,t),e)}function Ce(t){t.B&&(f.clearTimeout(t.B),t.B=null)}function Ne(t){0==t.l.G||t.I||ti(t.l,t)}function xe(t){Ce(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Bt(t.W),Jt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||hn(n.i,t)))if(n.I=t.N,!t.J&&hn(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(o){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;$n(n),Gn(n)}Xn(n),ie(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=oe(w(n.ab,n),6e3));if(1>=ln(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ni(n,11)}else if((t.J||n.g==t)&&$n(n),!N(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){var o=r[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(i=1.5*u,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=i.i;!h.g&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(fn(h,h.h),h.h=null))}if(i.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(i.sa=f,qe(i.F,i.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((i=n).oa=ri(i,i.H?i.la:null,i.W),d.J){dn(i.i,d);var p=d,v=i.K;v&&p.setTimeout(v),p.B&&(Ce(p),ke(p)),i.g=d}else Yn(i);0<n.l.length&&Hn(n)}else"stop"!=o[0]&&"close"!=o[0]||ni(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ni(n,7):Bn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ee(4)}catch(o){}}function De(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)k(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Pe(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Pe)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Me(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Re(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)Re(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function Re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=me.prototype).setTimeout=function(t){this.P=t},c.gb=function(t){t=t.target;var e=this.L;e&&3==Ln(t)?e.l():this.Ia(t)},c.Ia=function(t){try{if(t==this.g)t:{var e=Ln(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(3!=e||W||this.g&&(this.h.h||this.g.ga()||jn(this.g)))){this.I||4!=e||7==n||ee(8==n||0>=i?3:2),Ce(this);var r=this.g.ba();this.N=r;e:if(_e(this)){var o=jn(this.g);t="";var a=o.length,s=4==Ln(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xe(this),Ne(this);var u="";break e}this.h.i=new f.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==r,function(t,e,n,i,r,o,a){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,r),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(c)){var h=c;break e}}h=null}if(!(r=h)){this.i=!1,this.o=3,ie(12),xe(this),Ne(this);break t}Xt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oe(this,r)}this.U?(Ee(this,e,u),W&&this.i&&3==e&&(zt(this.V,this.W,"tick",this.fb),this.W.start())):(Xt(this.j,this.m,u,null),Oe(this,u)),4==e&&xe(this),this.i&&!this.I&&(4==e?ti(this.l,this):(this.i=!1,ke(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ie(12)):(this.o=0,ie(13)),xe(this),Ne(this)}}}catch(e){}},c.fb=function(){if(this.g){var t=Ln(this.g),e=this.g.ga();this.C<e.length&&(Ce(this),Ee(this,t,e),this.i&&4!=t&&ke(this))}},c.cancel=function(){this.I=!0,xe(this)},c.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ee(3),ie(17)),xe(this),this.o=2,Ne(this)):Ae(this,this.Y-t)},(c=Pe.prototype).R=function(){Me(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},c.T=function(){return Me(this),this.g.concat()},c.get=function(t,e){return Re(this.h,t)?this.h[t]:e},c.set=function(t,e){Re(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},c.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Le=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function je(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof je){this.g=void 0!==e?e:t.g,Ue(this,t.j),this.s=t.s,Ve(this,t.i),Be(this,t.m),this.l=t.l,e=t.h;var n=new $e;n.i=e.i,e.g&&(n.g=new Pe(e.g),n.h=e.h),Ge(this,n),this.o=t.o}else t&&(n=String(t).match(Le))?(this.g=!!e,Ue(this,n[1]||"",!0),this.s=He(n[2]||""),Ve(this,n[3]||"",!0),Be(this,n[4]),this.l=He(n[5]||"",!0),Ge(this,n[6]||"",!0),this.o=He(n[7]||"")):(this.g=!!e,this.h=new $e(null,this.g))}function Fe(t){return new je(t)}function Ue(t,e,n){t.j=n?He(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ve(t,e,n){t.i=n?He(e,!0):e}function Be(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ge(t,e,n){e instanceof $e?(t.h=e,function(t,e){e&&!t.j&&(tn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(en(this,e),rn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=We(e,Ze)),t.h=new $e(e,t.g))}function qe(t,e,n){t.h.set(e,n)}function Ke(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function We(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}je.prototype.toString=function(){var t=[],e=this.j;e&&t.push(We(e,Je,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(We(e,Je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(We(n,"/"==n.charAt(0)?Xe:Ye,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",We(n,Qe)),t.join("")};var Je=/[#\/\?@]/g,Ye=/[#\?:]/g,Xe=/[#\?]/g,Ze=/[#\?@]/g,Qe=/#/g;function $e(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tn(t){t.g||(t.g=new Pe,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function en(t,e){tn(t),e=on(t,e),Re(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Re((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Me(t)))}function nn(t,e){return tn(t),e=on(t,e),Re(t.g.h,e)}function rn(t,e,n){en(t,e),0<n.length&&(t.i=null,t.g.set(on(t,e),C(n)),t.h+=n.length)}function on(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(c=$e.prototype).add=function(t,e){tn(this),this.i=null,t=on(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},c.forEach=function(t,e){tn(this),this.g.forEach((function(n,i){k(n,(function(n){t.call(e,n,i,this)}),this)}),this)},c.T=function(){tn(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},c.R=function(t){tn(this);var e=[];if("string"==typeof t)nn(this,t)&&(e=A(e,this.g.get(on(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},c.set=function(t,e){return tn(this),this.i=null,nn(this,t=on(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},c.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.i=t.join("&")};var an=function(t,e){this.h=t,this.g=e};function sn(t){this.l=t||un,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.g&&f.g.Ea&&f.g.Ea()&&f.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ln(t){return t.h?1:t.g?t.g.size:0}function hn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fn(t,e){t.g?t.g.add(e):t.h=e}function dn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var i=t.i;try{for(var r=u(t.g.values()),o=r.next();!o.done;o=r.next()){var a=o.value;i=i.concat(a.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return C(t.i)}function vn(){}function mn(){this.g=new vn}function gn(t,e,n){var i=n||"";try{De(t,(function(t,n){var r=t;v(t)&&(r=Nt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function yn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}function bn(t){this.l=t.$b||null,this.j=t.ib||!1}function wn(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=In,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){var t,e;if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=u(this.g.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},vn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return f.JSON.parse(t,void 0)},S(bn,ue),bn.prototype.g=function(){return new wn(this.l,this.j)},bn.prototype.i=function(t){return function(){return t}}({}),S(wn,kt);var In=0;function Sn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function _n(t){t.readyState=4,t.l=null,t.j=null,t.A=null,En(t)}function En(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(c=wn.prototype).open=function(t,e){if(this.readyState!=In)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,En(this)},c.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||f).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_n(this)),this.readyState=In},c.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==f.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},c.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_n(this):En(this),3==this.readyState&&Sn(this)}},c.Ua=function(t){this.g&&(this.response=this.responseText=t,_n(this))},c.Ta=function(t){this.g&&(this.response=t,_n(this))},c.ha=function(){this.g&&_n(this)},c.setRequestHeader=function(t,e){this.v.append(t,e)},c.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Tn=f.JSON.parse;function kn(t){kt.call(this),this.headers=new Pe,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=An,this.K=this.L=!1}S(kn,kt);var An="",Cn=/^https?$/i,Nn=["POST","PUT"];function xn(t){return"content-type"==t.toLowerCase()}function On(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Dn(t),Mn(t)}function Dn(t){t.D||(t.D=!0,At(t,"complete"),At(t,"error"))}function Pn(t){if(t.h&&void 0!==h&&(!t.C[1]||4!=Ln(t)||2!=t.ba()))if(t.v&&4==Ln(t))Gt(t.Fa,0,t);else if(At(t,"readystatechange"),4==Ln(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.H).match(Le)[1]||null;if(!o&&f.self&&f.self.location){var a=f.self.location.protocol;o=a.substr(0,a.length-1)}r=!Cn.test(o?o.toLowerCase():"")}e=r}if(e)At(t,"complete"),At(t,"success");else{t.m=6;try{var s=2<Ln(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",Dn(t)}}finally{Mn(t)}}}function Mn(t,e){if(t.g){Rn(t);var n=t.g,i=t.C[0]?d:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function Rn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(f.clearTimeout(t.A),t.A=null)}function Ln(t){return t.g?t.g.readyState:0}function jn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case An:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vn(t){this.za=0,this.l=[],this.h=new Yt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,t),this.$a=Un("retryDelaySeedMs",1e4,t),this.Ya=Un("forwardChannelMaxRetries",2,t),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sn(t&&t.concurrentRequestLimit),this.Ca=new mn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Bn(t){if(qn(t),3==t.G){var e=t.V++,n=Fe(t.F);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),zn(t,n),(e=new me(t,t.h,e,void 0)).K=2,e.v=Ke(Fe(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.v.toString(),"")),!n&&f.Image&&((new Image).src=e.v,n=!0),n||(e.g=oi(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ke(e)}ii(t)}function Gn(t){t.g&&(Zn(t),t.g.cancel(),t.g=null)}function qn(t){Gn(t),t.u&&(f.clearTimeout(t.u),t.u=null),$n(t),t.i.cancel(),t.m&&("number"==typeof t.m&&f.clearTimeout(t.m),t.m=null)}function Kn(t,e){t.l.push(new an(t.Za++,e)),3==t.G&&Hn(t)}function Hn(t){cn(t.i)||t.m||(t.m=!0,Lt(t.Ha,t),t.C=0)}function Wn(t,e){var n;n=e?e.m:t.V++;var i=Fe(t.F);qe(i,"SID",t.J),qe(i,"RID",n),qe(i,"AID",t.U),zn(t,i),t.o&&t.s&&Fn(i,t.o,t.s),n=new me(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Jn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),fn(t.i,n),Ie(n,i,e)}function zn(t,e){t.j&&De({},(function(t,n){qe(e,n,t)}))}function Jn(t,e,n){n=Math.min(t.l.length,n);var i=t.j?w(t.j.Oa,t.j,t):null;t:for(var r=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=r[u].h,l=r[u].g;if(0>(c-=o))o=Math.max(0,r[u].h-100),s=!1;else try{gn(l,a,"req"+c+"_")}catch(t){i&&i(l)}}if(s){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function Yn(t){t.g||t.u||(t.Y=1,Lt(t.Ga,t),t.A=0)}function Xn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=oe(w(t.Ga,t),ei(t,t.A)),t.A++,0))}function Zn(t){null!=t.B&&(f.clearTimeout(t.B),t.B=null)}function Qn(t){t.g=new me(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Fe(t.oa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.N?"0":"1"),qe(e,"AID",t.U),zn(t,e),qe(e,"TYPE","xmlhttp"),t.o&&t.s&&Fn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ke(Fe(e)),n.s=null,n.U=!0,Se(n,t)}function $n(t){null!=t.v&&(f.clearTimeout(t.v),t.v=null)}function ti(t,e){var n=null;if(t.g==e){$n(t),Zn(t),t.g=null;var i=2}else{if(!hn(t.i,e))return;n=e.D,dn(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;At(i=$t(),new re(i,n,e,r)),Hn(t)}else Yn(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(ln(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=oe(w(t.Ha,t,e),ei(t,t.C)),t.C++,0)))}(t,e)||2==i&&Xn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:ni(t,5);break;case 4:ni(t,10);break;case 3:ni(t,6);break;default:ni(t,2)}}function ei(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ni(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=w(t.jb,t);n||(n=new je("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Ue(n,"https"),Ke(n)),function(t,e){var n=new Yt;if(f.Image){var i=new Image;i.onload=I(yn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=I(yn,n,i,"TestLoadImage: error",!1,e),i.onabort=I(yn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=I(yn,n,i,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else ie(2);t.G=0,t.j&&t.j.va(e),ii(t),qn(t)}function ii(t){t.G=0,t.I=-1,t.j&&(0==pn(t.i).length&&0==t.l.length||(t.i.i.length=0,C(t.l),t.l.length=0),t.j.ua())}function ri(t,e,n){var i=function(t){return t instanceof je?Fe(t):new je(t,void 0)}(n);if(""!=i.i)e&&Ve(i,e+"."+i.i),Be(i,i.m);else{var r=f.location;i=function(t,e,n,i){var r=new je(null,void 0);return t&&Ue(r,t),e&&Ve(r,e),n&&Be(r,n),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&L(t.aa,(function(t,e){qe(i,e,t)})),e=t.D,n=t.sa,e&&n&&qe(i,e,n),qe(i,"VER",t.ma),zn(t,i),i}function oi(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new kn(new bn({ib:!0})):new kn(t.qa)).L=t.H,e}function ai(){}function si(){if(K&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function ui(t,e){kt.call(this),this.g=new Vn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new hi(this)}function ci(t){de.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function li(){pe.call(this),this.status=1}function hi(t){this.g=t}(c=kn.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():he.g(),this.C=this.u?ce(this.u):ce(he),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void On(this,t)}t=n||"";var r=new Pe(this.headers);i&&De(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=xn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.T()),n=f.FormData&&t instanceof f.FormData,!(0<=T(Nn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rn(this),0<this.B&&((this.K=function(t){return K&&et()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=Gt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){On(this,t)}},c.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},c.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),Mn(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mn(this,!0)),kn.Z.M.call(this)},c.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},c.cb=function(){Pn(this)},c.ba=function(){try{return 2<Ln(this)?this.g.status:-1}catch(t){return-1}},c.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},c.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tn(e)}},c.Da=function(){return this.m},c.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(c=Vn.prototype).ma=8,c.G=1,c.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},c.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new me(this,this.h,t,void 0),n=this.s;if(this.P&&(n?U(n=j(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(i+=o)){i=r;break t}if(4096===i||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Jn(this,e,i),qe(r=Fe(this.F),"RID",t),qe(r,"CVER",22),this.D&&qe(r,"X-HTTP-Session-Id",this.D),zn(this,r),this.o&&n&&Fn(r,this.o,n),fn(this.i,e),this.Ra&&qe(r,"TYPE","init"),this.ja?(qe(r,"$req",i),qe(r,"SID","null"),e.$=!0,Ie(e,r,null)):Ie(e,r,i),this.G=2}}else 3==this.G&&(t?Wn(this,t):0==this.l.length||cn(this.i)||Wn(this))},c.Ga=function(){if(this.u=null,Qn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=oe(w(this.bb,this),t)}},c.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ie(10),Gn(this),Qn(this))},c.ab=function(){null!=this.v&&(this.v=null,Gn(this),Xn(this),ie(19))},c.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ie(2)):(this.h.info("Failed to ping google.com"),ie(1))},(c=ai.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Oa=function(){},si.prototype.g=function(t,e){return new ui(t,e)},S(ui,kt),ui.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Lt(w(t.hb,t,e))),ie(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ri(t,null,t.W),Hn(t)},ui.prototype.close=function(){Bn(this.g)},ui.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Kn(this.g,e)}else this.v?((e={}).__data__=Nt(t),Kn(this.g,e)):Kn(this.g,t)},ui.prototype.M=function(){this.g.j=null,delete this.j,Bn(this.g),delete this.g,ui.Z.M.call(this)},S(ci,de),S(li,pe),S(hi,ai),hi.prototype.xa=function(){At(this.g,"a")},hi.prototype.wa=function(t){At(this.g,new ci(t))},hi.prototype.va=function(t){At(this.g,new li(t))},hi.prototype.ua=function(){At(this.g,"b")},si.prototype.createWebChannel=si.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,se.COMPLETE="complete",le.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",kt.prototype.listen=kt.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.La,kn.prototype.getLastErrorCode=kn.prototype.Da,kn.prototype.getStatus=kn.prototype.ba,kn.prototype.getResponseJson=kn.prototype.Qa,kn.prototype.getResponseText=kn.prototype.ga,kn.prototype.send=kn.prototype.ea;var fi=ae,di=se,pi=Zt,vi=10,mi=11,gi=bn,yi=le,bi=kn,wi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();wi.o=-1;var Ii={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Si=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return(0,r.ZT)(e,t),e}(Error),_i=new a.Yd("@firebase/firestore");function Ei(){return _i.logLevel}function Ti(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_i.logLevel<=a.in.DEBUG){var i=e.map(Ci);_i.debug.apply(_i,(0,r.ev)(["Firestore (8.10.0): "+t],i))}}function ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_i.logLevel<=a.in.ERROR){var i=e.map(Ci);_i.error.apply(_i,(0,r.ev)(["Firestore (8.10.0): "+t],i))}}function Ai(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_i.logLevel<=a.in.WARN){var i=e.map(Ci);_i.warn.apply(_i,(0,r.ev)(["Firestore (8.10.0): "+t],i))}}function Ci(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Ni(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw ki(e),new Error(e)}function xi(t,e){t||Ni()}function Oi(t,e){return t}function Di(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Pi=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=Di(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Mi(t,e){return t<e?-1:t>e?1:0}function Ri(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function Li(t){return t+"\0"}var ji=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Si(Ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Si(Ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Si(Ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Si(Ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Mi(this.nanoseconds,t.nanoseconds):Mi(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fi=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ji(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ui(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ni(),void 0===n?n=t.length-e:n>t.length-e&&Ni(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var a=o[r];if(a.indexOf("//")>=0)throw new Si(Ii.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter((function(t){return t.length>0})))}return new e(i)},e.emptyPath=function(){return new e([])},e}(Gi),Ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return Ki.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new Si(Ii.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Si(Ii.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Si(Ii.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new Si(Ii.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Gi),Wi=function(){function t(t){this.fields=t,t.sort(Hi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ri(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),zi=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Mi(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();zi.EMPTY_BYTE_STRING=new zi("");var Ji=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(xi(!!t),"string"==typeof t){var e=0,n=Ji.exec(t);if(xi(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xi(t.seconds),nanos:Xi(t.nanos)}}function Xi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zi(t){return"string"==typeof t?zi.fromBase64String(t):zi.fromUint8Array(t)}function Qi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $i(t){var e=t.mapValue.fields.__previous_value__;return Qi(e)?$i(e):e}function tr(t){var e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}function er(t){return null==t}function nr(t){return 0===t&&1/t==-1/0}function ir(t){return"number"==typeof t&&Number.isInteger(t)&&!nr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var rr=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(qi.fromString(e))},t.fromName=function(e){return new t(qi.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===qi.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return qi.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new qi(e.slice()))},t}();function or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qi(t)?4:10:Ni()}function ar(t,e){var n=or(t);if(n!==or(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tr(t).isEqual(tr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yi(t.timestampValue),i=Yi(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Zi(t.bytesValue).isEqual(Zi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xi(t.geoPointValue.latitude)===Xi(e.geoPointValue.latitude)&&Xi(t.geoPointValue.longitude)===Xi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xi(t.integerValue)===Xi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Xi(t.doubleValue),i=Xi(e.doubleValue);return n===i?nr(n)===nr(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Ui(n)!==Ui(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!ar(n[r],i[r])))return!1;return!0}(t,e);default:return Ni()}}function sr(t,e){return void 0!==(t.values||[]).find((function(t){return ar(t,e)}))}function ur(t,e){var n=or(t),i=or(e);if(n!==i)return Mi(n,i);switch(n){case 0:return 0;case 1:return Mi(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Xi(t.integerValue||t.doubleValue),i=Xi(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return cr(t.timestampValue,e.timestampValue);case 4:return cr(tr(t),tr(e));case 5:return Mi(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Zi(t),i=Zi(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Mi(n[r],i[r]);if(0!==o)return o}return Mi(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Mi(Xi(t.latitude),Xi(e.latitude));return 0!==n?n:Mi(Xi(t.longitude),Xi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=ur(n[r],i[r]);if(o)return o}return Mi(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=Mi(i[a],o[a]);if(0!==s)return s;var u=ur(n[i[a]],r[o[a]]);if(0!==u)return u}return Mi(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Ni()}}function cr(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mi(t,e);var n=Yi(t),i=Yi(e),r=Mi(n.seconds,i.seconds);return 0!==r?r:Mi(n.nanos,i.nanos)}function lr(t){return hr(t)}function hr(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Yi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,rr.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=hr(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var o=r[i];n?n=!1:e+=",",e+=o+":"+hr(t.fields[o])}return e+"}"}(t.mapValue):Ni();var e,n}function fr(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function dr(t){return!!t&&"integerValue"in t}function pr(t){return!!t&&"arrayValue"in t}function vr(t){return!!t&&"nullValue"in t}function mr(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gr(t){return!!t&&"mapValue"in t}function yr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=yr(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=yr(t.arrayValue.values[i]);return n}return Object.assign({},t)}var br=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!gr(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yr(e)},t.prototype.setAll=function(t){var e=this,n=Hi.emptyPath(),i={},r=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,i,r),i={},r=[],n=o.popLast()}t?i[o.lastSegment()]=yr(t):r.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,i,r)},t.prototype.delete=function(t){var e=this.field(t.popLast());gr(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ar(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];gr(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Vi(e,(function(e,n){return t[e]=n}));for(var i=0,r=n;i<r.length;i++){var o=r[i];delete t[o]}},t.prototype.clone=function(){return new t(yr(this.value))},t}();function wr(t){var e=[];return Vi(t.fields,(function(t,n){var i=new Hi([t]);if(gr(n)){var r=wr(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];e.push(i.child(s))}}else e.push(i)})),new Wi(e)}var Ir=function(){function t(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}return t.newInvalidDocument=function(e){return new t(e,0,Fi.min(),br.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,br.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,br.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=br.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=br.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Sr=function(t,e,n,i,r,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.h=null};function _r(t,e,n,i,r,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),new Sr(t,e,n,i,r,o,a)}function Er(t){var e=Oi(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+lr(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),er(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=jr(e.startAt)),e.endAt&&(n+="|ub:",n+=jr(e.endAt)),e.h=n}return e.h}function Tr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ur(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(r=t.filters[i],o=e.filters[i],r.op!==o.op||!r.field.isEqual(o.field)||!ar(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Br(t.startAt,e.startAt)&&Br(t.endAt,e.endAt)}function kr(t){return rr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ar=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return(0,r.ZT)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new Cr(t,n,i):"array-contains"===n?new Dr(t,i):"in"===n?new Pr(t,i):"not-in"===n?new Mr(t,i):"array-contains-any"===n?new Rr(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new Nr(t,n):new xr(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ur(e,this.value)):null!==e&&or(this.value)===or(e)&&this.m(ur(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ni()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Cr=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=rr.fromName(i.referenceValue),r}return(0,r.ZT)(e,t),e.prototype.matches=function(t){var e=rr.comparator(t.key,this.key);return this.m(e)},e}(Ar),Nr=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=Or(0,n),i}return(0,r.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ar),xr=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=Or(0,n),i}return(0,r.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ar);function Or(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return rr.fromName(t.referenceValue)}))}var Dr=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,r.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return pr(e)&&sr(e.arrayValue,this.value)},e}(Ar),Pr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,r.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&sr(this.value.arrayValue,e)},e}(Ar),Mr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,r.ZT)(e,t),e.prototype.matches=function(t){if(sr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!sr(this.value.arrayValue,e)},e}(Ar),Rr=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,r.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!pr(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return sr(e.value.arrayValue,t)}))},e}(Ar),Lr=function(t,e){this.position=t,this.before=e};function jr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return lr(t)})).join(",")}var Fr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ur(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Vr(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],a=t.position[r];if(i=o.field.isKeyField()?rr.comparator(rr.fromName(a.referenceValue),n.key):ur(a,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function Br(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}var Gr=function(t,e,n,i,r,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function qr(t,e,n,i,r,o,a,s){return new Gr(t,e,n,i,r,o,a,s)}function Kr(t){return new Gr(t)}function Hr(t){return!er(t.limit)&&"F"===t.limitType}function Wr(t){return!er(t.limit)&&"L"===t.limitType}function zr(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jr(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function Yr(t){return null!==t.collectionGroup}function Xr(t){var e=Oi(t);if(null===e.p){e.p=[];var n=Jr(e),i=zr(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new Fr(n)),e.p.push(new Fr(Hi.keyField(),"asc"));else{for(var r=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(r=!0)}if(!r){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Fr(Hi.keyField(),u))}}}return e.p}function Zr(t){var e=Oi(t);if(!e.T)if("F"===e.limitType)e.T=_r(e.path,e.collectionGroup,Xr(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Xr(e);i<r.length;i++){var o=r[i],a="desc"===o.dir?"asc":"desc";n.push(new Fr(o.field,a))}var s=e.endAt?new Lr(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Lr(e.startAt.position,!e.startAt.before):null;e.T=_r(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Qr(t,e,n){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $r(t,e){return Tr(Zr(t),Zr(e))&&t.limitType===e.limitType}function to(t){return Er(Zr(t))+"|lt:"+t.limitType}function eo(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+lr(e.value);var e})).join(", ")+"]"),er(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+jr(t.startAt)),t.endAt&&(e+=", endAt: "+jr(t.endAt)),"Target("+e+")"}(Zr(t))+"; limitType="+t.limitType+")"}function no(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):rr.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vr(t.startAt,Xr(t),e)||t.endAt&&Vr(t.endAt,Xr(t),e))}(t,e)}function io(t){return function(e,n){for(var i=!1,r=0,o=Xr(t);r<o.length;r++){var a=o[r],s=ro(a,e,n);if(0!==s)return s;i=i||a.field.isKeyField()}return 0}}function ro(t,e,n){var i=t.field.isKeyField()?rr.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ur(i,r):Ni()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ni()}}function oo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nr(e)?"-0":e}}function ao(t){return{integerValue:""+t}}function so(t,e){return ir(e)?ao(e):oo(t,e)}var uo=function(){this._=void 0};function co(t,e,n){return t instanceof fo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof po?vo(t,e):t instanceof mo?go(t,e):function(t,e){var n=ho(t,e),i=bo(n)+bo(t.A);return dr(n)&&dr(t.A)?ao(i):oo(t.R,i)}(t,e)}function lo(t,e,n){return t instanceof po?vo(t,e):t instanceof mo?go(t,e):n}function ho(t,e){return t instanceof yo?dr(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e}(uo),po=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,r.ZT)(e,t),e}(uo);function vo(t,e){for(var n=wo(e),i=function(t){n.some((function(e){return ar(e,t)}))||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var mo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,r.ZT)(e,t),e}(uo);function go(t,e){for(var n=wo(e),i=function(t){n=n.filter((function(e){return!ar(e,t)}))},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var yo=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).R=e,i.A=n,i}return(0,r.ZT)(e,t),e}(uo);function bo(t){return Xi(t.integerValue||t.doubleValue)}function wo(t){return pr(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Io=function(t,e){this.field=t,this.transform=e},So=function(t,e){this.version=t,this.transformResults=e},_o=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Eo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var To=function(){};function ko(t,e,n){t instanceof Oo?function(t,e,n){var i=t.value.clone(),r=Mo(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Do?function(t,e,n){if(Eo(t.precondition,e)){var i=Mo(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Po(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ao(t,e,n){t instanceof Oo?function(t,e,n){if(Eo(t.precondition,e)){var i=t.value.clone(),r=Ro(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(xo(e),i).setHasLocalMutations()}}(t,e,n):t instanceof Do?function(t,e,n){if(Eo(t.precondition,e)){var i=Ro(t.fieldTransforms,n,e),r=e.data;r.setAll(Po(t)),r.setAll(i),e.convertToFoundDocument(xo(e),r).setHasLocalMutations()}}(t,e,n):function(t,e){Eo(t.precondition,e)&&e.convertToNoDocument(Fi.min())}(t,e)}function Co(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var o=r[i],a=e.data.field(o.field),s=ho(o.transform,a||null);null!=s&&(null==n&&(n=br.empty()),n.set(o.field,s))}return n||null}function No(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ri(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof po&&e instanceof po||t instanceof mo&&e instanceof mo?Ri(t.elements,e.elements,ar):t instanceof yo&&e instanceof yo?ar(t.A,e.A):t instanceof fo&&e instanceof fo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function xo(t){return t.isFoundDocument()?t.version:Fi.min()}var Oo=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=i,o.fieldTransforms=r,o.type=0,o}return(0,r.ZT)(e,t),e}(To),Do=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=i,a.precondition=r,a.fieldTransforms=o,a.type=1,a}return(0,r.ZT)(e,t),e}(To);function Po(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}})),e}function Mo(t,e,n){var i=new Map;xi(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],a=o.transform,s=e.data.field(o.field);i.set(o.field,lo(a,s,n[r]))}return i}function Ro(t,e,n){for(var i=new Map,r=0,o=t;r<o.length;r++){var a=o[r],s=a.transform,u=n.data.field(a.field);i.set(a.field,co(s,u,e))}return i}var Lo,jo,Fo=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return(0,r.ZT)(e,t),e}(To),Uo=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return(0,r.ZT)(e,t),e}(To),Vo=function(t){this.count=t};function Bo(t){switch(t){case Ii.OK:return Ni();case Ii.CANCELLED:case Ii.UNKNOWN:case Ii.DEADLINE_EXCEEDED:case Ii.RESOURCE_EXHAUSTED:case Ii.INTERNAL:case Ii.UNAVAILABLE:case Ii.UNAUTHENTICATED:return!1;case Ii.INVALID_ARGUMENT:case Ii.NOT_FOUND:case Ii.ALREADY_EXISTS:case Ii.PERMISSION_DENIED:case Ii.FAILED_PRECONDITION:case Ii.ABORTED:case Ii.OUT_OF_RANGE:case Ii.UNIMPLEMENTED:case Ii.DATA_LOSS:return!0;default:return Ni()}}function Go(t){if(void 0===t)return ki("GRPC error has no .code"),Ii.UNKNOWN;switch(t){case Lo.OK:return Ii.OK;case Lo.CANCELLED:return Ii.CANCELLED;case Lo.UNKNOWN:return Ii.UNKNOWN;case Lo.DEADLINE_EXCEEDED:return Ii.DEADLINE_EXCEEDED;case Lo.RESOURCE_EXHAUSTED:return Ii.RESOURCE_EXHAUSTED;case Lo.INTERNAL:return Ii.INTERNAL;case Lo.UNAVAILABLE:return Ii.UNAVAILABLE;case Lo.UNAUTHENTICATED:return Ii.UNAUTHENTICATED;case Lo.INVALID_ARGUMENT:return Ii.INVALID_ARGUMENT;case Lo.NOT_FOUND:return Ii.NOT_FOUND;case Lo.ALREADY_EXISTS:return Ii.ALREADY_EXISTS;case Lo.PERMISSION_DENIED:return Ii.PERMISSION_DENIED;case Lo.FAILED_PRECONDITION:return Ii.FAILED_PRECONDITION;case Lo.ABORTED:return Ii.ABORTED;case Lo.OUT_OF_RANGE:return Ii.OUT_OF_RANGE;case Lo.UNIMPLEMENTED:return Ii.UNIMPLEMENTED;case Lo.DATA_LOSS:return Ii.DATA_LOSS;default:return Ni()}}(jo=Lo||(Lo={}))[jo.OK=0]="OK",jo[jo.CANCELLED=1]="CANCELLED",jo[jo.UNKNOWN=2]="UNKNOWN",jo[jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jo[jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jo[jo.NOT_FOUND=5]="NOT_FOUND",jo[jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",jo[jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",jo[jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",jo[jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jo[jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jo[jo.ABORTED=10]="ABORTED",jo[jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",jo[jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",jo[jo.INTERNAL=13]="INTERNAL",jo[jo.UNAVAILABLE=14]="UNAVAILABLE",jo[jo.DATA_LOSS=15]="DATA_LOSS";var qo=function(){function t(t,e){this.comparator=t,this.root=e||Ho.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ho.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ho.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ko(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ko(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ko(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ko(this.root,t,this.comparator,!0)},t}(),Ko=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ho=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ni();if(this.right.isRed())throw Ni();var t=this.left.check();if(t!==this.right.check())throw Ni();return t+(this.isRed()?0:1)},t}();Ho.EMPTY=null,Ho.RED=!0,Ho.BLACK=!1,Ho.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ni()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ni()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ni()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ni()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ni()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Ho(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Wo=function(){function t(t){this.comparator=t,this.data=new qo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new zo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new zo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Jo=new qo(rr.comparator);function Yo(){return Jo}var Xo=new qo(rr.comparator);function Zo(){return Xo}var Qo=new qo(rr.comparator);function $o(){return Qo}var ta=new Wo(rr.comparator);function ea(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ta,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var na=new Wo(Mi);function ia(){return na}var ra=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,oa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Fi.min(),i,ia(),Yo(),ea())},t}(),oa=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(zi.EMPTY_BYTE_STRING,n,ea(),ea(),ea())},t}(),aa=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},sa=function(t,e){this.targetId=t,this.V=e},ua=function(t,e,n,i){void 0===n&&(n=zi.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},ca=function(){function t(){this.S=0,this.D=fa(),this.C=zi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=ea(),e=ea(),n=ea();return this.D.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ni()}})),new oa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=fa()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),la=function(){function t(t){this.W=t,this.G=new Map,this.H=Yo(),this.J=ha(),this.Y=new Wo(Mi)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var i=n[e];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)i=o[r],this.tt(i,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.nt(n);switch(t.state){case 0:e.st(n)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||e.removeTarget(n);break;case 3:e.st(n)&&(i.j(),i.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),i.O(t.resumeToken));break;default:Ni()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,i){n.st(i)&&e(i)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,i=this.ot(e);if(i){var r=i.target;if(kr(r))if(0===n){var o=new rr(r.path);this.tt(e,o,Ir.newNoDocument(o,Fi.min()))}else xi(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(i,r){var o=e.ot(r);if(o){if(i.current&&kr(o.target)){var a=new rr(o.target.path);null!==e.H.get(a)||e.at(r,a)||e.tt(r,a,Ir.newNoDocument(a,t))}i.$&&(n.set(r,i.M()),i.L())}}));var i=ea();this.J.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new ra(t,n,this.Y,this.H,i);return this.H=Yo(),this.J=ha(),this.Y=new Wo(Mi),r},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var i=this.nt(t);this.at(t,e)?i.B(e,1):i.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ca,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Wo(Mi),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ti("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ca),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ha(){return new qo(rr.comparator)}function fa(){return new qo(rr.comparator)}var da={asc:"ASCENDING",desc:"DESCENDING"},pa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},va=function(t,e){this.databaseId=t,this.I=e};function ma(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ga(t,e){return t.I?e.toBase64():e.toUint8Array()}function ya(t,e){return ma(t,e.toTimestamp())}function ba(t){return xi(!!t),Fi.fromTimestamp(function(t){var e=Yi(t);return new ji(e.seconds,e.nanos)}(t))}function wa(t,e){return function(t){return new qi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ia(t){var e=qi.fromString(t);return xi(Ha(e)),e}function Sa(t,e){return wa(t.databaseId,e.path)}function _a(t,e){var n=Ia(e);if(n.get(1)!==t.databaseId.projectId)throw new Si(Ii.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Si(Ii.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rr(Aa(n))}function Ea(t,e){return wa(t.databaseId,e)}function Ta(t){var e=Ia(t);return 4===e.length?qi.emptyPath():Aa(e)}function ka(t){return new qi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Aa(t){return xi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ca(t,e,n){return{name:Sa(t,e),fields:n.value.mapValue.fields}}function Na(t,e,n){var i=_a(t,e.name),r=ba(e.updateTime),o=new br({mapValue:{fields:e.fields}}),a=Ir.newFoundDocument(i,r,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function xa(t,e){var n;if(e instanceof Oo)n={update:Ca(t,e.key,e.value)};else if(e instanceof Fo)n={delete:Sa(t,e.key)};else if(e instanceof Do)n={update:Ca(t,e.key,e.data),updateMask:Ka(e.fieldMask)};else{if(!(e instanceof Uo))return Ni();n={verify:Sa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof fo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof po)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ni()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ya(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ni()}(t,e.precondition)),n}function Oa(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_o.updateTime(ba(t.updateTime)):void 0!==t.exists?_o.exists(t.exists):_o.none()}(e.currentDocument):_o.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)xi("REQUEST_TIME"===e.setToServerValue),n=new fo;else if("appendMissingElements"in e){var i=e.appendMissingElements.values||[];n=new po(i)}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];n=new mo(r)}else"increment"in e?n=new yo(t,e.increment):Ni();var o=Hi.fromServerFormat(e.fieldPath);return new Io(o,n)}(t,e)})):[];if(e.update){e.update.name;var r=_a(t,e.update.name),o=new br({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Wi(e.map((function(t){return Hi.fromServerFormat(t)})))}(e.updateMask);return new Do(r,o,a,n,i)}return new Oo(r,o,n,i)}if(e.delete){var s=_a(t,e.delete);return new Fo(s,n)}if(e.verify){var u=_a(t,e.verify);return new Uo(u,n)}return Ni()}function Da(t,e){return{documents:[Ea(t,e.path)]}}function Pa(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Ea(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ea(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(mr(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NAN"}};if(vr(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(mr(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NAN"}};if(vr(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(t.field),op:Ua(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Va(t.field),direction:Fa(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||er(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=La(e.startAt)),e.endAt&&(n.structuredQuery.endAt=La(e.endAt)),n}function Ma(t){var e=Ta(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){xi(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Ra(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Fr(Ba(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return er(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ja(n.startAt));var l=null;return n.endAt&&(l=ja(n.endAt)),qr(e,r,s,a,u,"F",c,l)}function Ra(t){return t?void 0!==t.unaryFilter?[qa(t)]:void 0!==t.fieldFilter?[Ga(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Ra(t)})).reduce((function(t,e){return t.concat(e)})):Ni():[]}function La(t){return{before:t.before,values:t.position}}function ja(t){var e=!!t.before,n=t.values||[];return new Lr(n,e)}function Fa(t){return da[t]}function Ua(t){return pa[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Ba(t){return Hi.fromServerFormat(t.fieldPath)}function Ga(t){return Ar.create(Ba(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ni()}}(t.fieldFilter.op),t.fieldFilter.value)}function qa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ba(t.unaryFilter.field);return Ar.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ba(t.unaryFilter.field);return Ar.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ba(t.unaryFilter.field);return Ar.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=Ba(t.unaryFilter.field);return Ar.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ni()}}function Ka(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ha(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Wa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ja(e)),e=za(t.get(n),e);return Ja(e)}function za(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ja(t){return t+""}function Ya(t){var e=t.length;if(xi(e>=2),2===e)return xi(""===t.charAt(0)&&""===t.charAt(1)),qi.emptyPath();for(var n=e-2,i=[],r="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Ni(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===r.length?u=s:(u=r+=s,r=""),i.push(u);break;case"":r+=t.substring(o,a),r+="\0";break;case"":r+=t.substring(o,a+1);break;default:Ni()}o=a+2}return new qi(i)}var Xa=function(t,e){this.seconds=t,this.nanoseconds=e},Za=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Za.store="owner",Za.key="owner";var Qa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Qa.store="mutationQueues",Qa.keyPath="userId";var $a=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};$a.store="mutations",$a.keyPath="batchId",$a.userMutationsIndex="userMutationsIndex",$a.userMutationsKeyPath=["userId","batchId"];var ts=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wa(e)]},t.key=function(t,e,n){return[t,Wa(e),n]},t}();ts.store="documentMutations",ts.PLACEHOLDER=new ts;var es=function(t,e){this.path=t,this.readTime=e},ns=function(t,e){this.path=t,this.version=e},is=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};is.store="remoteDocuments",is.readTimeIndex="readTimeIndex",is.readTimeIndexPath="readTime",is.collectionReadTimeIndex="collectionReadTimeIndex",is.collectionReadTimeIndexPath=["parentPath","readTime"];var rs=function(t){this.byteSize=t};rs.store="remoteDocumentGlobal",rs.key="remoteDocumentGlobalKey";var os=function(t,e,n,i,r,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=a};os.store="targets",os.keyPath="targetId",os.queryTargetsIndexName="queryTargetsIndex",os.queryTargetsKeyPath=["canonicalId","targetId"];var as=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};as.store="targetDocuments",as.keyPath=["targetId","path"],as.documentTargetsIndex="documentTargetsIndex",as.documentTargetsKeyPath=["path","targetId"];var ss=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};ss.key="targetGlobalKey",ss.store="targetGlobal";var us=function(t,e){this.collectionId=t,this.parent=e};us.store="collectionParents",us.keyPath=["collectionId","parent"];var cs=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};cs.store="clientMetadata",cs.keyPath="clientId";var ls=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ls.store="bundles",ls.keyPath="bundleId";var hs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hs.store="namedQueries",hs.keyPath="name";var fs=(0,r.ev)((0,r.ev)([],(0,r.ev)((0,r.ev)([],(0,r.ev)((0,r.ev)([],(0,r.ev)((0,r.ev)([],[Qa.store,$a.store,ts.store,is.store,os.store,Za.store,ss.store,as.store]),[cs.store])),[rs.store])),[us.store])),[ls.store,hs.store]),ds="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ps=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),vs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ms=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&Ni(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)},t}(),gs=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new vs,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ws(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var i=Ts(e.target.error);n.ft.reject(new ws(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new ws(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ti("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ss(e)},t}(),ys=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t((0,o.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ti("SimpleDb","Removing database:",t),_s(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,o.z$)(),n=t._t(e),i=0<n&&n<10,r=t.Et(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return this.db?[3,2]:(Ti("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){var n=t.target.result;e(n)},r.onblocked=function(){i(new ws(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;"VersionError"===n.name?i(new Si(Ii.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(new ws(t,n))},r.onupgradeneeded=function(t){Ti("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,r.transaction,t.oldVersion,n.version).next((function(){Ti("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=r.sent(),e=gs.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch((function(t){return e.abort(t),ms.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return l=r.sent(),h="FirebaseError"!==l.name&&a<3,Ti("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bs=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return _s(this.Pt.delete())},t}(),ws=function(t){function e(e,n){var i=this;return(i=t.call(this,Ii.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return(0,r.ZT)(e,t),e}(Si);function Is(t){return"IndexedDbTransactionError"===t.name}var Ss=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ti("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ti("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),_s(n)},t.prototype.add=function(t){return Ti("SimpleDb","ADD",this.store.name,t,t),_s(this.store.add(t))},t.prototype.get=function(t){var e=this;return _s(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ti("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ti("SimpleDb","DELETE",this.store.name,t),_s(this.store.delete(t))},t.prototype.count=function(){return Ti("SimpleDb","COUNT",this.store.name),_s(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.xt(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.kt=function(t,e){Ti("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var i=this.cursor(n);return this.xt(i,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.xt(i,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ms((function(n,i){e.onerror=function(t){var e=Ts(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new ms((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new bs(r),a=e(r.primaryKey,r.value,o);if(a instanceof ms){var s=a.catch((function(t){return o.done(),ms.reject(t)}));n.push(s)}o.isDone?i():null===o.Dt?r.continue():r.continue(o.Dt)}else i()}})).next((function(){return ms.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function _s(t){return new ms((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ts(t.target.error);n(e)}}))}var Es=!1;function Ts(t){var e=ys._t((0,o.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new Si("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Es||(Es=!0,setTimeout((function(){throw i}),0)),i}}return t}var ks=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mt=e,i.currentSequenceNumber=n,i}return(0,r.ZT)(e,t),e}(ps);function As(t,e){var n=Oi(t);return ys.It(n.Mt,e)}var Cs=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&ko(r,t,n[i])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ao(o,t,this.localWriteTime);for(var i=0,r=this.mutations;i<r.length;i++){var o;(o=r[i]).key.isEqual(t.key)&&Ao(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var i=t.get(n.key),r=i;e.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Fi.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ea())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ri(this.mutations,t.mutations,(function(t,e){return No(t,e)}))&&Ri(this.baseMutations,t.baseMutations,(function(t,e){return No(t,e)}))},t}(),Ns=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){xi(e.mutations.length===i.length);for(var r=$o(),o=e.mutations,a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)},t}(),xs=function(){function t(t,e,n,i,r,o,a){void 0===r&&(r=Fi.min()),void 0===o&&(o=Fi.min()),void 0===a&&(a=zi.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Os=function(t){this.Lt=t};function Ds(t,e){if(e.document)return Na(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=rr.fromSegments(e.noDocument.path),i=js(e.noDocument.readTime),r=Ir.newNoDocument(n,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){var o=rr.fromSegments(e.unknownDocument.path);return i=js(e.unknownDocument.version),Ir.newUnknownDocument(o,i)}return Ni()}function Ps(t,e,n){var i=Ms(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Sa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ma(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new is(null,null,o,a,i,r)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Ls(e.version);return a=e.hasCommittedMutations,new is(null,new es(s,u),null,a,i,r)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ls(e.version);return new is(new ns(c,l),null,null,!0,i,r)}return Ni()}function Ms(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rs(t){var e=new ji(t[0],t[1]);return Fi.fromTimestamp(e)}function Ls(t){var e=t.toTimestamp();return new Xa(e.seconds,e.nanoseconds)}function js(t){var e=new ji(t.seconds,t.nanoseconds);return Fi.fromTimestamp(e)}function Fs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Oa(t.Lt,e)})),i=0;i<e.mutations.length-1;++i){var r=e.mutations[i];if(i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform){var o=e.mutations[i+1];r.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map((function(e){return Oa(t.Lt,e)})),s=ji.fromMillis(e.localWriteTimeMs);return new Cs(e.batchId,s,n,a)}function Us(t){var e,n,i=js(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?js(t.lastLimboFreeSnapshotVersion):Fi.min();return void 0!==t.query.documents?(xi(1===(n=t.query).documents.length),e=Zr(Kr(Ta(n.documents[0])))):e=function(t){return Zr(Ma(t))}(t.query),new xs(e,t.targetId,0,t.lastListenSequenceNumber,i,r,zi.fromBase64String(t.resumeToken))}function Vs(t,e){var n,i=Ls(e.snapshotVersion),r=Ls(e.lastLimboFreeSnapshotVersion);n=kr(e.target)?Da(t.Lt,e.target):Pa(t.Lt,e.target);var o=e.resumeToken.toBase64();return new os(e.targetId,Er(e.target),i,o,e.sequenceNumber,r,n)}function Bs(t){var e=Ma({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qr(e,e.limit,"L"):e}var Gs=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return qs(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:js(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return qs(t).put({bundleId:(n=e).id,createTime:Ls(ba(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ks(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Bs(e.bundledQuery),readTime:js(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ks(t).put(function(t){return{name:t.name,readTime:Ls(ba(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function qs(t){return As(t,ls.store)}function Ks(t){return As(t,hs.store)}var Hs=function(){function t(){this.Bt=new Ws}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ms.resolve()},t.prototype.getCollectionParents=function(t,e){return ms.resolve(this.Bt.getEntries(e))},t}(),Ws=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Wo(qi.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Wo(qi.comparator)).toArray()},t}(),zs=function(){function t(){this.qt=new Ws}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:i,parent:Wa(r)};return Js(t).put(o)}return ms.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[Li(e),""],!1,!0);return Js(t).Nt(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Ya(o.parent))}return n}))},t}();function Js(t){return As(t,us.store)}var Ys={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xs=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Zs(t,e,n){var i=t.store($a.store),r=t.store(ts.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=i.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){xi(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ts.key(e,f.key.path,n.batchId);o.push(r.delete(d)),c.push(f.key)}return ms.waitFor(o).next((function(){return c}))}function Qs(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ni();e=t.noDocument}return JSON.stringify(e).length}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);var $s=function(){function t(t,e,n,i){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,i,r){return xi(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).$t({index:$a.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=nu(t),a=eu(t);return a.add({}).next((function(s){xi("number"==typeof s);for(var u=new Cs(s,e,n,i),c=function(t,e,n){var i=n.baseMutations.map((function(e){return xa(t.Lt,e)})),r=n.mutations.map((function(e){return xa(t.Lt,e)}));return new $a(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.R,r.userId,u),l=[],h=new Wo((function(t,e){return Mi(t.canonicalString(),e.canonicalString())})),f=0,d=i;f<d.length;f++){var p=d[f],v=ts.key(r.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,ts.PLACEHOLDER))}return h.forEach((function(e){l.push(r.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){r.Kt[s]=u.keys()})),ms.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return eu(t).get(e).next((function(t){return t?(xi(t.userId===n.userId),Fs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?ms.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var i=t.keys();return n.Kt[e]=i,i}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return eu(t).$t({index:$a.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(xi(e.batchId>=i),o=Fs(n.R,e)),r.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return eu(t).$t({index:$a.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).Nt($a.userMutationsIndex,n).next((function(t){return t.map((function(t){return Fs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=ts.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return nu(t).$t({range:r},(function(i,r,a){var s=i[0],u=i[1],c=i[2],l=Ya(u);if(s===n.userId&&e.path.isEqual(l))return eu(t).get(c).next((function(t){if(!t)throw Ni();xi(t.userId===n.userId),o.push(Fs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Wo(Mi),r=[];return e.forEach((function(e){var o=ts.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=nu(t).$t({range:a},(function(t,r,o){var a=t[0],s=t[1],u=t[2],c=Ya(s);a===n.userId&&e.path.isEqual(c)?i=i.add(u):o.done()}));r.push(s)})),ms.waitFor(r).next((function(){return n.Wt(t,i)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,o=ts.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new Wo(Mi);return nu(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Ya(u);a===n.userId&&i.isPrefixOf(l)?l.length===r&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(eu(t).get(e).next((function(t){if(null===t)throw Ni();xi(t.userId===n.userId),i.push(Fs(n.R,t))})))})),ms.waitFor(r).next((function(){return i}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Zs(t.Mt,this.userId,e).next((function(i){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),ms.forEach(i,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return ms.resolve();var i=IDBKeyRange.lowerBound(ts.prefixForUser(e.userId)),r=[];return nu(t).$t({range:i},(function(t,n,i){if(t[0]===e.userId){var o=Ya(t[1]);r.push(o)}else i.done()})).next((function(){xi(0===r.length)}))}))},t.prototype.containsKey=function(t,e){return tu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return iu(t).get(this.userId).next((function(t){return t||new Qa(e.userId,-1,"")}))},t}();function tu(t,e,n){var i=ts.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return nu(t).$t({range:o,Ft:!0},(function(t,n,i){var o=t[0],s=t[1];t[2],o===e&&s===r&&(a=!0),i.done()})).next((function(){return a}))}function eu(t){return As(t,$a.store)}function nu(t){return As(t,ts.store)}function iu(t){return As(t,Qa.store)}var ru=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ou=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var i=new ru(n.highestTargetId);return n.highestTargetId=i.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Fi.fromTimestamp(new ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.Xt(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Zt(t,r)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(i){return i.targetCount+=1,n.ee(e,i),n.Zt(t,i)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return au(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return xi(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return au(t).$t((function(a,s){var u=Us(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r++,o.push(i.removeTargetData(t,u)))})).next((function(){return ms.waitFor(o)})).next((function(){return r}))},t.prototype.forEachTarget=function(t,e){return au(t).$t((function(t,n){var i=Us(n);e(i)}))},t.prototype.Xt=function(t){return su(t).get(ss.key).next((function(t){return xi(null!==t),t}))},t.prototype.Zt=function(t,e){return su(t).put(ss.key,e)},t.prototype.te=function(t,e){return au(t).put(Vs(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Er(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return au(t).$t({range:i,index:os.queryTargetsIndexName},(function(t,n,i){var o=Us(n);Tr(e,o.target)&&(r=o,i.done())})).next((function(){return r}))},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=uu(t);return e.forEach((function(e){var a=Wa(e.path);r.push(o.put(new as(n,a))),r.push(i.referenceDelegate.addReference(t,n,e))})),ms.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=uu(t);return ms.forEach(e,(function(e){var o=Wa(e.path);return ms.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=uu(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=uu(t),r=ea();return i.$t({range:n,Ft:!0},(function(t,e,n){var i=Ya(t[1]),o=new rr(i);r=r.add(o)})).next((function(){return r}))},t.prototype.containsKey=function(t,e){var n=Wa(e.path),i=IDBKeyRange.bound([n],[Li(n)],!1,!0),r=0;return uu(t).$t({index:as.documentTargetsIndex,Ft:!0,range:i},(function(t,e,n){var i=t[0];t[1],0!==i&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.lt=function(t,e){return au(t).get(e).next((function(t){return t?Us(t):null}))},t}();function au(t){return As(t,os.store)}function su(t){return As(t,ss.store)}function uu(t){return As(t,as.store)}function cu(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){if(t.code!==Ii.FAILED_PRECONDITION||t.message!==ds)throw t;return Ti("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function lu(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=Mi(n,r);return 0===a?Mi(i,o):a}var hu=function(){function t(t){this.ne=t,this.buffer=new Wo(lu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();lu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),fu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ti("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,r.mG)(e,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Is(e=n.sent())?(Ti("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),du=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ms.resolve(wi.o);var i=new hu(e);return this.ae.forEachTarget(t,(function(t){return i.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return i.re(t)}))})).next((function(){return i.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector","Garbage collection skipped; disabled"),ms.resolve(Ys)):this.getCacheSize(t).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ys):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,i,r,o,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Ti("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),i=l.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),l.nthSequenceNumber(t,i)})).next((function(i){return n=i,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return r=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),Ei()<=a.in.DEBUG&&Ti("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+i+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),ms.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})}))},t}(),pu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new du(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return vu(t,n)},t.prototype.removeReference=function(t,e,n){return vu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return vu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return iu(t).Ot((function(i){return tu(t,i,e).next((function(t){return t&&(n=!0),ms.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,i.getEntry(t,a).next((function(){return i.removeEntry(a),uu(t).delete([0,Wa(a.path)])}))}));r.push(u)}})).next((function(){return ms.waitFor(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return vu(t,e)},t.prototype.we=function(t,e){var n,i=uu(t),r=wi.o;return i.$t({index:as.documentTargetsIndex},(function(t,i){var o=t[0];t[1];var a=i.path,s=i.sequenceNumber;0===o?(r!==wi.o&&e(new rr(Ya(n)),r),r=s,n=a):r=wi.o})).next((function(){r!==wi.o&&e(new rr(Ya(n)),r)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function vu(t,e){return uu(t).put(function(t,e){return new as(0,Wa(t.path),e)}(e,t.currentSequenceNumber))}var mu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){Vi(this.inner,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Bi(this.inner)},t}(),gu=function(){function t(){this.changes=new mu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Fi.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ir.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ms.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),yu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Iu(t).put(Su(e),n)},t.prototype.removeEntry=function(t,e){var n=Iu(t),i=Su(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.me(t,i)}))},t.prototype.getEntry=function(t,e){var n=this;return Iu(t).get(Su(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Iu(t).get(Su(e)).next((function(t){return{document:n.ye(e,t),size:Qs(t)}}))},t.prototype.getEntries=function(t,e){var n=this,i=Yo();return this.pe(t,e,(function(t,e){var r=n.ye(t,e);i=i.insert(t,r)})).next((function(){return i}))},t.prototype.Ee=function(t,e){var n=this,i=Yo(),r=new qo(rr.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);i=i.insert(t,o),r=r.insert(t,Qs(e))})).next((function(){return{documents:i,Te:r}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ms.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return Iu(t).$t({range:i},(function(t,e,i){for(var a=rr.fromSegments(t);o&&rr.comparator(o,a)<0;)n(o,null),o=r.getNext();o&&o.isEqual(a)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ct(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=Yo(),o=e.path.length+1,a={};if(n.isEqual(Fi.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Ms(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=is.collectionReadTimeIndex}return Iu(t).$t(a,(function(t,n,a){if(t.length===o){var s=Ds(i.R,n);e.path.isPrefixOf(s.key.path)?no(e,s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},t.prototype.newChangeBuffer=function(t){return new bu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return wu(t).get(rs.key).next((function(t){return xi(!!t),t}))},t.prototype.me=function(t,e){return wu(t).put(rs.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ds(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Fi.min()))return n}return Ir.newInvalidDocument(t)},t}(),bu=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ie=e,i.trackRemovals=n,i.Ae=new mu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),i}return(0,r.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new Wo((function(t,e){return Mi(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Ps(e.Ie.R,a.document,e.getReadTime(o));r=r.add(o.path.popLast());var c=Qs(u);i+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(i-=s,e.trackRemovals){var l=Ps(e.Ie.R,Ir.newNoDocument(o,Fi.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),r.forEach((function(i){n.push(e.Ie.Ut.addToCollectionParentIndex(t,i))})),n.push(this.Ie.updateMetadata(t,i)),ms.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(gu);function wu(t){return As(t,rs.store)}function Iu(t){return As(t,is.store)}function Su(t){return t.path.toArray()}var _u=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,i){var r=this;xi(n<i&&n>=0&&i<=11);var o=new gs("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Za.store)}(t),function(t){t.createObjectStore(Qa.store,{keyPath:Qa.keyPath}),t.createObjectStore($a.store,{keyPath:$a.keyPath,autoIncrement:!0}).createIndex($a.userMutationsIndex,$a.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ts.store)}(t),Eu(t),function(t){t.createObjectStore(is.store)}(t));var a=ms.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(as.store),t.deleteObjectStore(os.store),t.deleteObjectStore(ss.store)}(t),Eu(t)),a=a.next((function(){return function(t){var e=t.store(ss.store),n=new ss(0,0,Fi.min().toTimestamp(),0);return e.put(ss.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store($a.store).Nt().next((function(n){t.deleteObjectStore($a.store),t.createObjectStore($a.store,{keyPath:$a.keyPath,autoIncrement:!0}).createIndex($a.userMutationsIndex,$a.userMutationsKeyPath,{unique:!0});var i=e.store($a.store),r=n.map((function(t){return i.put(t)}));return ms.waitFor(r)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(cs.store,{keyPath:cs.keyPath})}(t)}))),n<5&&i>=5&&(a=a.next((function(){return r.Re(o)}))),n<6&&i>=6&&(a=a.next((function(){return function(t){t.createObjectStore(rs.store)}(t),r.be(o)}))),n<7&&i>=7&&(a=a.next((function(){return r.ve(o)}))),n<8&&i>=8&&(a=a.next((function(){return r.Pe(t,o)}))),n<9&&i>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(is.store);e.createIndex(is.readTimeIndex,is.readTimeIndexPath,{unique:!1}),e.createIndex(is.collectionReadTimeIndex,is.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(a=a.next((function(){return r.Ve(o)}))),n<11&&i>=11&&(a=a.next((function(){!function(t){t.createObjectStore(ls.store,{keyPath:ls.keyPath})}(t),function(t){t.createObjectStore(hs.store,{keyPath:hs.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(is.store).$t((function(t,n){e+=Qs(n)})).next((function(){var n=new rs(e);return t.store(rs.store).put(rs.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Qa.store),i=t.store($a.store);return n.Nt().next((function(n){return ms.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Nt($a.userMutationsIndex,r).next((function(i){return ms.forEach(i,(function(i){xi(i.userId===n.userId);var r=Fs(e.R,i);return Zs(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(as.store),n=t.store(is.store);return t.store(ss.store).get(ss.key).next((function(t){var i=[];return n.$t((function(n,r){var o=new qi(n),a=function(t){return[0,Wa(t)]}(o);i.push(e.get(a).next((function(n){return n?ms.resolve():function(n){return e.put(new as(0,Wa(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ms.waitFor(i)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(us.store,{keyPath:us.keyPath});var n=e.store(us.store),i=new Ws,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:Wa(r)})}};return e.store(is.store).$t({Ft:!0},(function(t,e){var n=new qi(t);return r(n.popLast())})).next((function(){return e.store(ts.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var i=Ya(n);return r(i.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(os.store);return n.$t((function(t,i){var r=Us(i),o=Vs(e.R,r);return n.put(o)}))},t}();function Eu(t){t.createObjectStore(as.store,{keyPath:as.keyPath}).createIndex(as.documentTargetsIndex,as.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(os.store,{keyPath:os.keyPath}).createIndex(os.queryTargetsIndexName,os.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ss.store)}var Tu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ku=function(){function t(e,n,i,r,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Si(Ii.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pu(this,r),this.Le=n+"main",this.R=new Os(u),this.Be=new ys(this.Le,11,new _u(this.R)),this.qe=new ou(this.referenceDelegate,this.R),this.Ut=new zs,this.Ue=function(t,e){return new yu(t,e)}(this.R,this.Ut),this.Ke=new Gs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Si(Ii.FAILED_PRECONDITION,Tu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new wi(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Cu(e).put(new cs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Is(e))return Ti("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ti("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Au(t).get(Za.key).next((function(t){return ms.resolve(e.tn(t))}))},t.prototype.en=function(t){return Cu(t).delete(this.clientId)},t.prototype.nn=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e,n,i,o=this;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=As(t,cs.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ms.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)i=n[e],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ms.resolve(!0):Au(t).get(Za.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Si(Ii.FAILED_PRECONDITION,Tu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,i=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(n||i&&r)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ti("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t=this;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Za.store,cs.store],(function(e){var n=new ks(e,wi.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Cu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return $s.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i=this;Ti("IndexedDbPersistence","Starting transaction:",t);var r,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,fs,(function(o){return r=new ks(o,i.Ne?i.Ne.next():wi.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw ki("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Si(Ii.FAILED_PRECONDITION,ds);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Au(t).get(Za.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Si(Ii.FAILED_PRECONDITION,Tu)}))},t.prototype.Ze=function(t){var e=new Za(this.clientId,this.allowTabSynchronization,Date.now());return Au(t).put(Za.key,e)},t.yt=function(){return ys.yt()},t.prototype.Xe=function(t){var e=this,n=Au(t);return n.get(Za.key).next((function(t){return e.tn(t)?(Ti("IndexedDbPersistence","Releasing primary lease."),n.delete(Za.key)):ms.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ki("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,o.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ti("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ki("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ki("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Au(t){return As(t,Za.store)}function Cu(t){return As(t,cs.store)}function Nu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xu=function(t,e){this.progress=t,this.wn=e},Ou=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(i){return n.yn(t,e,i)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,i=n;e<i.length;e++)i[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return rr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Yr(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new rr(e)).next((function(t){var e=Zo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var i=this,r=e.collectionGroup,o=Zo();return this.Ut.getCollectionParents(t,r).next((function(a){return ms.forEach(a,(function(a){var s=function(t,e){return new Gr(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(r));return i.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var i,r,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return i=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return r=e,o.Rn(t,r,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=i.get(c);null==l&&(l=Ir.newInvalidDocument(c),i=i.insert(c,l)),Ao(u,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(c))}}))})).next((function(){return i.forEach((function(t,n){no(e,n)||(i=i.remove(t))})),i}))},t.prototype.Rn=function(t,e,n){for(var i=ea(),r=0,o=e;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var u=s[a];u instanceof Do&&null===n.get(u.key)&&(i=i.add(u.key))}var c=n;return this.Ue.getEntries(t,i).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Du=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=i}return t.Pn=function(e,n){for(var i=ea(),r=ea(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Pu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Fi.min())?this.Dn(t,e):this.Sn.pn(t,i).next((function(o){var s=r.Cn(e,o);return(Hr(e)||Wr(e))&&r.Nn(e.limitType,s,i,n)?r.Dn(t,e):(Ei()<=a.in.DEBUG&&Ti("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),eo(e)),r.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Wo(io(t));return e.forEach((function(e,i){no(t,i)&&(n=n.add(i))})),n},t.prototype.Nn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.Dn=function(t,e){return Ei()<=a.in.DEBUG&&Ti("QueryEngine","Using full collection scan to execute query:",eo(e)),this.Sn.getDocumentsMatchingQuery(t,e,Fi.min())},t}(),Mu=function(){function t(t,e,n,i){this.persistence=t,this.xn=e,this.R=i,this.kn=new qo(Mi),this.Fn=new mu((function(t){return Er(t)}),Tr),this.$n=Fi.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ou(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Ru(t,e,n,i){return new Mu(t,e,n,i)}function Lu(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=Oi(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n._n.getAllMutationBatches(t).next((function(a){return r=a,i=n.persistence.getMutationQueue(e),o=new Ou(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(e){for(var n=[],i=[],a=ea(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];i.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return o.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return a=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function ju(t,e){var n=Oi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),a=ms.resolve();return o.forEach((function(t){a=a.next((function(){return i.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);xi(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,i)}))}))}function Fu(t){var e=Oi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Uu(t,e){var n=Oi(t),i=e.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=r.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(o,c),function(t,e,n){return xi(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Yo();if(e.documentUpdates.forEach((function(i,r){e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),a.push(Vu(t,o,e.documentUpdates,i,void 0).next((function(t){s=t}))),!i.isEqual(Fi.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,i)}));a.push(u)}return ms.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=r,t}))}function Vu(t,e,n,i,r){var o=ea();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Yo();return n.forEach((function(n,a){var s=t.get(n),u=(null==r?void 0:r.get(n))||i;a.isNoDocument()&&a.version.isEqual(Fi.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Ti("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Bu(t,e){var n=Oi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Gu(t,e){var n=Oi(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.qe.getTargetData(t,e).next((function(r){return r?(i=r,ms.resolve(i)):n.qe.allocateTargetId(t).next((function(r){return i=new xs(e,r,0,t.currentSequenceNumber),n.qe.addTargetData(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.kn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function qu(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:i=Oi(t),o=i.kn.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!Is(s=r.sent()))throw s;return Ti("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}}))}))}function Ku(t,e,n){var i=Oi(t),r=Fi.min(),o=ea();return i.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var i=Oi(t),r=i.Fn.get(n);return void 0!==r?ms.resolve(i.kn.get(r)):i.qe.getTargetData(e,n)}(i,t,Zr(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return i.xn.getDocumentsMatchingQuery(t,e,n?r:Fi.min(),n?o:ea())})).next((function(t){return{documents:t,Bn:o}}))}))}function Hu(t,e){var n=Oi(t),i=Oi(n.qe),r=n.kn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return i.lt(t,e).next((function(t){return t?t.target:null}))}))}function Wu(t){var e=Oi(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var i=Oi(t),r=Yo(),o=Ms(n),a=Iu(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:is.readTimeIndex,range:s},(function(t,e){var n=Ds(i.R,e);r=r.insert(n.key,n),o=e.readTime})).next((function(){return{wn:r,readTime:Rs(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,i=t.readTime;return e.$n=i,n}))}function zu(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){return[2,(e=Oi(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Iu(t),n=Fi.min();return e.$t({index:is.readTimeIndex,reverse:!0},(function(t,e,i){e.readTime&&(n=Rs(e.readTime)),i.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Ju(t,e,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f,d,p;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:for(o=Oi(t),a=ea(),s=Yo(),u=$o(),c=0,l=n;c<l.length;c++)h=l[c],f=e.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Gu(o,function(t){return Zr(Kr(qi.fromString("__bundle__/docs/"+t)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vu(t,d,s,Fi.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return o.qe.addMatchingKeys(t,a,p.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Yu(t,e,n){return void 0===n&&(n=ea()),(0,r.mG)(this,void 0,void 0,(function(){var i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,Gu(t,Zr(Bs(e.bundledQuery)))];case 1:return i=r.sent(),[2,(o=Oi(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var r=ba(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(t,e);var a=i.withResumeToken(zi.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(t,a).next((function(){return o.qe.removeMatchingKeysForTargetId(t,i.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,i.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Xu=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ms.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ba(n.createTime)}),ms.resolve()},t.prototype.getNamedQuery=function(t,e){return ms.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Bs(t.bundledQuery),readTime:ba(t.readTime)}}(e)),ms.resolve()},t}(),Zu=function(){function t(){this.Wn=new Wo(Qu.Gn),this.zn=new Wo(Qu.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Qu(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Qu(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new rr(new qi([])),i=new Qu(n,t),r=new Qu(n,t+1),o=[];return this.zn.forEachInRange([i,r],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new rr(new qi([])),n=new Qu(e,t),i=new Qu(e,t+1),r=ea();return this.zn.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.containsKey=function(t){var e=new Qu(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Qu=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return rr.comparator(t.key,e.key)||Mi(t.ns,e.ns)},t.Hn=function(t,e){return Mi(t.ns,e.ns)||rr.comparator(t.key,e.key)},t}(),$u=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Wo(Qu.Gn)}return t.prototype.checkEmpty=function(t){return ms.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Cs(r,e,n,i);this._n.push(o);for(var a=0,s=i;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Qu(u.key,r)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ms.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return ms.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,i=this.cs(n),r=i<0?0:i;return ms.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ms.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ms.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new Qu(e,0),r=new Qu(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([i,r],(function(t){var e=n.os(t.ns);o.push(e)})),ms.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Wo(Mi);return e.forEach((function(t){var e=new Qu(t,0),r=new Qu(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,r],(function(t){i=i.add(t.ns)}))})),ms.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;rr.isDocumentKey(r)||(r=r.child(""));var o=new Qu(new rr(r),0),a=new Wo(Mi);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.ns)),!0)}),o),ms.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.os(t);null!==i&&n.push(i)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xi(0===this.hs(e.batchId,"removed")),this._n.shift();var i=this.rs;return ms.forEach(e.mutations,(function(r){var o=new Qu(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((function(){n.rs=i}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Qu(e,0),i=this.rs.firstAfterOrEqual(n);return ms.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,ms.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),tc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new qo(rr.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.ls(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ms.resolve(n?n.document.clone():Ir.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,i=Yo();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.clone():Ir.newInvalidDocument(t))})),ms.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=Yo(),r=new rr(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||no(e,c)&&(i=i.insert(c.key,c.clone()))}return ms.resolve(i)},t.prototype.fs=function(t,e){return ms.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ec(this)},t.prototype.getSize=function(t){return ms.resolve(this.size)},t}(),ec=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,r.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r.document.isValidDocument()?n.push(e.Ie.addEntry(t,r.document,e.getReadTime(i))):e.Ie.removeEntry(i)})),ms.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(gu),nc=function(){function t(t){this.persistence=t,this.ds=new mu((function(t){return Er(t)}),Tr),this.lastRemoteSnapshotVersion=Fi.min(),this.highestTargetId=0,this.ws=0,this._s=new Zu,this.targetCount=0,this.ys=ru.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),ms.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ms.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ms.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ms.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ms.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ru(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ms.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ms.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ms.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.ds.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),ms.waitFor(o).next((function(){return r}))},t.prototype.getTargetCount=function(t){return ms.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ms.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ms.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.markPotentiallyOrphaned(t,e))})),ms.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ms.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ms.resolve(n)},t.prototype.containsKey=function(t,e){return ms.resolve(this._s.containsKey(e))},t}(),ic=function(){function t(t,e){var n=this;this.gs={},this.Ne=new wi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new nc(this),this.Ut=new Hs,this.Ue=function(t,e){return new tc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Os(e),this.Ke=new Xu(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new $u(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i=this;Ti("MemoryPersistence","Starting transaction:",t);var r=new rc(this.Ne.next());return this.referenceDelegate.Es(),n(r).next((function(t){return i.referenceDelegate.Ts(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return ms.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),rc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,r.ZT)(e,t),e}(ps),oc=function(){function t(t){this.persistence=t,this.As=new Zu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ni()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ms.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ms.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ms.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return i.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ms.forEach(this.vs,(function(i){var r=rr.fromPath(i);return e.Ps(t,r).next((function(t){t||n.removeEntry(r)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ms.or([function(){return ms.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ac=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function sc(t,e){return"firestore_clients_"+t+"_"+e}function uc(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function cc(t,e){return"firestore_targets_"+t+"_"+e}ac.UNAUTHENTICATED=new ac(null),ac.GOOGLE_CREDENTIALS=new ac("google-credentials-uid"),ac.FIRST_PARTY=new ac("first-party-uid"),ac.MOCK_USER=new ac("mock-user");var lc=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Vs=function(e,n,i){var r,o=JSON.parse(i),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new Si(o.error.code,o.error.message)),a?new t(e,n,o.state,r):(ki("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var i,r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new Si(r.error.code,r.error.message)),o?new t(e,r.state,i):(ki("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=ia(),a=0;r&&a<i.activeTargetIds.length;++a)r=ir(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new t(e,o):(ki("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ki("SharedClientState","Failed to parse online state: "+e),null)},t}(),pc=function(){function t(){this.activeTargetIds=ia()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),vc=function(){function t(t,e,n,i,r){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new qo(Mi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Os=sc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new pc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e,n,i,o,a,s,u,c,l,h,f=this;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(o=this.getItem(sc(this.persistenceKey,i)))&&(a=fc.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(cc(this.persistenceKey,t));if(n){var i=hc.Vs(t,n);i&&(e=i.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(cc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach((function(t){i.Hs(t)})),this.currentUser=t,n.forEach((function(t){i.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ti("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ti("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ti("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ti("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,r.mG)(e,void 0,void 0,(function(){var t,e,i,o,a,s;return(0,r.Jh)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(t){var e=wi.o;if(null!=t)try{var n=JSON.parse(t);xi("number"==typeof n),e=n}catch(t){ki("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wi.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var i=new lc(this.currentUser,t,e,n),r=uc(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Ss())},t.prototype.Hs=function(t){var e=uc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var i=cc(this.persistenceKey,t),r=new hc(t,e,n);this.setItem(i,r.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return fc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return lc.Vs(new ac(r),i,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),i=Number(n[1]);return hc.Vs(i,e)},t.prototype.js=function(t){return dc.Vs(t)},t.prototype.ii=function(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ti("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,i=e?this.Fs.insert(t,e):this.Fs.remove(t),r=this.Gs(this.Fs),o=this.Gs(i),a=[],s=[];return o.forEach((function(t){r.has(t)||a.push(t)})),r.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=i}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ia();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),mc=function(){function t(){this.li=new pc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new pc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),gc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),yc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ti("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ti("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ic=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,r.ZT)(e,t),e.prototype.Fi=function(t,e,n,i){return new Promise((function(r,o){var a=new bi;a.listenOnce(di.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case fi.NO_ERROR:var e=a.getResponseJson();Ti("Connection","XHR received:",JSON.stringify(e)),r(e);break;case fi.TIMEOUT:Ti("Connection",'RPC "'+t+'" timed out'),o(new Si(Ii.DEADLINE_EXCEEDED,"Request time out"));break;case fi.HTTP_ERROR:var n=a.getStatus();if(Ti("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ii).indexOf(e)>=0?e:Ii.UNKNOWN}(i.status);o(new Si(s,i.message))}else o(new Si(Ii.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Si(Ii.UNAVAILABLE,"Connection failed."));break;default:Ni()}}finally{Ti("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(i);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new si,r=$t(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new gi({})),this.ki(a.initMessageHeaders,e),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ti("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new wc({Ei:function(t){l?Ti("Connection","Not sending because WebChannel is closed:",t):(c||(Ti("Connection","Opening WebChannel transport."),u.open(),c=!0),Ti("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,yi.EventType.OPEN,(function(){l||Ti("Connection","WebChannel transport opened.")})),f(u,yi.EventType.CLOSE,(function(){l||(l=!0,Ti("Connection","WebChannel transport closed"),h.Vi())})),f(u,yi.EventType.ERROR,(function(t){l||(l=!0,Ai("Connection","WebChannel transport errored:",t),h.Vi(new Si(Ii.UNAVAILABLE,"The operation could not be completed")))})),f(u,yi.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];xi(!!n);var i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){Ti("Connection","WebChannel received error:",r);var o=r.status,a=function(t){var e=Lo[t];if(void 0!==e)return Go(e)}(o),s=r.message;void 0===a&&(a=Ii.INTERNAL,s="Unknown error status: "+o+" with message "+r.message),l=!0,h.Vi(new Si(a,s)),u.close()}else Ti("Connection","WebChannel received:",n),h.Si(n)}})),f(r,pi.STAT_EVENT,(function(t){t.stat===vi?Ti("Connection","Detected buffering proxy"):t.stat===mi&&Ti("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,i){var r=this.xi(t,e);Ti("RestConnection","Sending: ",r,n);var o={};return this.ki(o,i),this.Fi(t,r,o,n).then((function(t){return Ti("RestConnection","Received: ",t),t}),(function(e){throw Ai("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e}))},t.prototype.$i=function(t,e,n,i){return this.Ni(t,e,n,i)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=bc[t];return this.Di+"/v1/"+e+":"+n},t}());function Sc(){return"undefined"!=typeof window?window:null}function _c(){return"undefined"!=typeof document?document:null}function Ec(t){return new va(t,!0)}var Tc=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=i,this.Bi=r,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),r=Math.max(0,n-i);r>0&&Ti("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,r,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),kc=function(){function t(t,e,n,i,r,o){this.Se=t,this.zi=n,this.Hi=i,this.Ji=r,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ii.RESOURCE_EXHAUSTED?(ki(e.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ii.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Si(Ii.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,r.mG)(t,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Ti("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Ti("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ac=function(t){function e(e,n,i,r,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).R=r,a}return(0,r.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ni()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.I?(xi(void 0===e||"string"==typeof e),zi.fromBase64String(e||"")):(xi(void 0===e||e instanceof Uint8Array),zi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ii.UNKNOWN:Go(t.code);return new Si(e,t.message||"")}(s);n=new ua(i,r,o,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,r=_a(t,i.document.name),o=ba(i.document.updateTime);var s=new br({mapValue:{fields:i.document.fields}}),u=(a=Ir.newFoundDocument(r,o,s),i.targetIds||[]),c=i.removedTargetIds||[];n=new aa(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,r=_a(t,i.document),o=i.readTime?ba(i.readTime):Fi.min(),s=Ir.newNoDocument(r,o),a=i.removedTargetIds||[],n=new aa([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,r=_a(t,i.document),o=i.removedTargetIds||[],n=new aa([],o,r,null);else{if(!("filter"in e))return Ni();e.filter;var l=e.filter;l.targetId,i=l.count||0,r=new Vo(i),o=l.targetId,n=new sa(o,r)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Fi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fi.min():e.readTime?ba(e.readTime):Fi.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ka(this.R),e.addTarget=function(t,e){var n,i=e.target;return(n=kr(i)?{documents:Da(t,i)}:{query:Pa(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ga(t,e.resumeToken):e.snapshotVersion.compareTo(Fi.min())>0&&(n.readTime=ma(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ni()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ka(this.R),e.removeTarget=t,this.cr(e)},e}(kc),Cc=function(t){function e(e,n,i,r,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).R=r,a.gr=!1,a}return(0,r.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(xi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ba(t.updateTime):ba(e);return n.isEqual(Fi.min())&&(n=ba(e)),new So(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ba(t.commitTime);return this.listener.Tr(n,e)}return xi(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ka(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return xa(e.R,t)}))};this.cr(n)},e}(kc),Nc=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Hi=n,r.R=i,r.Rr=!1,r}return(0,r.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Si(Ii.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then((function(r){return i.Hi.Ni(t,e,n,r)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ii.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Si(Ii.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then((function(r){return i.Hi.$i(t,e,n,r)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ii.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Si(Ii.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),xc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ki(e),this.Vr=!1):Ti("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Oc=function(t,e,n,i,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,r.mG)(a,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return Vc(this)?(Ti("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return(e=Oi(t)).Or.add(4),[4,Pc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Dc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new xc(n,i)};function Dc(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:if(!Vc(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Pc(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Mc(t,e){var n=Oi(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Uc(n)?Fc(n):el(n).er()&&Lc(n,e))}function Rc(t,e){var n=Oi(t),i=el(n);n.$r.delete(e),i.er()&&jc(n,e),0===n.$r.size&&(i.er()?i.ir():Vc(n)&&n.Br.set("Unknown"))}function Lc(t,e){t.qr.U(e.targetId),el(t).mr(e)}function jc(t,e){t.qr.U(e),el(t).yr(e)}function Fc(t){t.qr=new la({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),el(t).start(),t.Br.Sr()}function Uc(t){return Vc(t)&&!el(t).tr()&&t.$r.size>0}function Vc(t){return 0===Oi(t).Or.size}function Bc(t){t.qr=void 0}function Gc(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return t.$r.forEach((function(e,n){Lc(t,e)})),[2]}))}))}function qc(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return Bc(t),Uc(t)?(t.Br.Nr(e),Fc(t)):t.Br.set("Unknown"),[2]}))}))}function Kc(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ua&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],t.$r.has(a)?[4,t.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),t.$r.delete(a),t.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),Ti("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Hc(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof aa?t.qr.X(e):e instanceof sa?t.qr.rt(e):t.qr.et(e),n.isEqual(Fi.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Fu(t.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.$r.get(i);r&&t.$r.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(zi.EMPTY_BYTE_STRING,n.snapshotVersion)),jc(t,e);var i=new xs(n.target,e,1,n.sequenceNumber);Lc(t,i)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ti("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Hc(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Hc(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i=this;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:if(!Is(e))throw e;return t.Or.add(1),[4,Pc(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Fu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,r.mG)(i,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return Ti("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Dc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Wc(t,e){return e().catch((function(n){return Hc(t,n,e)}))}function zc(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,i,o,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:e=Oi(t),n=nl(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Vc(t)&&t.Fr.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Bu(e.localStore,i)];case 3:return null===(o=r.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(t,e){t.Fr.push(e);var n=nl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,Hc(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Jc(e)&&Yc(e),[2]}}))}))}function Jc(t){return Vc(t)&&!nl(t).tr()&&t.Fr.length>0}function Yc(t){nl(t).start()}function Xc(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return nl(t).Ar(),[2]}))}))}function Zc(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,i,o;return(0,r.Jh)(this,(function(r){for(e=nl(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]}))}))}function Qc(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return i=t.Fr.shift(),o=Ns.from(i,e,n),[4,Wc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return r.sent(),[4,zc(t)];case 2:return r.sent(),[2]}}))}))}function $c(t,e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e&&nl(t).pr?[4,function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return Bo(i=e.code)&&i!==Ii.ABORTED?(n=t.Fr.shift(),nl(t).sr(),[4,Wc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,zc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Jc(t)&&Yc(t),[2]}}))}))}function tl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return n=Oi(t),e?(n.Or.delete(2),[4,Dc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Pc(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}}))}))}function el(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var i=Oi(t);return i.br(),new Ac(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Gc.bind(null,t),Ri:qc.bind(null,t),_r:Kc.bind(null,t)}),t.Mr.push((function(n){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Uc(t)?Fc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Bc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function nl(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var i=Oi(t);return i.br(),new Cc(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Xc.bind(null,t),Ri:$c.bind(null,t),Ir:Zc.bind(null,t),Tr:Qc.bind(null,t)}),t.Mr.push((function(n){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,zc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Ti("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var il=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Si(Ii.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function rl(t,e){if(ki("AsyncQueue",e+": "+t),Is(t))return new Si(Ii.UNAVAILABLE,e+": "+t);throw t}var ol=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||rr.comparator(e.key,n.key)}:function(t,e){return rr.comparator(t.key,e.key)},this.keyedMap=Zo(),this.sortedSet=new qo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),al=function(){function t(){this.Qr=new qo(rr.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ni():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),sl=function(){function t(t,e,n,i,r,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ol.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$r(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),ul=function(){this.Wr=void 0,this.listeners=[]},cl=function(){this.queries=new mu((function(t){return to(t)}),$r),this.onlineState="Unknown",this.Gr=new Set};function ll(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(n=Oi(t),i=e.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new ul),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.onListen(i)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=rl(u,"Initialization of query '"+eo(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&pl(n),[2]}}))}))}function hl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s;return(0,r.Jh)(this,(function(r){return n=Oi(t),i=e.query,o=!1,(a=n.queries.get(i))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function fl(t,e){for(var n=Oi(t),i=!1,r=0,o=e;r<o.length;r++){var a=o[r],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(i=!0);u.Wr=a}}i&&pl(n)}function dl(t,e,n){var i=Oi(t),r=i.queries.get(e);if(r)for(var o=0,a=r.listeners;o<a.length;o++)a[o].onError(n);i.queries.delete(e)}function pl(t){t.Gr.forEach((function(t){t.next()}))}var vl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new sl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),ml=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),gl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return _a(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Na(this.R,t.document,!1):Ir.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ba(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new gl(this.R),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||ea()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e,n,i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,Ju(this.localStore,new gl(this.R),this.documents,this.ro.id)];case 1:t=r.sent(),e=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,Yu(this.localStore,o,e.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new xu(Object.assign({},this.progress),t))]}}))}))}}();var yl=function(t){this.key=t},bl=function(t){this.key=t},wl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ea(),this.mutatedKeys=ea(),this.lo=io(t),this.fo=new ol(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,i=e?e.mo:new al,r=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,u=Hr(this.query)&&r.size===this.query.limit?r.last():null,c=Wr(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var l=r.get(t),h=no(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(i.track({type:3,doc:h}),p=!0):n.yo(l,h)||(i.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Hr(this.query)||Wr(this.query))for(;a.size>this.query.limit;){var l=Hr(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),i.track({type:1,doc:l})}return{fo:a,mo:i,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ni()}};return n(t)-n(e)}(t.type,e.type)||i.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new sl(this.query,t.fo,r,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new al,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ea(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new bl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new yl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ea();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return sl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Il=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sl=function(t){this.key=t,this.bo=!1},_l=function(){function t(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new mu((function(t){return to(t)}),$r),this.Vo=new Map,this.So=new Set,this.Do=new qo(rr.comparator),this.Co=new Map,this.No=new Zu,this.xo={},this.ko=new Map,this.Fo=ru.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function El(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s,u;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=$l(t),(a=n.Po.get(e))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Gu(n.localStore,Zr(e))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,[4,Tl(n,e,i,"current"===u)];case 3:o=r.sent(),n.isPrimaryClient&&Mc(n.remoteStore,s),r.label=4;case 4:return[2,o]}}))}))}function Tl(t,e,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return(0,r.Jh)(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,a,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(o=e.view._o(n)).Nn?[4,Ku(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.targetChanges.get(e.targetId),s=e.view.applyChanges(o,t.isPrimaryClient,a),[2,(Fl(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,i)},[4,Ku(t.localStore,e,!0)];case 1:return o=h.sent(),a=new wl(e,o.Bn),s=a._o(o.documents),u=oa.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),Fl(t,n,c.To),l=new Il(e,n,a),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function kl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=Oi(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter((function(t){return!$r(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,qu(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),Rc(n.remoteStore,i.targetId),Ll(n,i.targetId)})).catch(cu)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ll(n,i.targetId),[4,qu(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function Al(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:i=th(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,i=Oi(t),r=ji.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ea());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return i.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Co(c,n.get(c.key));null!=l&&a.push(new Do(c.key,l,wr(l.value.mapValue),_o.exists(!0)))}return i._n.addMutationBatch(t,r,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(i.localStore,e)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var i=t.xo[t.currentUser.toKey()];i||(i=new qo(Mi)),i=i.insert(e,n),t.xo[t.currentUser.toKey()]=i}(i,o.batchId,n),[4,Bl(i,o.changes)];case 3:return r.sent(),[4,zc(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=rl(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Cl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:n=Oi(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Uu(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach((function(t,e){var i=n.Co.get(e);i&&(xi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.bo=!0:t.modifiedDocuments.size>0?xi(i.bo):t.removedDocuments.size>0&&(xi(i.bo),i.bo=!1))})),[4,Bl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,cu(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Nl(t,e,n){var i=Oi(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.Po.forEach((function(t,n){var i=n.view.zr(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=Oi(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(e)&&(i=!0)})),i&&pl(n)}(i.eventManager,e),r.length&&i.vo._r(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function xl(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(i=Oi(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(a=o&&o.key)?(s=(s=new qo(rr.comparator)).insert(a,Ir.newNoDocument(a,Fi.min())),u=ea().add(a),c=new ra(Fi.min(),new Map,new Wo(Mi),s,u),[4,Cl(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(a),i.Co.delete(e),Vl(i),[3,4];case 2:return[4,qu(i.localStore,e,!1).then((function(){return Ll(i,e,n)})).catch(cu)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Ol(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:n=Oi(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,ju(n.localStore,e)];case 2:return o=r.sent(),Rl(n,i,null),Ml(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Bl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,cu(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Dl(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:i=Oi(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=Oi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n._n.lookupMutationBatch(t,e).next((function(e){return xi(null!==e),i=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,i)}))}))}(i.localStore,e)];case 2:return o=r.sent(),Rl(i,e,n),Ml(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Bl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,cu(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Pl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:Vc((n=Oi(t)).remoteStore)||Ti("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=Oi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return a=r.sent(),s=rl(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Ml(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Rl(t,e,n){var i=Oi(t),r=i.xo[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xo[i.currentUser.toKey()]=r}}function Ll(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.Vo.get(e);i<r.length;i++){var o=r[i];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||jl(t,e)}))}function jl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Rc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vl(t))}function Fl(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof yl?(t.No.addReference(o.key,e),Ul(t,o)):o instanceof bl?(Ti("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||jl(t,o.key)):Ni()}}function Ul(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(Ti("SyncEngine","New document in limbo: "+n),t.So.add(i),Vl(t))}function Vl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new rr(qi.fromString(e)),i=t.Fo.next();t.Co.set(i,new Sl(n)),t.Do=t.Do.insert(n,i),Mc(t.remoteStore,new xs(Zr(Kr(n.path)),i,2,wi.o))}}function Bl(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.Jh)(this,(function(u){switch(u.label){case 0:return i=Oi(t),o=[],a=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(t,r){s.push(i.Oo(r,e,n).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Du.Pn(r.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.vo._r(o),[4,function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:n=Oi(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ms.forEach(e,(function(e){return ms.forEach(e.bn,(function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)})).next((function(){return ms.forEach(e.vn,(function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!Is(i=r.sent()))throw i;return Ti("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}}))}))}(i.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Gl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(n=Oi(t)).currentUser.isEqual(e)?[3,3]:(Ti("SyncEngine","User change. New user:",e.toKey()),[4,Lu(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Si(Ii.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Bl(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function ql(t,e){var n=Oi(t),i=n.Co.get(e);if(i&&i.bo)return ea().add(i.key);var r=ea(),o=n.Vo.get(e);if(!o)return r;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);r=r.unionWith(c.view.wo)}return r}function Kl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,Ku((n=Oi(t)).localStore,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Fl(n,e.targetId,o.To),o)]}}))}))}function Hl(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){return[2,Wu((e=Oi(t)).localStore).then((function(t){return Bl(e,t)}))]}))}))}function Wl(t,e,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=Oi(t),i=Oi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return i.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):ms.resolve(null)}))}))}((o=Oi(t)).localStore,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,zc(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Rl(o,e,i||null),Ml(o,e),function(t,e){Oi(Oi(t)._n).Gt(e)}(o.localStore,e)):Ni(),r.label=4;case 4:return[4,Bl(o,a)];case 5:return r.sent(),[3,7];case 6:Ti("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function zl(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return $l(n=Oi(t)),th(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Jl(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,tl(n.remoteStore,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],Mc(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return Ll(n,e),qu(n.localStore,e,!0)})),Rc(n.remoteStore,e)})),[4,l]);case 4:return r.sent(),[4,Jl(n,c)];case 5:return r.sent(),function(t){var e=Oi(t);e.Co.forEach((function(t,n){Rc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new qo(rr.comparator)}(n),n.$o=!1,[4,tl(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Jl(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h,f,d,p,v,m;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:n=Oi(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Gu(n.localStore,Zr(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Kl(n,p)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Hu(n.localStore,u)];case 8:return m=r.sent(),[4,Gu(n.localStore,m)];case 9:return c=r.sent(),[4,Tl(n,Yl(m),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),i)]}}))}))}function Yl(t){return qr(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xl(t){var e=Oi(t);return Oi(Oi(e.localStore).persistence).fn()}function Zl(t,e,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,a,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(o=Oi(t)).$o?(Ti("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wu(o.localStore)];case 3:return a=r.sent(),s=ra.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Bl(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,qu(o.localStore,e,!0)];case 6:return r.sent(),Ll(o,e,i),[3,8];case 7:Ni(),r.label=8;case 8:return[2]}}))}))}function Ql(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,r.Jh)(this,(function(p){switch(p.label){case 0:if(!(i=$l(t)).$o)return[3,10];o=0,a=e,p.label=1;case 1:return o<a.length?(s=a[o],i.Vo.has(s)?(Ti("SyncEngine","Adding an already active target "+s),[3,5]):[4,Hu(i.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,Gu(i.localStore,u)];case 3:return c=p.sent(),[4,Tl(i,Yl(u),c.targetId,!1)];case 4:p.sent(),Mc(i.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,qu(i.localStore,t,!1).then((function(){Rc(i.remoteStore,t),Ll(i,t)})).catch(cu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(d=f[h],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function $l(t){var e=Oi(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ql.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xl.bind(null,e),e.vo._r=fl.bind(null,e.eventManager),e.vo.Mo=dl.bind(null,e.eventManager),e}function th(t){var e=Oi(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ol.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dl.bind(null,e),e}var eh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return this.R=Ec(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Ru(this.persistence,new Pu,t.initialUser,this.R)},t.prototype.qo=function(t){return new ic(oc.bs,this.R)},t.prototype.Bo=function(t){return new mc},t.prototype.terminate=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),nh=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Qo=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return(0,r.ZT)(e,t),e.prototype.initialize=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var n=this;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,zu(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,e)];case 3:return i.sent(),[4,th(this.Qo.syncEngine)];case 4:return i.sent(),[4,zc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return i.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Ru(this.persistence,new Pu,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new fu(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new ku(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Sc(),_c(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new mc},e}(eh),ih=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Qo=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return(0,r.ZT)(e,t),e.prototype.initialize=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i=this;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof vc?(this.sharedClientState.syncEngine={ui:Wl.bind(null,n),ai:Zl.bind(null,n),hi:Ql.bind(null,n),fn:Xl.bind(null,n),ci:Hl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return(0,r.mG)(i,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,zl(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Sc();if(!vc.yt(e))throw new Si(Ii.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new vc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(nh),rh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n=this;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Nl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gl.bind(null,this.syncEngine),[4,tl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new cl},t.prototype.createDatastore=function(t){var e,n=Ec(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new Ic(e));return function(t,e,n){return new Nc(t,e,n)}(t.credentials,i,n)},t.prototype.createRemoteStore=function(t){var e,n,i,r,o,a=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return Nl(a.syncEngine,t,0)},o=yc.yt()?new yc:new gc,new Oc(e,n,i,r,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,o,a){var s=new _l(t,e,n,i,r,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e=Oi(t),Ti("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Pc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),oh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ah=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new vs,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e,n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new ml(JSON.parse(i),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Si(Ii.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,a,s,u;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=Oi(t),i=ka(n.R)+"/documents",o={documents:e.map((function(t){return Sa(n.R,t)}))},[4,n.$i("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xi(!!e.found),e.found.name,e.found.updateTime;var n=_a(t,e.found.name),i=ba(e.found.updateTime),r=new br({mapValue:{fields:e.found.fields}});return Ir.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){xi(!!e.missing),xi(!!e.readTime);var n=_a(t,e.missing),i=ba(e.readTime);return Ir.newNoDocument(n,i)}(t,e):Ni()}(n.R,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());xi(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Fo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var i=rr.fromPath(n);e.mutations.push(new Uo(i,e.precondition(i)))})),[4,function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=Oi(t),i=ka(n.R)+"/documents",o={writes:e.map((function(t){return xa(n.R,t)}))},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ni();e=Fi.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Si(Ii.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_o.updateTime(e):_o.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Fi.min()))throw new Si(Ii.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _o.updateTime(e)}return _o.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),sh=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ec=5,this.Zi=new Tc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,r.mG)(t,void 0,void 0,(function(){var t,e,n=this;return(0,r.Jh)(this,(function(i){return t=new ah(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!er(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bo(e)}return!1},t}(),uh=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ac.UNAUTHENTICATED,this.clientId=Pi.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,r.mG)(i,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return Ti("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Si(Ii.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,r.mG)(t,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=rl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ch(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o=this;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ti("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),i=n.initialUser,t.setCredentialChangeListener((function(t){return(0,r.mG)(o,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,Lu(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function lh(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,hh(t)];case 1:return n=o.sent(),Ti("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,r.mG)(this,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(n=Oi(t)).asyncQueue.verifyOperationInProgress(),Ti("RemoteStore","RemoteStore received new credentials"),i=Vc(n),n.Or.add(3),[4,Pc(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,Dc(n)];case 3:return r.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function hh(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ti("FirestoreClient","Using default OfflineComponentProvider"),[4,ch(t,new eh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function fh(t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ti("FirestoreClient","Using default OnlineComponentProvider"),[4,lh(t,new rh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function dh(t){return hh(t).then((function(t){return t.persistence}))}function ph(t){return hh(t).then((function(t){return t.localStore}))}function vh(t){return fh(t).then((function(t){return t.remoteStore}))}function mh(t){return fh(t).then((function(t){return t.syncEngine}))}function gh(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,fh(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=El.bind(null,e.syncEngine),n.onUnlisten=kl.bind(null,e.syncEngine),n)]}}))}))}function yh(t,e,n){var i=this;void 0===n&&(n={});var o=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(i,void 0,void 0,(function(){var i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,i,r){var o=new oh({next:function(o){e.enqueueAndForget((function(){return hl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?r.reject(new Si(Ii.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&i&&"server"===i.source?r.reject(new Si(Ii.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),a=new vl(Kr(n.path),o,{includeMetadataChanges:!0,so:!0});return ll(t,a)},[4,gh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function bh(t,e,n){var i=this;void 0===n&&(n={});var o=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(i,void 0,void 0,(function(){var i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,i,r){var o=new oh({next:function(n){e.enqueueAndForget((function(){return hl(t,a)})),n.fromCache&&"server"===i.source?r.reject(new Si(Ii.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),a=new vl(n,o,{includeMetadataChanges:!0,so:!0});return ll(t,a)},[4,gh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var wh=function(t,e,n,i,r,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ih=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Sh=new Map,_h=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Eh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(ac.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Th=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),kh=function(){function t(t){var e=this;this.currentUser=ac.UNAUTHENTICATED,this.oc=new vs,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Ti("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var i=t.getImmediate({optional:!0});i?n(i):(Ti("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Ti("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xi("string"==typeof n.accessToken),new _h(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return(0,r.mG)(n,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xi(null===t||"string"==typeof t),new ac(t)},t}(),Ah=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ac.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ch=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ah(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(ac.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Nh(t,e,n){if(!n)throw new Si(Ii.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Si(Ii.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Oh(t,e,n,i){if(!0===e&&!0===i)throw new Si(Ii.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dh(t){if(!rr.isDocumentKey(t))throw new Si(Ii.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ph(t){if(rr.isDocumentKey(t))throw new Si(Ii.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Mh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ni()}function Rh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Si(Ii.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mh(t);throw new Si(Ii.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Lh(t,e){if(e<=0)throw new Si(Ii.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Si(Ii.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Si(Ii.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Oh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Fh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jh({}),this._settingsFrozen=!1,t instanceof Ih?(this._databaseId=t,this._credentials=new Eh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Si(Ii.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(t.options.projectId)}(t),this._credentials=new kh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Si(Ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Si(Ii.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Eh;switch(t.type){case"gapi":var e=t.client;return xi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ch(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Si(Ii.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Sh.get(this))&&(Ti("ComponentProvider","Removing Datastore"),Sh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Uh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Bh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Bh=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,Kr(i))||this)._path=i,r.type="collection",r}return(0,r.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Uh(this.firestore,null,new rr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vh);function Gh(t,e){for(var n,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(t=(0,o.m9)(t),Nh("collection","path",e),t instanceof Fh)return Ph(n=qi.fromString.apply(qi,(0,r.ev)([e],i))),new Bh(t,null,n);if(!(t instanceof Uh||t instanceof Bh))throw new Si(Ii.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ph(n=qi.fromString.apply(qi,(0,r.ev)([t.path],i)).child(qi.fromString(e))),new Bh(t.firestore,null,n)}function qh(t,e){for(var n,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(t=(0,o.m9)(t),1===arguments.length&&(e=Pi.u()),Nh("doc","path",e),t instanceof Fh)return Dh(n=qi.fromString.apply(qi,(0,r.ev)([e],i))),new Uh(t,null,new rr(n));if(!(t instanceof Uh||t instanceof Bh))throw new Si(Ii.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dh(n=t._path.child(qi.fromString.apply(qi,(0,r.ev)([e],i)))),new Uh(t.firestore,t instanceof Bh?t.converter:null,new rr(n))}function Kh(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),(t instanceof Uh||t instanceof Bh)&&(e instanceof Uh||e instanceof Bh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Hh(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),t instanceof Vh&&e instanceof Vh&&t.firestore===e.firestore&&$r(t._query,e._query)&&t.converter===e.converter}var Wh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Tc(this,"async_queue_retry"),this.Ic=function(){var e=_c();e&&Ti("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=_c();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=_c();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new vs;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Is(t=n.sent()))throw t;return Ti("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,ki("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var r=il.createAndSchedule(this,t,e,n,(function(t){return i.vc(t)}));return this.mc.push(r),r},t.prototype.Ac=function(){this.yc&&Ni()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,i=e.mc;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function zh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new vs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Jh=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).type="firestore",i._queue=new Wh,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return(0,r.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Xh(this),this._firestoreClient.terminate()},e}(Fh);function Yh(t){return t._firestoreClient||Xh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xh(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new wh(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new uh(t._credentials,t._queue,i)}function Zh(t,e,n){var i=this,o=new vs;return t.asyncQueue.enqueue((function(){return(0,r.mG)(i,void 0,void 0,(function(){var i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,ch(t,n)];case 1:return r.sent(),[4,lh(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ii.FAILED_PRECONDITION||t.code===Ii.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Qh(t){if(t._initialized||t._terminated)throw new Si(Ii.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $h=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Si(Ii.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),tf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(zi.fromBase64String(e))}catch(e){throw new Si(Ii.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(zi.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ef=function(t){this._methodName=t},nf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Si(Ii.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Si(Ii.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Mi(this._lat,t._lat)||Mi(this._long,t._long)},t}(),rf=/^__.*__$/,of=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Do(t,this.data,this.fieldMask,e,this.fieldTransforms):new Oo(t,this.data,e,this.fieldTransforms)},t}(),af=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Do(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function sf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ni()}}var uf=function(){function t(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Cc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.$c(t),i},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Cf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(sf(this.Nc)&&rf.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),cf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ec(t)}return t.prototype.Uc=function(t,e,n,i){return void 0===i&&(i=!1),new uf({Nc:t,methodName:e,qc:n,path:Hi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function lf(t){var e=t._freezeSettings(),n=Ec(t._databaseId);return new cf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hf(t,e,n,i,r,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,r);Ef("Data must be an object, but it was:",a,i);var s,u,c=Sf(i,a);if(o.merge)s=new Wi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Tf(e,f[h],n);if(!a.contains(d))throw new Si(Ii.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Nf(l,d)||l.push(d)}s=new Wi(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new of(new br(c),s,u)}var ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ef);function df(t,e,n){return new uf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Io(t.path,new fo)},e.prototype.isEqual=function(t){return t instanceof e},e}(ef),vf=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return(0,r.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=df(this,t,!0),n=this.Kc.map((function(t){return If(t,e)})),i=new po(n);return new Io(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ef),mf=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return(0,r.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=df(this,t,!0),n=this.Kc.map((function(t){return If(t,e)})),i=new mo(n);return new Io(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ef),gf=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Qc=n,i}return(0,r.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new yo(t.R,so(t.R,this.Qc));return new Io(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ef);function yf(t,e,n,i){var r=t.Uc(1,e,n);Ef("Data must be an object, but it was:",r,i);var a=[],s=br.empty();Vi(i,(function(t,i){var u=Af(e,t,n);i=(0,o.m9)(i);var c=r.Oc(u);if(i instanceof ff)a.push(u);else{var l=If(i,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new Wi(a);return new af(s,u,r.fieldTransforms)}function bf(t,e,n,i,r,a){var s=t.Uc(1,e,n),u=[Tf(e,i,n)],c=[r];if(a.length%2!=0)throw new Si(Ii.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(Tf(e,a[l])),c.push(a[l+1]);for(var h=[],f=br.empty(),d=u.length-1;d>=0;--d)if(!Nf(h,u[d])){var p=u[d],v=c[d];v=(0,o.m9)(v);var m=s.Oc(p);if(v instanceof ff)h.push(p);else{var g=If(v,m);null!=g&&(h.push(p),f.set(p,g))}}var y=new Wi(h);return new af(f,y,s.fieldTransforms)}function wf(t,e,n,i){return void 0===i&&(i=!1),If(n,t.Uc(i?4:3,e))}function If(t,e){if(_f(t=(0,o.m9)(t)))return Ef("Unsupported field value:",e,t),Sf(t,e);if(t instanceof ef)return function(t,e){if(!sf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var a=If(o[r],e.Mc(i));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,o.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return so(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ji.fromDate(t);return{timestampValue:ma(e.R,n)}}if(t instanceof ji)return n=new ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ma(e.R,n)};if(t instanceof nf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tf)return{bytesValue:ga(e.R,t._byteString)};if(t instanceof Uh){n=e.databaseId;var i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:wa(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Mh(t))}(t,e)}function Sf(t,e){var n={};return Bi(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,(function(t,i){var r=If(i,e.kc(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function _f(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ji||t instanceof nf||t instanceof tf||t instanceof Uh||t instanceof ef)}function Ef(t,e,n){if(!_f(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Mh(n);throw"an object"===i?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function Tf(t,e,n){if((e=(0,o.m9)(e))instanceof $h)return e._internalPath;if("string"==typeof e)return Af(t,e);throw Cf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kf=new RegExp("[~\\*/\\[\\]]");function Af(t,e,n){if(e.search(kf)>=0)throw Cf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($h.bind.apply($h,(0,r.ev)([void 0],e.split(".")))))._internalPath}catch(i){throw Cf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cf(t,e,n,i,r){var o=i&&!i.isEmpty(),a=void 0!==r,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+i),a&&(u+=" in document "+r),u+=")"),new Si(Ii.INVALID_ARGUMENT,(s+=". ")+t+u)}function Nf(t,e){return t.some((function(t){return t.isEqual(e)}))}var xf=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Of(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Df("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(xf);function Df(t,e){return"string"==typeof e?Af(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}var Pf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Mf=function(t){function e(e,n,i,r,o,a){var s=this;return(s=t.call(this,e,n,i,r,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,r.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Df("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(xf),Rf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Mf),Lf=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Pf(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(i){t.call(e,new Rf(n._firestore,n._userDataWriter,i.key,i,new Pf(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Si(Ii.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Rf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Pf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Rf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Pf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:jf(e.type),doc:n,oldIndex:r,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function jf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ni()}}function Ff(t,e){return t instanceof Mf&&e instanceof Mf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Lf&&e instanceof Lf&&t._firestore===e._firestore&&Hh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Uf(t){if(Wr(t)&&0===t.explicitOrderBy.length)throw new Si(Ii.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vf=function(){};function Bf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o._apply(t)}return t}var Gf=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).jc=e,r.Wc=n,r.Gc=i,r.type="where",r}return(0,r.ZT)(e,t),e.prototype._apply=function(t){var e=lf(t.firestore),n=function(t,e,n,i,r,o,a){var s;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Si(Ii.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yf(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Jf(i,t,h))}s={arrayValue:{values:u}}}else s=Jf(i,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yf(a,o),s=wf(n,"where",a,"in"===o||"not-in"===o);var f=Ar.create(r,o,s);return function(t,e){if(e.g()){var n=Jr(t);if(null!==n&&!n.isEqual(e.field))throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=zr(t);null!==i&&Xf(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw r===e.op?new Si(Ii.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Si(Ii.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vf),qf=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).jc=e,i.zc=n,i.type="orderBy",i}return(0,r.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new Fr(e,n);return function(t,e){if(null===zr(t)){var n=Jr(t);null!==n&&Xf(0,n,e.field)}}(t,i),i}(t._query,this.jc,this.zc);return new Vh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Gr(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vf),Kf=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return(0,r.ZT)(e,t),e.prototype._apply=function(t){return new Vh(t.firestore,t.converter,Qr(t._query,this.Hc,this.Jc))},e}(Vf),Hf=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return(0,r.ZT)(e,t),e.prototype._apply=function(t){var e=zf(t,this.type,this.Yc,this.Xc);return new Vh(t.firestore,t.converter,function(t,e){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vf),Wf=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return(0,r.ZT)(e,t),e.prototype._apply=function(t){var e=zf(t,this.type,this.Yc,this.Xc);return new Vh(t.firestore,t.converter,function(t,e){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vf);function zf(t,e,n,i){if(n[0]=(0,o.m9)(n[0]),n[0]instanceof xf)return function(t,e,n,i,r){if(!i)throw new Si(Ii.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Xr(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(fr(e,i.key));else{var c=i.data.field(u.field);if(Qi(c))throw new Si(Ii.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Lr(o,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=lf(t.firestore);return function(t,e,n,i,r,o){var a=t.explicitOrderBy;if(r.length>a.length)throw new Si(Ii.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<r.length;u++){var c=r[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof c);if(!Yr(t)&&-1!==c.indexOf("/"))throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(qi.fromString(c));if(!rr.isDocumentKey(l))throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new rr(l);s.push(fr(e,h))}else{var f=wf(n,i,c);s.push(f)}}return new Lr(s,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function Jf(t,e,n){if("string"==typeof(n=(0,o.m9)(n))){if(""===n)throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yr(e)&&-1!==n.indexOf("/"))throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(qi.fromString(n));if(!rr.isDocumentKey(i))throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return fr(t,new rr(i))}if(n instanceof Uh)return fr(t,n._key);throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mh(n)+".")}function Yf(t,e){if(!Array.isArray(t)||0===t.length)throw new Si(Ii.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Si(Ii.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xf(t,e,n){if(!n.isEqual(e))throw new Si(Ii.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Zf=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ni()}},t.prototype.convertObject=function(t,e){var n=this,i={};return Vi(t.fields,(function(t,r){i[t]=n.convertValue(r,e)})),i},t.prototype.convertGeoPoint=function(t){return new nf(Xi(t.latitude),Xi(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=$i(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(tr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Yi(t);return new ji(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=qi.fromString(t);xi(Ha(n));var i=new Ih(n.get(1),n.get(3)),r=new rr(n.popFirst(5));return i.isEqual(e)||ki("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();function Qf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $f=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.ZT)(e,t),e.prototype.convertBytes=function(t){return new tf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uh(this.firestore,null,e)},e}(Zf),td=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=ed(t,this._firestore),r=Qf(i.converter,e,n),o=hf(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,_o.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var a,s=ed(t,this._firestore);return a="string"==typeof(e=(0,o.m9)(e))||e instanceof $h?bf(this._dataReader,"WriteBatch.update",s._key,e,n,i):yf(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,_o.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ed(t,this._firestore);return this._mutations=this._mutations.concat(new Fo(e._key,_o.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Si(Ii.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ed(t,e){if((t=(0,o.m9)(t)).firestore!==e)throw new Si(Ii.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.ZT)(e,t),e.prototype.convertBytes=function(t){return new tf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uh(this.firestore,null,e)},e}(Zf);function id(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Rh(t,Uh);var a=Rh(t.firestore,Jh),s=lf(a);return od(a,[("string"==typeof(e=(0,o.m9)(e))||e instanceof $h?bf(s,"updateDoc",t._key,e,n,i):yf(s,"updateDoc",t._key,e)).toMutation(t._key,_o.exists(!0))])}function rd(t){for(var e,n,i,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];t=(0,o.m9)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||zh(a[c])||(u=a[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(zh(a[c])){var p=a[c];a[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(t instanceof Uh)h=Rh(t.firestore,Jh),f=Kr(t._key.path),l={next:function(e){a[c]&&a[c](ad(h,t,e))},error:a[c+1],complete:a[c+2]};else{var v=Rh(t,Vh);h=Rh(v.firestore,Jh),f=v._query;var m=new nd(h);l={next:function(t){a[c]&&a[c](new Lf(h,m,v,t))},error:a[c+1],complete:a[c+2]},Uf(t._query)}return function(t,e,n,i){var o=this,a=new oh(i),s=new vl(e,a,n);return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(o,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e=ll,[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(o,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e=hl,[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Yh(h),f,d,l)}function od(t,e){return function(t,e){var n=this,i=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(n,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=Al,[4,mh(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(Yh(t),e)}function ad(t,e,n){var i=n.docs.get(e._key),r=new nd(t);return new Mf(t,r,e._key,i,new Pf(n.hasPendingWrites,n.fromCache),e.converter)}var sd=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return(0,r.ZT)(e,t),e.prototype.get=function(e){var n=this,i=ed(e,this._firestore),r=new nd(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Mf(n._firestore,r,i._key,t._document,new Pf(!1,!1),i.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lf(t)}return t.prototype.get=function(t){var e=this,n=ed(t,this._firestore),i=new $f(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Ni();var r=t[0];if(r.isFoundDocument())return new xf(e._firestore,i,r.key,r,n.converter);if(r.isNoDocument())return new xf(e._firestore,i,n._key,null,n.converter);throw Ni()}))},t.prototype.set=function(t,e,n){var i=ed(t,this._firestore),r=Qf(i.converter,e,n),o=hf(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var a,s=ed(t,this._firestore);return a="string"==typeof(e=(0,o.m9)(e))||e instanceof $h?bf(this._dataReader,"Transaction.update",s._key,e,n,i):yf(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=ed(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ud(){if("undefined"==typeof Uint8Array)throw new Si(Ii.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cd(){if("undefined"==typeof atob)throw new Si(Ii.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ld=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return cd(),new t(tf.fromBase64String(e))},t.fromUint8Array=function(e){return ud(),new t(tf.fromUint8Array(e))},t.prototype.toBase64=function(){return cd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ud(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Qh(t=Rh(t,Jh));var n=Yh(t),i=t._freezeSettings(),r=new rh;return Zh(n,r,new nh(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Qh(t=Rh(t,Jh));var e=Yh(t),n=t._freezeSettings(),i=new rh;return Zh(e,i,new ih(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Si(Ii.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new vs;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,r.mG)(e,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return ys.yt()?(e=t+"main",[4,ys.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Nu(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),fd=function(){function t(t,e,n){var i=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ih||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ai("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){var r;void 0===i&&(i={});var a=(t=Rh(t,Fh))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ai("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:e+":"+n,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=ac.MOCK_USER;else{s=(0,o.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Si(Ii.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ac(c)}t._credentials=new Th(new _h(s,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,r.mG)(e,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,dh(t)];case 1:return e=i.sent(),[4,vh(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Oi(t);return e.Or.delete(0),Dc(e)}(n))]}}))}))}))}(Yh(Rh(this._delegate,Jh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,r.mG)(e,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,dh(t)];case 1:return e=i.sent(),[4,vh(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return(e=Oi(t)).Or.add(0),[4,Pc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Yh(Rh(this._delegate,Jh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Oh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(e,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return e=Pl,[4,mh(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}}))}))})),n.promise}(Yh(Rh(this._delegate,Jh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new oh(e);return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(n,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Oi(t).Gr.add(e),e.next()},[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(n,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Oi(t).Gr.delete(e)},[4,gh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}(Yh(t=Rh(t,Jh)),zh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Si(Ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kd(this,Gh(this._delegate,t))}catch(t){throw yd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new gd(this,qh(this._delegate,t))}catch(t){throw yd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new _d(this,function(t,e){if(t=Rh(t,Fh),Nh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Si(Ii.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vh(t,null,function(t){return new Gr(qi.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw yd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(n,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,function(t){return fh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=r.sent(),new sh(t.asyncQueue,n,e,i).run(),[2]}}))}))})),i.promise}(Yh(t),(function(n){return e(new sd(t,n))}))}(this._delegate,(function(n){return t(new pd(e,n))}))},t.prototype.batch=function(){var t=this;return Yh(this._delegate),new vd(new td(this._delegate,(function(e){return od(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Si(Ii.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Si(Ii.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),dd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.ZT)(e,t),e.prototype.convertBytes=function(t){return new ld(new tf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return gd.eu(e,this.firestore,null)},e}(Zf),pd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new dd(t)}return t.prototype.get=function(t){var e=this,n=Ad(t);return this._delegate.get(n).then((function(t){return new Id(e._firestore,new Mf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var i=Ad(t);return n?(xh("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Ad(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,(0,r.ev)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Ad(t);return this._delegate.delete(e),this},t}(),vd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var i=Ad(t);return n?(xh("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Ad(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,(0,r.ev)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Ad(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),md=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Rf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sd(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var i=t.su,r=i.get(e);r||(r=new WeakMap,i.set(e,r));var o=r.get(n);return o||(o=new t(e,new dd(e),n),r.set(n,o)),o},t}();md.su=new WeakMap;var gd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dd(t)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new Si(Ii.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Uh(n._delegate,i,new rr(e)))},t.eu=function(e,n,i){return new t(n,new Uh(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kd(this.firestore,Gh(this._delegate,t))}catch(t){throw yd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,o.m9)(t))instanceof Uh&&Kh(this._delegate,t)},t.prototype.set=function(t,e){e=xh("DocumentReference.set",e);try{return function(t,e,n){t=Rh(t,Uh);var i=Rh(t.firestore,Jh),r=Qf(t.converter,e,n);return od(i,[hf(lf(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,_o.none())])}(this._delegate,t,e)}catch(t){throw yd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?id(this._delegate,t):id.apply(void 0,(0,r.ev)([this._delegate,t,e],n))}catch(t){throw yd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return od(Rh((t=this._delegate).firestore,Jh),[new Fo(t._key,_o.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=bd(e),r=wd(e,(function(e){return new Id(t.firestore,new Mf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return rd(this._delegate,i,r)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Jh),n=Yh(e),i=new nd(e);return function(t,e){var n=this,i=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(n,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=Oi(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new Si(Ii.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=rl(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,ph(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._key).then((function(n){return new Mf(e,i,t._key,n,new Pf(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Jh);return yh(Yh(e),t._key,{source:"server"}).then((function(n){return ad(e,t,n)}))}(this._delegate):function(t){t=Rh(t,Uh);var e=Rh(t.firestore,Jh);return yh(Yh(e),t._key).then((function(n){return ad(e,t,n)}))}(this._delegate)).then((function(t){return new Id(e.firestore,new Mf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(md.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function yd(t,e,n){return t.message=t.message.replace(e,n),t}function bd(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!zh(i))return i}return{}}function wd(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=zh(t[0])?t[0]:zh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var Id=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new gd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ff(this._delegate,t._delegate)},t}(),Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Id),_d=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dd(t)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,Bf(this._delegate,function(t,e,n){var i=e,r=Df("where",t);return new Gf(r,i,n)}(e,n,i)))}catch(e){throw yd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Bf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=Df("orderBy",t);return new qf(i,n)}(e,n)))}catch(e){throw yd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Bf(this._delegate,function(t){return Lh("limit",t),new Kf("limit",t,"F")}(e)))}catch(e){throw yd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Bf(this._delegate,function(t){return Lh("limitToLast",t),new Kf("limitToLast",t,"L")}(e)))}catch(e){throw yd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw yd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw yd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw yd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Bf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw yd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Hh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rh(t,Vh);var e=Rh(t.firestore,Jh),n=Yh(e),i=new nd(e);return function(t,e){var n=this,i=new vs;return t.asyncQueue.enqueueAndForget((function(){return(0,r.mG)(n,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ku(t,e,!0)];case 1:return u=r.sent(),i=new wl(e,u.Bn),o=i._o(u.documents),a=i.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=r.sent(),u=rl(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ph(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._query).then((function(n){return new Lf(e,i,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Rh(t,Vh);var e=Rh(t.firestore,Jh),n=Yh(e),i=new nd(e);return bh(n,t._query,{source:"server"}).then((function(n){return new Lf(e,i,t,n)}))}(this._delegate):function(t){t=Rh(t,Vh);var e=Rh(t.firestore,Jh),n=Yh(e),i=new nd(e);return Uf(t._query),bh(n,t._query).then((function(n){return new Lf(e,i,t,n)}))}(this._delegate)).then((function(t){return new Td(e.firestore,new Lf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=bd(e),r=wd(e,(function(e){return new Td(t.firestore,new Lf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return rd(this._delegate,i,r)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(md.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Ed=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Sd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Td=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new _d(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Sd(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Ed(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(i){t.call(e,new Sd(n._firestore,i))}))},t.prototype.isEqual=function(t){return Ff(this._delegate,t._delegate)},t}(),kd=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return(0,r.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new gd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new gd(this.firestore,void 0===t?qh(this._delegate):qh(this._delegate,t))}catch(t){throw yd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Rh(t.firestore,Jh),i=qh(t),r=Qf(t.converter,e);return od(n,[hf(lf(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,_o.exists(!1))]).then((function(){return i}))}(this._delegate,t).then((function(t){return new gd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Kh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(md.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(_d);function Ad(t){return Rh(t,Uh)}var Cd,Nd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new($h.bind.apply($h,(0,r.ev)([void 0],t)))}return t.documentId=function(){return new t(Hi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,o.m9)(t))instanceof $h&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),xd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new pf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ff("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vf("arrayUnion",t)}.apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mf("arrayRemove",t)}.apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(t){return new gf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Od=n(909),Dd={Firestore:fd,GeoPoint:nf,Timestamp:ji,Blob:ld,Transaction:pd,WriteBatch:vd,DocumentReference:gd,DocumentSnapshot:Id,Query:_d,QueryDocumentSnapshot:Sd,QuerySnapshot:Td,CollectionReference:kd,FieldPath:Nd,FieldValue:xd,setLogLevel:function(t){var e;e=t,_i.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Od.wA("firestore",(function(t){return function(t,e){return new fd(t,new Jh(t,e),new hd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Dd)))})(Cd=i.Z),Cd.registerVersion("@firebase/firestore","2.4.0")},4811:(t,e,n)=>{"use strict";n.r(e),n.d(e,{auth:()=>a});var i=n(5503),r=(n(7397),n(7211)),o=n.n(r);n(3544),n(4997),n(4210),n(5634),n(6573),function(){(function(){var t,e,r="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var o;t:{var a={};try{a.__proto__={xb:!0},o=a.xb;break t}catch(Xt){}o=!1}e=o?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var s=e;function u(t,e){if(t.prototype=r(e.prototype),t.prototype.constructor=t,s)s(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}else t[n]=e[n];t.K=e.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},l="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function h(t,e){if(e){var n=l;t=t.split(".");for(var i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&c(n,t,{configurable:!0,writable:!0,value:e})}}h("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),h("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(e=e||0)&&(e=Math.max(e+i,0));e<i;e++){var r=n[e];if(r===t||Object.is(r,t))return!0}return!1}}));var f=this;function d(t){return void 0!==t}function p(t){return"string"==typeof t}var v=/^[\w+/_-]+[=]{0,2}$/,m=null;function g(){}function y(t){t.W=void 0,t.Xa=function(){return t.W?t.W:t.W=new t}}function b(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function w(t){return"array"==b(t)}function I(t){var e=b(t);return"array"==e||"object"==e&&"number"==typeof t.length}function S(t){return"function"==b(t)}function _(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var E="closure_uid_"+(1e9*Math.random()>>>0),T=0;function k(t,e,n){return t.call.apply(t.bind,arguments)}function A(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:A).apply(null,arguments)}function N(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function x(t,e){for(var n in e)t[n]=e[n]}var O,D=Date.now||function(){return+new Date};function P(t,e){t=t.split(".");var n,i=f;t[0]in i||void 0===i.execScript||i.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&d(e)?i[n]=e:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function M(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.wc=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");R.call(this,n+t[i])}function j(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}M(R,Error),R.prototype.name="CustomError",M(L,R),L.prototype.name="AssertionError";var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(p(t))return p(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o=p(t)?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(i[r++]=s)}return i},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r=p(t)?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=p(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function q(t,e){return 0<=F(t,e)}function K(t,e){var n;return(n=0<=(e=F(t,e)))&&H(t,e),n}function H(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function W(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function J(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,Z=/</g,Q=/>/g,$=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function it(t,e){return t<e?-1:t>e?1:0}function rt(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace($,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function ot(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function at(t){var e,n={};for(e in t)n[e]=t[e];return n}var st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<st.length;o++)n=st[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}var ct="StopIteration"in f?f.StopIteration:{message:"StopIteration",stack:""};function lt(){}function ht(t){if(t instanceof lt)return t;if("function"==typeof t.ha)return t.ha(!1);if(I(t)){var e=0,n=new lt;return n.next=function(){for(;;){if(e>=t.length)throw ct;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function ft(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof ft)for(n=t.ja(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function dt(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];pt(t.g,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.h!=t.a.length){var r={};for(n=e=0;e<t.a.length;)pt(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function pt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}lt.prototype.next=function(){throw ct},lt.prototype.ha=function(){return this},(t=ft.prototype).la=function(){dt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ja=function(){return dt(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return pt(this.g,t)?this.g[t]:e},t.set=function(t,e){pt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ja(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}},t.ha=function(t){dt(this);var e=0,n=this.j,i=this,r=new lt;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(e>=i.a.length)throw ct;var r=i.a[e++];return t?r:i.g[r]},r};var vt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mt(t,e,n,i){for(var r=n.length;0<=(e=t.indexOf(n,e))&&e<i;){var o=t.charCodeAt(e-1);if(!(38!=o&&63!=o||(o=t.charCodeAt(e+r))&&61!=o&&38!=o&&35!=o))return e;e+=r+1}return-1}var gt=/#|$/;function yt(t,e){var n=t.search(gt),i=mt(t,0,e,n);if(0>i)return null;var r=t.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=e.length+1,decodeURIComponent(t.substr(i,r-i).replace(/\+/g," "))}var bt=/[?&]($|#)/;function wt(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof wt?(this.i=d(e)?e:t.i,It(this,t.j),this.A=t.A,this.h=t.h,St(this,t.C),this.g=t.g,_t(this,jt(t.a)),this.s=t.s):t&&(n=String(t).match(vt))?(this.i=!!e,It(this,n[1]||"",!0),this.A=Tt(n[2]||""),this.h=Tt(n[3]||"",!0),St(this,n[4]),this.g=Tt(n[5]||"",!0),_t(this,n[6]||"",!0),this.s=Tt(n[7]||"")):(this.i=!!e,this.a=new Pt(null,this.i))}function It(t,e,n){t.j=n?Tt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function St(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function _t(t,e,n){e instanceof Pt?(t.a=e,function(t,e){e&&!t.j&&(Mt(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Rt(this,e),Rt(this,n),0<t.length&&(this.h=null,this.a.set(Ft(this,n),z(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=kt(e,Ot)),t.a=new Pt(e,t.i))}function Et(t){return t instanceof wt?new wt(t):new wt(t,void 0)}function Tt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kt(t,e,n){return p(t)?(t=encodeURI(t).replace(e,At),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function At(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kt(e,Ct,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(kt(e,Ct,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(kt(n,"/"==n.charAt(0)?xt:Nt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",kt(n,Dt)),t.join("")};var Ct=/[#\/\?@]/g,Nt=/[#\?:]/g,xt=/[#\?]/g,Ot=/[#\?@]/g,Dt=/#/g;function Pt(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Mt(t){t.a||(t.a=new ft,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Rt(t,e){Mt(t),e=Ft(t,e),pt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,pt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&dt(t)))}function Lt(t,e){return Mt(t),e=Ft(t,e),pt(t.a.g,e)}function jt(t){var e=new Pt;return e.h=t.h,t.a&&(e.a=new ft(t.a),e.g=t.g),e}function Ft(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ut(t){this.a=Et(t)}function Vt(t){return t.a.a.get(qt.Pa)||null}function Bt(t,e){e?t.a.a.set(qt.PROVIDER_ID,e):Rt(t.a.a,qt.PROVIDER_ID)}(t=Pt.prototype).add=function(t,e){Mt(this),this.h=null,t=Ft(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Mt(this),this.a.forEach((function(n,i){U(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.ja=function(){Mt(this);for(var t=this.a.la(),e=this.a.ja(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.la=function(t){Mt(this);var e=[];if(p(t))Lt(this,t)&&(e=W(e,this.a.get(Ft(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Mt(this),this.h=null,Lt(this,t=Ft(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.la(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.h=t.join("&")},Ut.prototype.toString=function(){return this.a.toString()};var Gt,qt={Pa:"ui_auid",mc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var Kt=f.navigator;if(Kt){var Ht=Kt.userAgent;if(Ht){Gt=Ht;break t}}Gt=""}function Wt(t){return-1!=Gt.indexOf(t)}function zt(){return(Wt("Chrome")||Wt("CriOS"))&&!Wt("Edge")}function Jt(t){return Jt[" "](t),t}Jt[" "]=g;var Yt,Xt,Zt=Wt("Opera"),Qt=Wt("Trident")||Wt("MSIE"),$t=Wt("Edge"),te=$t||Qt,ee=Wt("Gecko")&&!(-1!=Gt.toLowerCase().indexOf("webkit")&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),ne=-1!=Gt.toLowerCase().indexOf("webkit")&&!Wt("Edge"),ie=ne&&Wt("Mobile"),re=Wt("Macintosh");function oe(){var t=f.document;return t?t.documentMode:void 0}t:{var ae="",se=(Xt=Gt,ee?/rv:([^\);]+)(\)|;)/.exec(Xt):$t?/Edge\/([\d\.]+)/.exec(Xt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):ne?/WebKit\/(\S+)/.exec(Xt):Zt?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);if(se&&(ae=se?se[1]:""),Qt){var ue=oe();if(null!=ue&&ue>parseFloat(ae)){Yt=String(ue);break t}}Yt=ae}var ce,le={};function he(t){return function(t,e){var n=le;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Y(String(Yt)).split("."),i=Y(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var fe=f.document;function de(t,e){this.a=t===ve&&e||"",this.g=pe}ce=fe&&Qt?oe()||("CSS1Compat"==fe.compatMode?parseInt(Yt,10):5):void 0,de.prototype.ma=!0,de.prototype.ka=function(){return this.a},de.prototype.toString=function(){return"Const{"+this.a+"}"};var pe={},ve={};function me(){this.a="",this.h=ye}function ge(t){return t instanceof me&&t.constructor===me&&t.h===ye?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+b(t)),"type_error:TrustedResourceUrl")}me.prototype.ma=!0,me.prototype.ka=function(){return this.a.toString()},me.prototype.g=function(){return 1},me.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ye={};function be(){this.a="",this.h=Ee}function we(t){return t instanceof be&&t.constructor===be&&t.h===Ee?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+b(t)),"type_error:SafeUrl")}be.prototype.ma=!0,be.prototype.ka=function(){return this.a.toString()},be.prototype.g=function(){return 1},be.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ie=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Se(t){return t instanceof be?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Ie.test(t)||(t="about:invalid#zClosurez"),Te(t))}function _e(t){return t instanceof be?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Ie.test(t)||(t="about:invalid#zClosurez"),Te(t))}var Ee={};function Te(t){var e=new be;return e.a=t,e}function ke(){this.a="",this.g=Ae}Te("about:blank"),ke.prototype.ma=!0;var Ae={};function Ce(){this.a="",this.j=xe,this.h=null}function Ne(t){return t instanceof Ce&&t.constructor===Ce&&t.j===xe?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+b(t)),"type_error:SafeHtml")}ke.prototype.ka=function(){return this.a},ke.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Ce.prototype.g=function(){return this.h},Ce.prototype.ma=!0,Ce.prototype.ka=function(){return this.a.toString()},Ce.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xe={};function Oe(t,e){var n=new Ce;return n.a=t,n.h=e,n}Oe("<!DOCTYPE html>",0);var De=Oe("",0);Oe("<br>",0);var Pe,Me,Re=(Me=!1,function(){return Me||(Pe=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=Ne(De),!e.parentElement)}(),Me=!0),Pe});function Le(t,e){e=e instanceof be?e:_e(e),t.assign(we(e))}function je(t,e){this.a=d(t)?t:0,this.g=d(e)?e:0}function Fe(t,e){this.width=t,this.height=e}function Ue(t){return t?new Ye(We(t)):O||(O=new Ye)}function Ve(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):Ge(document,t,e)}function Be(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var i=e||n;t=i.querySelectorAll&&i.querySelector&&t?i.querySelector(t?"."+t:""):Ge(n,t,e)[0]||null}return t||null}function Ge(t,e,n){var i;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var r=t.getElementsByClassName(e);return r}if(r=t.getElementsByTagName("*"),e){var o={};for(n=i=0;t=r[n];n++){var a=t.className;"function"==typeof a.split&&q(a.split(/\s+/),e)&&(o[i++]=t)}return o.length=i,o}return r}je.prototype.toString=function(){return"("+this.a+", "+this.g+")"},je.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},je.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},je.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=Fe.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var qe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ke(t){return t.scrollingElement?t.scrollingElement:(ne||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function He(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function We(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function ze(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(We(t).createTextNode(String(e)))}}function Je(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||p(t.className)&&q(t.className.split(/\s+/),e)})):null}function Ye(t){this.a=t||f.document||document}Ye.prototype.N=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var Xe={Gc:!0},Ze={Ic:!0},Qe={Fc:!0},$e={Hc:!0};function tn(){throw Error("Do not instantiate directly")}function en(t,e,n,i){if(t=t(e||rn,void 0,n),i=(i||Ue()).a.createElement("DIV"),(t=function(t){if(!_(t))return rt(String(t));if(t instanceof tn){if(t.fa===Xe)return t.content;if(t.fa===$e)return rt(t.content)}return j("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(nn),t=Oe(t,null),Re())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=Ne(t),1==i.childNodes.length&&1==(t=i.firstChild).nodeType&&(i=t),i}tn.prototype.va=null,tn.prototype.toString=function(){return this.content};var nn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,rn={};function on(){tn.call(this)}function an(t){return null!=t&&t.fa===Xe?t:t instanceof Ce?ln(Ne(t).toString(),t.g()):ln(rt(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function sn(){tn.call(this)}function un(t,e){this.content=String(t),this.va=null!=e?e:null}function cn(t){return new un(t,void 0)}M(on,tn),on.prototype.fa=Xe,M(sn,tn),sn.prototype.fa=Ze,sn.prototype.va=1,M(un,tn),un.prototype.fa=$e;var ln=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(on),hn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(sn);function fn(t){return(t=String(t))?new un(t,void 0):""}var dn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(on);function pn(t){return null!=t&&t.fa===Xe?String(String(t.content).replace(Tn,"").replace(kn,"&lt;")).replace(In,yn):rt(String(t))}function vn(t){return null!=t&&t.fa===Ze?t=String(t).replace(Sn,wn):t instanceof be?t=String(we(t).toString()).replace(Sn,wn):(t=String(t),En.test(t)?t=t.replace(Sn,wn):(j("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function mn(t){return null!=t&&t.fa===Qe?t=t.content:null==t?t="":t instanceof ke?t instanceof ke&&t.constructor===ke&&t.g===Ae?t=t.a:(j("expected object of type SafeStyle, got '"+t+"' of type "+b(t)),t="type_error:SafeStyle"):(t=String(t),_n.test(t)||(j("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var gn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function yn(t){return gn[t]}var bn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function wn(t){return bn[t]}var In=/[\x00\x22\x27\x3c\x3e]/g,Sn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,_n=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,En=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Tn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,kn=/</g;function An(){return cn("Enter a valid phone number")}function Cn(){return cn("Unable to send password reset code to specified email")}function Nn(){return cn("Something went wrong. Please try again.")}function xn(){return cn("This email already exists without any means of sign-in. Please reset the password to recover.")}function On(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return cn(e)}function Dn(){return cn("Please login again to perform this operation")}function Pn(t,e,n){var i=Error.call(this);if(this.message=i.message,"stack"in i&&(this.stack=i.stack),this.code=Mn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Nn()}t=cn(t).toString()}this.message=t||"",this.credential=n||null}u(Pn,Error),Pn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Mn="firebaseui/";function Rn(){0!=Ln&&(jn[this[E]||(this[E]=++T)]=this),this.T=this.T,this.C=this.C}var Ln=0,jn={};function Fn(t,e){t.T?d(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(d(void 0)?C(e,void 0):e))}function Un(t){t&&"function"==typeof t.m&&t.m()}Rn.prototype.T=!1,Rn.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=Ln)){var t=this[E]||(this[E]=++T);if(0!=Ln&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jn[t]}},Rn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Vn=Object.freeze||function(t){return t},Bn=!Qt||9<=Number(ce),Gn=Qt&&!he("9"),qn=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",g,e),f.removeEventListener("test",g,e)}catch(t){}return t}();function Kn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.qb=!0}function Hn(t,e){if(Kn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ee){t:{try{Jt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=p(t.pointerType)?t.pointerType:Wn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Kn.prototype.stopPropagation=function(){this.h=!0},Kn.prototype.preventDefault=function(){this.qb=!1},M(Hn,Kn);var Wn=Vn({2:"touch",3:"pen",4:"mouse"});Hn.prototype.stopPropagation=function(){Hn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Hn.prototype.preventDefault=function(){Hn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Gn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var zn="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function Yn(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.La=r,this.key=++Jn,this.sa=this.Ia=!1}function Xn(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Zn(t){this.src=t,this.a={},this.g=0}function Qn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Xn(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function $n(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==i)return r}return-1}Zn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var a=$n(t,e,i,r);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Yn(e,this.src,o,!!i,r)).Ia=n,t.push(e)),e};var ti="closure_lm_"+(1e6*Math.random()|0),ei={};function ni(t,e,n,i,r){if(i&&i.once)return ri(t,e,n,i,r);if(w(e)){for(var o=0;o<e.length;o++)ni(t,e[o],n,i,r);return null}return n=di(n),t&&t[zn]?t.J.add(String(e),n,!1,_(i)?!!i.capture:!!i,r):ii(t,e,n,!1,i,r)}function ii(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=_(r)?!!r.capture:!!r,s=hi(t);if(s||(t[ti]=s=new Zn(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=li,e=Bn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)qn||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(si(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function ri(t,e,n,i,r){if(w(e)){for(var o=0;o<e.length;o++)ri(t,e[o],n,i,r);return null}return n=di(n),t&&t[zn]?t.J.add(String(e),n,!0,_(i)?!!i.capture:!!i,r):ii(t,e,n,!0,i,r)}function oi(t,e,n,i,r){if(w(e))for(var o=0;o<e.length;o++)oi(t,e[o],n,i,r);else i=_(i)?!!i.capture:!!i,n=di(n),t&&t[zn]?(t=t.J,(e=String(e).toString())in t.a&&-1<(n=$n(o=t.a[e],n,i,r))&&(Xn(o[n]),H(o,n),0==o.length&&(delete t.a[e],t.g--))):t&&(t=hi(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$n(e,n,i,r)),(n=-1<t?e[t]:null)&&ai(n))}function ai(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[zn])Qn(e.J,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(si(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=hi(e))?(Qn(n,t),0==n.g&&(n.src=null,e[ti]=null)):Xn(t)}}}function si(t){return t in ei?ei[t]:ei[t]="on"+t}function ui(t,e,n,i){var r=!0;if((t=hi(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=ci(o,i),r=r&&!1!==o)}return r}function ci(t,e){var n=t.listener,i=t.La||t.src;return t.Ia&&ai(t),n.call(i,e)}function li(t,e){if(t.sa)return!0;if(!Bn){if(!e)t:{e=["window","event"];for(var n=f,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Hn(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.g;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;!e.h&&0<=r;r--){e.g=i[r];var o=ui(i[r],t,!0,e);n=n&&o}for(r=0;!e.h&&r<i.length;r++)e.g=i[r],o=ui(i[r],t,!1,e),n=n&&o}return n}return ci(t,new Hn(e,this))}function hi(t){return(t=t[ti])instanceof Zn?t:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(t){return S(t)?t:(t[fi]||(t[fi]=function(e){return t.handleEvent(e)}),t[fi])}function pi(){Rn.call(this),this.J=new Zn(this),this.wb=this,this.Ha=null}function vi(t,e){var n,i=t.Ha;if(i)for(n=[];i;i=i.Ha)n.push(i);if(t=t.wb,i=e.type||e,p(e))e=new Kn(e,t);else if(e instanceof Kn)e.target=e.target||t;else{var r=e;ut(e=new Kn(i,t),r)}if(r=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var a=e.g=n[o];r=mi(a,i,!0,e)&&r}if(e.h||(r=mi(a=e.g=t,i,!0,e)&&r,e.h||(r=mi(a,i,!1,e)&&r)),n)for(o=0;!e.h&&o<n.length;o++)r=mi(a=e.g=n[o],i,!1,e)&&r;return r}function mi(t,e,n,i){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Qn(t.J,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.qb}M(pi,Rn),pi.prototype[zn]=!0,pi.prototype.Za=function(t){this.Ha=t},pi.prototype.removeEventListener=function(t,e,n,i){oi(this,t,e,n,i)},pi.prototype.o=function(){if(pi.K.o.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Xn(n[i]);delete e.a[t],e.g--}}this.Ha=null};var gi={},yi=0;function bi(t,e){if(!t)throw Error("Event target element must be provided!");if(t=wi(t),gi[t]&&gi[t].length)for(var n=0;n<gi[t].length;n++)vi(gi[t][n],e)}function wi(t){return void 0===t.a&&(t.a=yi,yi++),t.a}function Ii(t){if(!t)throw Error("Event target element must be provided!");pi.call(this),this.a=t}function Si(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function _i(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function Ei(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function Ti(){this.g=this.a=null}u(Ii,pi),Ii.prototype.N=function(){return this.a},Ii.prototype.register=function(){var t=wi(this.N());gi[t]?q(gi[t],this)||gi[t].push(this):gi[t]=[this]},_i.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var ki,Ai,Ci=new _i((function(){return new xi}),(function(t){t.reset()}));function Ni(){var t=Mi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function xi(){this.next=this.g=this.a=null}function Oi(t){f.setTimeout((function(){throw t}),0)}function Di(t,e){Ai||function(){if(f.Promise&&f.Promise.resolve){var t=f.Promise.resolve(void 0);Ai=function(){t.then(Ri)}}else Ai=function(){var t=Ri;!S(f.setImmediate)||f.Window&&f.Window.prototype&&!Wt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ki||(ki=function(){var t=f.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Wt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!Wt("Trident")&&!Wt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(d(n.next)){var t=(n=n.next).gb;n.gb=null,t()}},function(t){i.next={gb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){f.setTimeout(t,0)}}()),ki(t)):f.setImmediate(t)}}(),Pi||(Ai(),Pi=!0),Mi.add(t,e)}Ti.prototype.add=function(t,e){var n=Ci.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},xi.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},xi.prototype.reset=function(){this.next=this.g=this.a=null};var Pi=!1,Mi=new Ti;function Ri(){for(var t;t=Ni();){try{t.a.call(t.g)}catch(t){Oi(t)}Ei(Ci,t)}Pi=!1}function Li(t){if(this.a=ji,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=g)try{var e=this;t.call(void 0,(function(t){Ji(e,Fi,t)}),(function(t){if(!(t instanceof tr))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ji(e,Ui,t)}))}catch(t){Ji(this,Ui,t)}}var ji=0,Fi=2,Ui=3;function Vi(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Vi.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Bi=new _i((function(){return new Vi}),(function(t){t.reset()}));function Gi(t,e,n){var i=Bi.get();return i.s=t,i.g=e,i.j=n,i}function qi(t){if(t instanceof Li)return t;var e=new Li(g);return Ji(e,Fi,t),e}function Ki(t){return new Li((function(e,n){n(t)}))}function Hi(t,e){if(t.a==ji)if(t.h){var n=t.h;if(n.g){for(var i=0,r=null,o=null,a=n.g;a&&(a.h||(i++,a.a==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==ji&&1==i?Hi(n,e):(o?((i=o).next==n.j&&(n.j=i),i.next=i.next.next):Xi(n),Zi(n,r,Ui,e)))}t.h=null}else Ji(t,Ui,e)}function Wi(t,e){t.g||t.a!=Fi&&t.a!=Ui||Yi(t),t.j?t.j.next=e:t.g=e,t.j=e}function zi(t,e,n,i){var r=Gi(null,null,null);return r.a=new Li((function(t,o){r.s=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.g=n?function(e){try{var r=n.call(i,e);!d(r)&&e instanceof tr?o(e):t(r)}catch(t){o(t)}}:o})),r.a.h=t,Wi(t,r),r.a}function Ji(t,e,n){if(t.a==ji){t===n&&(e=Ui,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var i=n,r=t.hc,o=t.ic;if(i instanceof Li){Wi(i,Gi(r||g,o||null,t));var a=!0}else if(Si(i))i.then(r,o,t),a=!0;else{if(_(i))try{var s=i.then;if(S(s)){!function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(r,t))}),o)}catch(t){o(t)}}(i,s,r,o,t),a=!0;break t}}catch(e){o.call(t,e),a=!0;break t}a=!1}}a||(t.A=n,t.a=e,t.h=null,Yi(t),e!=Ui||n instanceof tr||function(t,e){t.s=!0,Di((function(){t.s&&$i.call(null,e)}))}(t,n))}}function Yi(t){t.i||(t.i=!0,Di(t.Hb,t))}function Xi(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),e}function Zi(t,e,n,i){if(n==Ui&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,Qi(e,n,i);else try{e.h?e.s.call(e.j):Qi(e,n,i)}catch(t){$i.call(null,t)}Ei(Bi,e)}function Qi(t,e,n){e==Fi?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}Li.prototype.then=function(t,e,n){return zi(this,S(t)?t:null,S(e)?e:null,n)},Li.prototype.$goog_Thenable=!0,(t=Li.prototype).fc=function(t,e){return(t=Gi(t,t,e)).h=!0,Wi(this,t),this},t.Ca=function(t,e){return zi(this,null,t,e)},t.cancel=function(t){this.a==ji&&Di((function(){Hi(this,new tr(t))}),this)},t.hc=function(t){this.a=ji,Ji(this,Fi,t)},t.ic=function(t){this.a=ji,Ji(this,Ui,t)},t.Hb=function(){for(var t;t=Xi(this);)Zi(this,t,this.a,this.A);this.i=!1};var $i=Oi;function tr(t){R.call(this,t)}function er(t,e,n){e||(e={}),n=n||window;var i=t instanceof be?t:Se(void 0!==t.href?t.href:String(t));t=e.target||t.target;var r=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(e[o]?1:0))}var o=r.join(",");return(Wt("iPhone")&&!Wt("iPod")&&!Wt("iPad")||Wt("iPad")||Wt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),i=i instanceof be?i:_e(i),o.href=we(i),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=we(i).toString(),n&&(te&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rt(e)+'">',null),n.document.write(Ne(e)),n.document.close())):(n=n.open(we(i).toString(),t,o))&&e.noopener&&(n.opener=null),n}function nr(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(t){}return!1}function ir(t){er(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function rr(t,e){if(null==(t=_(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function or(){return window.location.href}function ar(t){var e=mr;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function sr(t,e,n){t.a=!0,t.h=n,t.j=!e,hr(t)}function ur(t){if(t.a){if(!t.J)throw new fr(t);t.J=!1}}function cr(t,e,n){t.s.push([e,n,void 0]),t.a&&hr(t)}function lr(t){return G(t.s,(function(t){return S(t[1])}))}function hr(t){if(t.i&&t.a&&lr(t)){var e=t.i,n=vr[e];n&&(f.clearTimeout(n.a),delete vr[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var i=n=!1;t.s.length&&!t.A;){var r=t.s.shift(),o=r[0],a=r[1];if(r=r[2],o=t.j?a:o)try{var s=o.call(r||t.O,e);d(s)&&(t.j=t.j&&(s==e||s instanceof Error),t.h=e=s),(Si(e)||"function"==typeof f.Promise&&e instanceof f.Promise)&&(i=!0,t.A=!0)}catch(i){e=i,t.j=!0,lr(t)||(n=!0)}}t.h=e,i&&(s=C(t.L,t,!0),i=C(t.L,t,!1),e instanceof ar?(cr(e,s,i),e.l=!0):e.then(s,i)),n&&(e=new pr(e),vr[e.a]=e,t.i=e.a)}function fr(){R.call(this)}function dr(){R.call(this)}function pr(t){this.a=f.setTimeout(C(this.h,this),0),this.g=t}M(tr,R),tr.prototype.name="cancel",ar.prototype.cancel=function(t){if(this.a)this.h instanceof ar&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new dr(this),ur(this),sr(this,!1,t))}},ar.prototype.L=function(t,e){this.A=!1,sr(this,t,e)},ar.prototype.callback=function(t){ur(this),sr(this,!0,t)},ar.prototype.then=function(t,e,n){var i,r,o=new Li((function(t,e){i=t,r=e}));return cr(this,i,(function(t){t instanceof dr?o.cancel():r(t)})),o.then(t,e,n)},ar.prototype.$goog_Thenable=!0,M(fr,R),fr.prototype.message="Deferred has already fired",fr.prototype.name="AlreadyCalledError",M(dr,R),dr.prototype.message="Deferred was canceled",dr.prototype.name="CanceledError",pr.prototype.h=function(){throw delete vr[this.a],this.g};var vr={};function mr(){if(this&&this.rb){var t=this.rb;t&&"SCRIPT"==t.tagName&&gr(t,!0,this.sb)}}function gr(t,e,n){null!=n&&f.clearTimeout(n),t.onload=g,t.onerror=g,t.onreadystatechange=g,e&&window.setTimeout((function(){He(t)}),0)}var yr=0,br=1;function wr(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Ir(){return f.google&&f.google.accounts&&f.google.accounts.id||null}function Sr(t){this.a=t||Ir(),this.h=!1,this.g=null}function _r(t,e,n){return t.a&&e?(t.h=!0,new Li((function(i){t.g=i,t.a.initialize({client_id:e,callback:i,auto_select:!n}),t.a.prompt()}))):qi(e?Tr.Xa().load().then((function(){return t.a=Ir(),_r(t,e,n)})).Ca((function(){return null})):null)}M(wr,R),Sr.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},y(Sr);var Er=new de(ve,"https://accounts.google.com/gsi/client");function Tr(){this.a=null}function kr(t,e){this.a=t,this.g=e||function(t){throw t}}function Ar(t,e,n){this.reset(t,e,n,void 0,void 0)}function Cr(t){this.s=t,this.a=this.h=this.j=this.g=null}function Nr(t,e){this.name=t,this.value=e}Tr.prototype.load=function(){var t=this;if(this.a)return this.a;var e=function(){var t=Er;t instanceof de&&t.constructor===de&&t.g===pe?t=t.a:(j("expected object of type Const, got '"+t+"'"),t="type_error:Const");var e=new me;return e.a=t,e}();return Ir()?qi():this.a=function(){var t=null;return new Li((function(e){"complete"==f.document.readyState?e():(t=function(){e()},ri(window,"load",t))})).Ca((function(e){throw oi(window,"load",t),e}))}().then((function(){if(!Ir())return new Li((function(n,i){var r=setTimeout((function(){t.a=null,i(Error("Network error!"))}),1e4);f.onGoogleLibraryLoad=function(){clearTimeout(r),n()},qi(function(t){var e={},n=e.document||document,i=ge(t).toString(),r=document.createElement("SCRIPT"),o={rb:r,sb:void 0},a=new ar(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){gr(r,!0);var t=new wr(br,"Timeout reached for loading script "+i);ur(a),sr(a,!1,t)}),u),o.sb=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(gr(r,e.yc||!1,s),a.callback(null))},r.onerror=function(){gr(r,!0,s);var t=new wr(yr,"Error while loading script "+i);ur(a),sr(a,!1,t)},ut(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){ot(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:qe.hasOwnProperty(n)?t.setAttribute(qe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(r,o),function(t,e){t.src=ge(e),null===m&&(m=(e=(e=f.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&v.test(e)?e:""),(e=m)&&t.setAttribute("nonce",e)}(r,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),a}(e)).then((function(){Ir()&&n()})).Ca((function(e){clearTimeout(r),t.a=null,i(e)}))}))}))},y(Tr),kr.prototype.confirm=function(t){return qi(this.a.confirm(t)).Ca(this.g)},Ar.prototype.a=null,Ar.prototype.reset=function(t,e,n,i,r){this.h=i||D(),this.j=t,this.s=e,this.g=n,delete this.a},Nr.prototype.toString=function(){return this.name};var xr=new Nr("SEVERE",1e3),Or=new Nr("WARNING",900),Dr=new Nr("CONFIG",700);function Pr(t){return t.j?t.j:t.g?Pr(t.g):(j("Root logger has no level set."),null)}Cr.prototype.log=function(t,e,n){if(t.value>=Pr(this).value)for(S(e)&&(e=e()),t=new Ar(t,String(e),this.s),n&&(t.a=n),n=this;n;){var i=n,r=t;if(i.a)for(var o=0;e=i.a[o];o++)e(r);n=n.g}};var Mr={},Rr=null;function Lr(){Rr||(Rr=new Cr(""),Mr[""]=Rr,Rr.j=Dr)}function jr(){this.a=D()}var Fr=null;function Ur(t){this.j=t||"",Fr||(Fr=new jr),this.s=Fr}function Vr(t){return 10>t?"0"+t:String(t)}function Br(t){Ur.call(this,t)}function Gr(){this.s=C(this.h,this),this.a=new Br,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}jr.prototype.set=function(t){this.a=t},jr.prototype.reset=function(){this.set(D())},jr.prototype.get=function(){return this.a},Ur.prototype.a=!0,Ur.prototype.g=!0,Ur.prototype.h=!1,M(Br,Ur),Gr.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var i=new Date(e.h);n.push("[",Vr(i.getFullYear()-2e3)+Vr(i.getMonth()+1)+Vr(i.getDate())+" "+Vr(i.getHours())+":"+Vr(i.getMinutes())+":"+Vr(i.getSeconds())+"."+Vr(Math.floor(i.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);Kr&&function(t,e,n,i){t[e]?t[e](n,i||""):t.log(n,i||"")}(Kr,function(t){if(t){if(t.value>=xr.value)return"error";if(t.value>=Or.value)return"warn";if(t.value>=Dr.value)return"log"}return"debug"}(t.j),e,t.a)}};var qr,Kr=f.console;function Hr(t,e){qr&&qr.log(xr,t,e)}qr=function t(e){var n;if(Lr(),!(n=Mr[e])){n=new Cr(e);var i=e.lastIndexOf("."),r=e.substr(i+1);(i=t(e.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,Mr[e]=n}return n}("firebaseui");var Wr=new Gr;if(1!=Wr.g){var zr;Lr(),zr=Rr;var Jr=Wr.s;zr.a||(zr.a=[]),zr.a.push(Jr),Wr.g=!0}function Yr(t){qr&&qr.log(Or,t,void 0)}function Xr(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Zr(t){t=(t.a.cookie||"").split(";");for(var e,n,i=[],r=[],o=0;o<t.length;o++)-1==(e=(n=Y(t[o])).indexOf("="))?(i.push(""),r.push(n)):(i.push(n.substring(0,e)),r.push(n.substring(e+1)));return{keys:i,values:r}}(t=Xr.prototype).set=function(t,e,n,i,r,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');d(n)||(n=-1),r=r?";domain="+r:"",i=i?";path="+i:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(D()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+r+i+n+o},t.get=function(t,e){for(var n,i=t+"=",r=(this.a.cookie||"").split(";"),o=0;o<r.length;o++){if(0==(n=Y(r[o])).lastIndexOf(i,0))return n.substr(i.length);if(n==t)return""}return e},t.ja=function(){return Zr(this).keys},t.la=function(){return Zr(this).values},t.clear=function(){for(var t=Zr(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var Qr=new Xr;function $r(){}function to(t,e,n,i){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!i}function eo(t,e){this.g=t,this.a=e||null}function no(t){return{email:t.g,credential:t.a&&t.a.toJSON()}}function io(t){if(t&&t.email){var e=t.credential&&i.default.auth.AuthCredential.fromJSON(t.credential);return new eo(t.email,e)}return null}function ro(t){this.a=t||null}function oo(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);255<r&&(e[n++]=255&r,r>>=8),e[n++]=r}return e}function ao(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function so(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(uo*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<uo*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,i=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=i,mo(e),e[0]^=bo[t/this.g][0],e[1]^=bo[t/this.g][1],e[2]^=bo[t/this.g][2],e[3]^=bo[t/this.g][3]}else 6<this.g&&4==t%this.g&&mo(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}u(to,$r),to.prototype.set=function(t,e){Qr.set(t,e,this.h,this.g,this.a,this.j)},to.prototype.get=function(t){return Qr.get(t)||null},to.prototype.ra=function(t){var e=this.g,n=this.a;Qr.get(t),Qr.set(t,"",0,e,n)},so.prototype.A=16;var uo=so.prototype.A/4;function co(t,e){for(var n,i=0;i<uo;i++)for(var r=0;4>r;r++)n=e[n=4*r+i],t.h[i][r]=n}function lo(t){for(var e=[],n=0;n<uo;n++)for(var i=0;4>i;i++)e[4*i+n]=t.h[n][i];return e}function ho(t,e){for(var n=0;4>n;n++)for(var i=0;4>i;i++)t.h[n][i]^=t.a[4*e+i][n]}function fo(t,e){for(var n=0;4>n;n++)for(var i=0;4>i;i++)t.h[n][i]=e[t.h[n][i]]}function po(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%uo]}function vo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%uo]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function mo(t){t[0]=go[t[0]],t[1]=go[t[1]],t[2]=go[t[2]],t[3]=go[t[3]]}var go=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],yo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],bo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],wo=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Io=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],So=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],_o=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Eo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],To=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ko(t,e){t=new so(Co(t));for(var n,i=(e=oo(e)).splice(0,16),r="";i.length;){n=16-i.length;for(var o=0;o<n;o++)i.push(0);for(co(n=t,i),ho(n,0),i=1;i<n.j;++i){fo(n,go),po(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=wo[a[0]]^Io[a[1]]^a[2]^a[3],o[1][s]=a[0]^wo[a[1]]^Io[a[2]]^a[3],o[2][s]=a[0]^a[1]^wo[a[2]]^Io[a[3]],o[3][s]=Io[a[0]]^a[1]^a[2]^wo[a[3]];ho(n,i)}fo(n,go),po(n),ho(n,n.j),r+=ao(lo(n)),i=e.splice(0,16)}return r}function Ao(t,e){t=new so(Co(t));for(var n=[],i=0;i<e.length;i+=2)n.push(parseInt(e.substring(i,i+2),16));var r=n.splice(0,16);for(e="";r.length;){for(co(i=t,r),ho(i,i.j),r=1;r<i.j;++r){vo(i),fo(i,yo),ho(i,i.j-r);for(var o=i.h,a=i.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=To[a[0]]^_o[a[1]]^Eo[a[2]]^So[a[3]],o[1][s]=So[a[0]]^To[a[1]]^_o[a[2]]^Eo[a[3]],o[2][s]=Eo[a[0]]^So[a[1]]^To[a[2]]^_o[a[3]],o[3][s]=_o[a[0]]^Eo[a[1]]^So[a[2]]^To[a[3]]}if(vo(i),fo(i,yo),ho(i,0),8192>=(i=lo(i)).length)i=String.fromCharCode.apply(null,i);else{for(r="",o=0;o<i.length;o+=8192)r+=String.fromCharCode.apply(null,J(i,o,o+8192));i=r}e+=i,r=n.splice(0,16)}return e.replace(/(\x00)+$/,"")}function Co(t){for(var e=32-(t=oo(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function No(t){var e=[];return Oo(new xo,t,e),e.join("")}function xo(){}function Oo(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(w(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),Oo(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),Mo(i,n),n.push(":"),Oo(t,o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Mo(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var Do={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Po=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Mo(t,e){e.push('"',t.replace(Po,(function(t){var e=Do[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Do[t]=e),e})),'"')}function Ro(t){this.a=t}function Lo(){}function jo(t){this.a=t}function Fo(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(t){return!1}}function Uo(){var t=null;try{t=window.localStorage||null}catch(t){}this.a=t}function Vo(){var t=null;try{t=window.sessionStorage||null}catch(t){}this.a=t}function Bo(t,e){this.g=t,this.a=e+"::"}Ro.prototype.set=function(t,e){d(e)?this.a.set(t,No(e)):this.a.ra(t)},Ro.prototype.get=function(t){try{var e=this.a.get(t)}catch(t){return}if(null!==e)try{return JSON.parse(e)}catch(t){throw"Storage: Invalid value was encountered"}},M(Lo,$r),Lo.prototype.clear=function(){var t=function(t){if(I(t))return z(t);t=ht(t);var e=[];return function(t,e){if(I(t))try{U(t,e,void 0)}catch(t){if(t!==ct)throw t}else{t=ht(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==ct)throw t}}}(t,(function(t){e.push(t)})),e}(this.ha(!0)),e=this;U(t,(function(t){e.ra(t)}))},M(jo,Lo),(t=jo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(t){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!p(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,i=new lt;return i.next=function(){if(e>=n.length)throw ct;var i=n.key(e++);if(t)return i;if(!p(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},M(Uo,jo),M(Vo,jo),M(Bo,Lo),Bo.prototype.set=function(t,e){this.g.set(this.a+t,e)},Bo.prototype.get=function(t){return this.g.get(this.a+t)},Bo.prototype.ra=function(t){this.g.ra(this.a+t)},Bo.prototype.ha=function(t){var e=this.g.ha(!0),n=this,i=new lt;return i.next=function(){for(var i=e.next();i.substr(0,n.a.length)!=n.a;)i=e.next();return t?i.substr(n.a.length):n.g.get(i)},i},Fo(new Uo);var Go=new Vo,qo=new Ro(Fo(Go)?new Bo(Go,"firebaseui"):null),Ko={name:"pendingEmailCredential",storage:qo},Ho={name:"redirectStatus",storage:qo},Wo={name:"redirectUrl",storage:qo},zo={name:"emailForSignIn",storage:new Ro(new to(3600,"/"))},Jo={name:"pendingEncryptedCredential",storage:new Ro(new to(3600,"/"))};function Yo(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Xo(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function Zo(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function Qo(t){return Yo(Wo,t)||null}function $o(t){return io(t=Yo(Ko,t)||null)}function ta(t){Xo(Ko,t)}function ea(t,e){Zo(Ko,no(t),e)}function na(t){return(t=Yo(Ho,t)||null)&&void 0!==t.tenantId?new ro(t.tenantId):null}function ia(){this.W={}}function ra(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function oa(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function aa(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function sa(){this.g=void 0,this.a={}}function ua(t,e,n,i){for(var r=0;r<e.length;r++){var o=e.charAt(r);t.a[o]||(t.a[o]=new sa),t=t.a[o]}if(i&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function ca(t,e){for(var n in void 0!==t.g&&e.push(t.g),t.a)ca(t.a[n],e)}function la(t,e,n){for(var i in void 0!==t.g&&n.push(e),t.a)la(t.a[i],e+i,n)}function ha(t){for(this.a=t,this.g=new sa,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function fa(t,e){var n={},i=0;for(void 0!==(t=t.g).g&&(n[i]=t.g);i<e.length;i++){var r=e.charAt(i);if(!(r in t.a))break;void 0!==(t=t.a[r]).g&&(n[i]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function da(t){for(var e=0;e<ga.length;e++)if(ga[e].c===t)return ga[e];return null}function pa(t){t=t.toUpperCase();for(var e=[],n=0;n<ga.length;n++)ga[n].f===t&&e.push(ga[n]);return e}function va(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<ga.length;n++)ga[n].b==t&&e.push(ga[n]);t=e}else t=pa(t);return t}function ma(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}ia.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(t=sa.prototype).set=function(t,e){ua(this,t,e,!1)},t.add=function(t,e){ua(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.la=function(){var t=[];return ca(this,t),t},t.ja=function(){var t=[];return la(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var ga=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ma(ga);var ya=new ha(ga);function ba(t,e){this.a=t,this.Aa=e}function wa(t){t=Y(t);var e=fa(ya,t);return 0<e.length?new ba("1"==e[0].b?"1-US-0":e[0].c,Y(t.substr(e[0].b.length+1))):null}function Ia(t){var e=da(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Aa}function Sa(t,e){for(var n=0;n<t.length;n++)if(!q(_a,t[n])&&(null!==Ea&&t[n]in Ea||q(e,t[n])))return t[n];return null}var _a=["emailLink","password","phone"],Ea={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ta(){this.a=new ia,ra(this.a,"acUiConfig"),ra(this.a,"autoUpgradeAnonymousUsers"),ra(this.a,"callbacks"),ra(this.a,"credentialHelper",es),ra(this.a,"immediateFederatedRedirect",!1),ra(this.a,"popupMode",!1),ra(this.a,"privacyPolicyUrl"),ra(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),ra(this.a,"queryParameterForWidgetMode","mode"),ra(this.a,"signInFlow"),ra(this.a,"signInOptions"),ra(this.a,"signInSuccessUrl"),ra(this.a,"siteName"),ra(this.a,"tosUrl"),ra(this.a,"widgetUrl"),ra(this.a,"adminRestrictedOperation")}function ka(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!za(t)&&Hr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function Aa(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var i=t[n];(i=_(i)?i:{provider:i}).provider&&e.push(i)}return e}function Ca(t,e){t=Aa(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Na(t){return Aa(t).map((function(t){return t.provider}))}function xa(t,e){t=Oa(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function Oa(t){return Aa(t).map((function(t){if(Ea[t.provider]||q(as,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?we(Se(t.iconUrl)).toString():null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?we(Se(t.iconUrl)).toString():null,Ob:t.loginHintKey||null}}))}function Da(t){var e=Ca(t,i.default.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&function(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return es;if((t=t.a.get("credentialHelper"))===$a)return es;for(var e in ns)if(ns[e]===t)return ns[e];return es}(t)===ts&&e.clientId||null}function Pa(t){return!!((t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.status)}function Ma(t){return!(!(t=t.a.get("adminRestrictedOperation")||null)||!t.status)}function Ra(t,e){return t=(t=Ca(t,e))&&t.scopes,Array.isArray(t)?t:[]}function La(t,e){return _(t=(t=Ca(t,e))&&t.customParameters)?(t=at(t),e===i.default.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===i.default.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function ja(t){if(!(t=Ca(t,i.default.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!Array.isArray(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return ga;if(t=[],e){n={};for(var r=0;r<e.length;r++)for(var o=va(e[r]),a=0;a<o.length;a++)n[o[a].c]=o[a];for(var s in n)n.hasOwnProperty(s)&&t.push(n[s])}else{for(s={},e=0;e<n.length;e++)for(o=va(n[e]),r=0;r<o.length;r++)s[o[r].c]=o[r];for(o=0;o<ga.length;o++)null!==s&&ga[o].c in s||t.push(ga[o])}return t}function Fa(t){return aa(t.a,"queryParameterForWidgetMode")}function Ua(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Yr("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ir(e)}}return null}function Va(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Yr("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ir(n)}}return null}function Ba(t){return!(t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Ga(t){return!(!(t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==i.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function qa(t){var e=!!t.a.get("immediateFederatedRedirect"),n=Na(t);return t=Ka(t),e&&1==n.length&&!q(_a,n[0])&&t==is}function Ka(t){for(var e in t=t.a.get("signInFlow"),rs)if(rs[e]==t)return rs[e];return is}function Ha(t){return Ja(t).signInSuccess||null}function Wa(t){return Ja(t).signInSuccessWithAuthResult||null}function za(t){return Ja(t).signInFailure||null}function Ja(t){return t.a.get("callbacks")||{}}var Ya,Xa,Za,Qa,$a="accountchooser.com",ts="googleyolo",es="none",ns={lc:$a,oc:ts,NONE:es},is="redirect",rs={rc:"popup",sc:is},os={nc:"callback",RECOVER_EMAIL:"recoverEmail",tc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",uc:"select",vc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},as=["anonymous"],ss=["sitekey","tabindex","callback","expired-callback"],us={};function cs(t,e,n,i){us[t].apply(null,Array.prototype.slice.call(arguments,1))}function ls(t){return t.classList?t.classList:p(t=t.className)&&t.match(/\S+/g)||[]}function hs(t,e){return t.classList?t.classList.contains(e):q(ls(t),e)}function fs(t,e){t.classList?t.classList.add(e):hs(t,e)||(t.className+=0<t.className.length?" "+e:e)}function ds(t,e){t.classList?t.classList.remove(e):hs(t,e)&&(t.className=V(ls(t),(function(t){return t!=e})).join(" "))}function ps(t){var e=t.type;switch(p(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,i=0;n=t.options[i];i++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function vs(t,e){var n=t.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,p(e))for(var i=0;n=t.options[i];i++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(p(e)&&(e=[e]),i=0;n=t.options[i];i++)if(n.selected=!1,e)for(var r,o=0;r=e[o];o++)n.value==r&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function ms(t,e,n,i,r,o){if(ne&&!he("525"))return!0;if(re&&r)return gs(t);if(r&&!i)return!1;if(!ee&&("number"==typeof e&&(e=ys(e)),(!n||re)&&(17==e||18==e||re&&91==e)||re&&16==e&&(i||o)))return!1;if((ne||$t)&&i&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qt&&i&&e==t)return!1;switch(t){case 13:return!(ee&&(o||r||n&&i));case 27:return!(ne||$t||ee)}return(!ee||!(i||r||o))&&gs(t)}function gs(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(ne||$t)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ee;default:return!1}}function ys(t){if(ee)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(re&&ne)switch(t){case 93:t=91}return t}function bs(t){pi.call(this),this.a=t,ni(t,"keydown",this.g,!1,this),ni(t,"click",this.h,!1,this)}function ws(t,e){var n=new Ss(e);if(vi(t,n)){n=new Is(e);try{vi(t,n)}finally{e.stopPropagation()}}}function Is(t){Hn.call(this,t.a),this.type="action"}function Ss(t){Hn.call(this,t.a),this.type="beforeaction"}function _s(t){pi.call(this),this.a=t,t=Qt?"focusout":"blur",this.g=ni(this.a,Qt?"focusin":"focus",this,!Qt),this.h=ni(this.a,t,this,!Qt)}function Es(t,e){pi.call(this),this.g=t||1,this.a=e||f,this.h=C(this.gc,this),this.j=D()}function Ts(t){t.Ka=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function ks(t){Rn.call(this),this.g=t,this.a={}}M(bs,pi),bs.prototype.g=function(t){(13==t.keyCode||ne&&3==t.keyCode)&&ws(this,t)},bs.prototype.h=function(t){ws(this,t)},bs.prototype.o=function(){bs.K.o.call(this),oi(this.a,"keydown",this.g,!1,this),oi(this.a,"click",this.h,!1,this),delete this.a},M(Is,Hn),M(Ss,Hn),M(_s,pi),_s.prototype.handleEvent=function(t){var e=new Hn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",vi(this,e)},_s.prototype.o=function(){_s.K.o.call(this),ai(this.g),ai(this.h),delete this.a},M(Es,pi),(t=Es.prototype).Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var t=D()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),vi(this,"tick"),this.Ka&&(Ts(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=D())},t.o=function(){Es.K.o.call(this),Ts(this),delete this.a},M(ks,Rn);var As=[];function Cs(t,e,n,i){w(n)||(n&&(As[0]=n.toString()),n=As);for(var r=0;r<n.length;r++){var o=ni(e,n[r],i||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function Ns(t){ot(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ai(t)}),t),t.a={}}function xs(t){pi.call(this),this.a=null,this.g=t,t=Qt||$t||ne&&!he("531")&&"TEXTAREA"==t.tagName,this.h=new ks(this),Cs(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function Os(t){null!=t.a&&(f.clearTimeout(t.a),t.a=null)}function Ds(t){return(t=new Hn(t.a)).type="input",t}function Ps(t,e){pi.call(this),t&&(this.Oa&&Fs(this),this.qa=t,this.Na=ni(this.qa,"keypress",this,e),this.Ya=ni(this.qa,"keydown",this.Jb,e,this),this.Oa=ni(this.qa,"keyup",this.Kb,e,this))}ks.prototype.o=function(){ks.K.o.call(this),Ns(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},M(xs,pi),xs.prototype.handleEvent=function(t){if("input"==t.type)Qt&&he(10)&&0==t.keyCode&&0==t.j||(Os(this),vi(this,Ds(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(gs(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ee;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;Qt&&229==t.keyCode&&(e=null);var n=Ds(t);Os(this),this.a=function(t,e){if(S(t))e&&(t=C(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(0)?-1:f.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&vi(this,n)}),this)}},xs.prototype.o=function(){xs.K.o.call(this),this.h.m(),Os(this),delete this.g},M(Ps,pi),(t=Ps.prototype).qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Ms={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Rs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ls=!ne||he("525"),js=re&&ee;function Fs(t){t.Na&&(ai(t.Na),ai(t.Ya),ai(t.Oa),t.Na=null,t.Ya=null,t.Oa=null),t.qa=null,t.R=-1,t.X=-1}function Us(t,e,n,i){Hn.call(this,i),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function Vs(t,e,n,i){this.top=t,this.right=e,this.bottom=n,this.left=i}function Bs(t,e){var n=We(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Gs(t){try{var e=t.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}return Qt&&t.ownerDocument.body&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function qs(t){var e=We(t),n=new je(0,0),i=e?We(e):document;return t==(i=!Qt||9<=Number(ce)||"CSS1Compat"==Ue(i).a.compatMode?i.documentElement:i.body)||(t=Gs(t),e=Ke(i=Ue(e).a),i=i.parentWindow||i.defaultView,e=Qt&&he("10")&&i.pageYOffset!=e.scrollTop?new je(e.scrollLeft,e.scrollTop):new je(i.pageXOffset||e.scrollLeft,i.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(t=Ps.prototype).Jb=function(t){(ne||$t)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||re&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),Ls&&!ms(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=ys(t.keyCode),js&&(this.Ua=t.altKey))},t.Kb=function(t){this.X=this.R=-1,this.Ua=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(Qt&&"keypress"==t.type)var i=this.X,r=13!=i&&27!=i?e.keyCode:0;else(ne||$t)&&"keypress"==t.type?(i=this.X,r=0<=e.charCode&&63232>e.charCode&&gs(i)?e.charCode:0):Zt&&!ne?r=gs(i=this.X)?e.keyCode:0:("keypress"==t.type?(js&&(n=this.Ua),e.keyCode==e.charCode?32>e.keyCode?(i=e.keyCode,r=0):(i=this.X,r=e.charCode):(i=e.keyCode||this.X,r=e.charCode||0)):(i=e.keyCode||this.X,r=e.charCode||0),re&&63==r&&224==i&&(i=191));var o=i=ys(i);i?63232<=i&&i in Ms?o=Ms[i]:25==i&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in Rs&&(o=Rs[e.keyIdentifier]),ee&&Ls&&"keypress"==t.type&&!ms(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Us(o,r,t,e)).altKey=n,vi(this,e))},t.N=function(){return this.qa},t.o=function(){Ps.K.o.call(this),Fs(this)},M(Us,Hn),Vs.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Vs.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Vs.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Vs.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Ks={thin:2,medium:4,thick:6};function Hs(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Ks)t=Ks[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var i=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=i,t=+n}return t}function Ws(){}function zs(t){pi.call(this),this.s=t||Ue(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Js(t,e){return t.g?Be(e,t.g||t.s.a):null}function Ys(t){return t.L||(t.L=new ks(t)),t.L}function Xs(t,e){t.Ea&&U(t.Ea,e,void 0)}function Zs(t,e){var n=Je(t,"firebaseui-textfield");e?(ds(t,"firebaseui-input-invalid"),fs(t,"firebaseui-input"),n&&ds(n,"firebaseui-textfield-invalid")):(ds(t,"firebaseui-input"),fs(t,"firebaseui-input-invalid"),n&&fs(n,"firebaseui-textfield-invalid"))}function Qs(t,e,n){Fn(t,N(Un,e=new xs(e))),Cs(Ys(t),e,"input",n)}function $s(t,e,n){Fn(t,N(Un,e=new Ps(e))),Cs(Ys(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function tu(t,e,n){Fn(t,N(Un,e=new bs(e))),Cs(Ys(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function eu(t){fs(t,"firebaseui-hidden")}function nu(t,e){e&&ze(t,e),ds(t,"firebaseui-hidden")}function iu(t){return!hs(t,"firebaseui-hidden")&&"none"!=t.style.display}function ru(t){var e=(t=t||{}).email,n=t.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return i=t.xc?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+pn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ln(i)}function ou(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+an(t):e+"Next",ln(e+"</button>")}function au(){var t=""+ou({label:fn("Sign In")});return ln(t)}function su(){var t=""+ou({label:fn("Save")});return ln(t)}function uu(){var t=""+ou({label:fn("Continue")});return ln(t)}function cu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+an(t):e+"Choose password",ln(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function lu(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return ln((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function hu(){return ln('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function fu(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+an(t):e+"Cancel",ln(e+"</button>")}function du(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ln(e)}function pu(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ln(e)}function vu(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+an(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ln(t)}function mu(t){var e=t.content;return t=t.Ab,ln('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(t?" "+pn(t):"")+'">'+an(e)+"</dialog>")}function gu(t){var e=t.message;return ln(mu({content:dn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+pn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+an(e)+"</div>")}))}function yu(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,i=0;i<n;i++){var r=t[i];e+='<button type="button" data-listboxid="'+pn(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+pn(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+an(r.label)+"</div></button>"}return e=""+mu({Ab:fn("firebaseui-list-box-dialog"),content:dn(e+"</div>")}),ln(e)}function bu(t){return ln((t=t||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function wu(t,e){return cn((t=(t=t||{}).ga).S?t.S:e.hb[t.providerId]?""+e.hb[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function Iu(t){Eu(t,"upgradeElement")}function Su(t){Eu(t,"downgradeElements")}y(Ws),Ws.prototype.a=0,M(zs,pi),(t=zs.prototype).Lb=Ws.Xa(),t.N=function(){return this.g},t.Za=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");zs.K.Za.call(this,t)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.g||this.kb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Xs(this,(function(t){!t.na&&t.N()&&t.v()}))},t.ya=function(){Xs(this,(function(t){t.na&&t.ya()})),this.L&&Ns(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Xs(this,(function(t){t.m()})),this.g&&He(this.g),this.Y=this.g=this.oa=this.Ea=null,zs.K.o.call(this)},t.removeChild=function(t,e){if(t){var n=p(t)?t:t.cb||(t.cb=":"+(t.Lb.a++).toString(36));if(t=this.oa&&n&&(null!==(t=this.oa)&&n in t?t[n]:void 0)||null,n&&t){var i=this.oa;if(n in i&&delete i[n],K(this.Ea,t),e&&(t.ya(),t.g&&He(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,zs.K.Za.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},vu.a="firebaseui.auth.soy2.element.infoBar",gu.a="firebaseui.auth.soy2.element.progressDialog",yu.a="firebaseui.auth.soy2.element.listBoxDialog",bu.a="firebaseui.auth.soy2.element.busyIndicator";var _u=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Eu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&_u.forEach((function(n){hs(t,n)&&window.componentHandler[e](t),U(Ve(n,t),(function(t){window.componentHandler[e](t)}))}))}function Tu(t,e,n){if(ku.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),Iu(t),e&&tu(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&ku.call(this)})),!n){var i=this.N().parentElement||this.N().parentNode;if(i){var r=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=i.getBoundingClientRect().height,o=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=t.getBoundingClientRect().width,u=i.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",e=a+(u-s)/2,t.style.left=e.toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-s).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function ku(){var t=Au.call(this);t&&(Su(t),t.open&&t.close(),He(t),this.da&&window.removeEventListener("resize",this.da))}function Au(){return Be("firebaseui-id-dialog")}function Cu(){He(Nu.call(this))}function Nu(){return Js(this,"firebaseui-id-info-bar")}function xu(){return Js(this,"firebaseui-id-dismiss-info-bar")}var Ou={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Du(t,e,n){for(var i in Kn.call(this,t,e),n)this[i]=n[i]}function Pu(t,e,n,i,r){zs.call(this,n),this.fb=t,this.eb=e,this.Fa=!1,this.Ga=i||null,this.A=this.ca=null,this.Z=at(Ou),ut(this.Z,r||{})}function Mu(t){return t.N().parentElement||t.N().parentNode}function Ru(t,e,n){$s(t,e,(function(){n.focus()}))}function Lu(t,e,n){$s(t,e,(function(){n()}))}function ju(t,e,n){e=(t=t||{}).Va;var i=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?fu(null):"")+ou(null)+'</div></div><div class="firebaseui-card-footer">'+(i?pu(n):du(n))+"</div></form></div>",ln(t)}function Fu(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ru(t)+lu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hu()+'</div><div class="firebaseui-form-actions">'+au()+'</div></div><div class="firebaseui-card-footer">'+(e?pu(n):du(n))+"</div></form></div>",ln(t)}function Uu(t,e,n){var i=(t=t||{}).Tb;e=t.Ta;var r=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ru(t);return i?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+pn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=ln(t)):t="",n=o+t+cu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?fu(null):"")+su()+'</div></div><div class="firebaseui-card-footer">'+(r?pu(n):du(n))+"</div></form></div>",ln(n)}function Vu(t,e,n){return e=(t=t||{}).Ta,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ru(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?fu(null):"")+ou({label:fn("Send")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(t)}function Bu(t,e,n){e=t.G;var i="";return i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+an(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(i+='<div class="firebaseui-form-actions">'+ou({label:fn("Done")})+"</div>"),i+='</div><div class="firebaseui-card-footer">'+du(n)+"</div></div>",ln(i)}function Gu(t,e,n){return ln('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+bu(null)+"</div></div>")}function qu(t,e,n){return ln('<div class="firebaseui-container firebaseui-id-page-spinner">'+bu({tb:!0})+"</div>")}function Ku(){return ln('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Hu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+an(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ln('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+fu({label:fn("Back")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function Wu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ln('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+fu({label:fn("Back")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(t)}function zu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ru(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+ou(null)+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(t)}function Ju(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu({label:fn("Dismiss")})+"</div></div></div>";return ln(t)}function Yu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu({label:fn("Dismiss")})+"</div></div></div>";return ln(t)}function Xu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="You’ve already used <strong>"+an(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+lu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hu()+'</div><div class="firebaseui-form-actions">'+au()+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function Zu(t,e,n){var i=t.email;return e="",t=fn(t=""+wu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(i="You’ve already used <strong>"+an(i)+"</strong>. You can connect your <strong>"+an(t)+"</strong> account with <strong>"+an(i)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+an(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+au()+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function Qu(t,e,n){e="";var i=""+wu(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+an(i=fn(i))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(i="If you still want to connect your <strong>"+an(i)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+uu()+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function $u(t,e,n){var i=t.email;return e="",t=fn(t=""+wu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(i="You’ve already used <strong>"+an(i)+"</strong>. Sign in with "+an(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou({label:fn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function tc(t,e,n){var i=(t=t||{}).kc;e=t.yb,t=t.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r+=i?i="<strong>"+an(i)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",r+="</p>",e&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(e="Please contact <strong>"+an(e)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',t&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),r+='</div><div class="firebaseui-form-actions">'+fu({label:fn("Back")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(r)}function ec(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+an(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+ou({label:fn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function nc(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+an(t.email)+"</strong></p>"+cu(function(t){function e(){}var n={label:fn("New password")};for(var i in e.prototype=t,t=new e,n)t[i]=n[i];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+su()+"</div></div></form></div>",ln(e)}function ic(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function rc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function oc(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+an(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></form></div>",ln(n)}function ac(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function sc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function uc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function cc(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+an(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(n)}function lc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function hc(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":i+=e="The <strong>"+an(e)+" "+an(n)+"</strong> was removed as a second authentication step.";break;default:i+="The device or app was removed as a second authentication step."}return i+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></form></div>",ln(i)}function fc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",ln(t)}function dc(t){var e=t.zb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+an(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=ou({label:fn("Retry")})),ln(t+"</div></div></div>")}function pc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+an(t.errorMessage)+"</p></div></div>",ln(t)}function vc(t,e,n){var i=t.Qb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+an(t.jc)+"?")+'</h2><p class="firebaseui-text">'+(i="You originally wanted to sign in with "+an(i))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+ou({label:fn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function mc(t,e,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Sb).length;for(var r=0;r<e;r++){var o={ga:t[r]},a=n,s=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+pn(cn(c))+' firebaseui-id-idp-button" data-provider-id="'+pn(s.providerId)+'" style="background-color:')+pn(mn(cn((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=a,l=(l=l||{}).ga,c=hn(l.za?vn(l.za):c.xa[l.providerId]?vn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?vn(c.xa.saml):0==l.providerId.indexOf("oidc.")?vn(c.xa.oidc):vn(c.xa.password)),u=u+pn(vn(c))+'"></span>',"password"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=an(s.V):s.S?u+=o="Sign in with "+an(wu(o,a)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+an(s.S):u+"Email",u+="</span>"):"phone"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=an(s.V):s.S?u+=o="Sign in with "+an(wu(o,a)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+an(s.S):u+"Phone",u+="</span>"):"anonymous"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=an(s.V):s.S?u+=o="Sign in with "+an(wu(o,a)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+an(s.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?u+=an(s.V):u+=c="Sign in with "+an(wu(o,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(s.S?an(s.S):an(wu(o,a)))+"</span>"),i+='<li class="firebaseui-list-item">'+(s=ln(u+"</button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pu(n)+"</div></div>",ln(i)}function gc(t,e,n){var i,r=(t=t||{}).Gb,o=t.Va;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+pn(null!=(t=(t=t||{}).Aa)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ln(t))+(i=r?ln('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?fu(null):"")+ou({label:fn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=ln(e+"</p>")):n=ln('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+du(n),ln(i+n+"</div></form></div>")}function yc(t,e,n){var i="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+an(e=(t=t||{}).phoneNumber)+"</a>",an(e),e=i,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(i=ln('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fu(null)+ou({label:fn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form>",t=ln('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ln(e+(n+t+"</div>"))}function bc(){return ln('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function wc(t,e,n){var i='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.ec).length;for(var r=0;r<e;r++){var o=t[r],a="",s=an(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+pn(u=fn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+pn(o.tenantId)+'"':"")+'style="background-color:'+pn(mn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+pn(vn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?a+=an(o.V):a+=o="Sign in to "+an(o.displayName),i+='<li class="firebaseui-list-item">'+(a=ln(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pu(n)+"</div></div>",ln(i)}function Ic(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou(null)+'</div></div><div class="firebaseui-card-footer">'+pu(n)+"</div></form></div>",ln(t)}function Sc(){return Js(this,"firebaseui-id-submit")}function _c(){return Js(this,"firebaseui-id-secondary-link")}function Ec(t,e){tu(this,Sc.call(this),(function(e){t(e)}));var n=_c.call(this);n&&e&&tu(this,n,(function(t){e(t)}))}function Tc(){return Js(this,"firebaseui-id-password")}function kc(){return Js(this,"firebaseui-id-password-error")}function Ac(){var t=Tc.call(this),e=kc.call(this);Qs(this,t,(function(){iu(e)&&(Zs(t,!0),eu(e))}))}function Cc(){var t=Tc.call(this),e=kc.call(this);return ps(t)?(Zs(t,!0),eu(e),e=!0):(Zs(t,!1),nu(e,cn("Enter your password").toString()),e=!1),e?ps(t):null}function Nc(t,e,n,i,r,o){Pu.call(this,Xu,{email:t},o,"passwordLinking",{F:i,D:r}),this.w=e,this.H=n}M(Du,Kn),M(Pu,zs),(t=Pu.prototype).kb=function(){var t=en(this.fb,this.eb,this.Z,this.s);Iu(t),this.g=t},t.v=function(){if(Pu.K.v.call(this),bi(Mu(this),new Du("pageEnter",Mu(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var t=this.Z.F;tu(this,this.bb(),(function(){t()}))}if(this.ab()&&this.Z.D){var e=this.Z.D;tu(this,this.ab(),(function(){e()}))}},t.ya=function(){bi(Mu(this),new Du("pageExit",Mu(this),{pageId:this.Ga})),Pu.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Su(this.N()),Pu.K.o.call(this)},t.I=function(t,e,n,i){function r(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(Su(o.A),He(o.A),o.A=null)}var o=this;return o.Fa?null:(function(t){t.Fa=!0;var e=hs(t.N(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=en(bu,{tb:e},null,t.s),t.N().appendChild(t.A),Iu(t.A))}),500)}(o),t.apply(null,e).then(n,i).then(r,r))},x(Pu.prototype,{a:function(t){Cu.call(this);var e=en(vu,{message:t},null,this.s);this.N().appendChild(e),tu(this,xu.call(this),(function(){He(e)}))},zc:Cu,Bc:Nu,Ac:xu,$:function(t,e){t=en(gu,{Ma:t,message:e},null,this.s),Tu.call(this,t)},h:ku,Cb:Au,Dc:function(){return Js(this,"firebaseui-tos")},bb:function(){return Js(this,"firebaseui-tos-link")},ab:function(){return Js(this,"firebaseui-pp-link")},Ec:function(){return Js(this,"firebaseui-tos-list")}}),ju.a="firebaseui.auth.soy2.page.signIn",Fu.a="firebaseui.auth.soy2.page.passwordSignIn",Uu.a="firebaseui.auth.soy2.page.passwordSignUp",Vu.a="firebaseui.auth.soy2.page.passwordRecovery",Bu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Gu.a="firebaseui.auth.soy2.page.callback",qu.a="firebaseui.auth.soy2.page.spinner",Ku.a="firebaseui.auth.soy2.page.blank",Hu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Wu.a="firebaseui.auth.soy2.page.emailNotReceived",zu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Ju.a="firebaseui.auth.soy2.page.differentDeviceError",Yu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Xu.a="firebaseui.auth.soy2.page.passwordLinking",Zu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Qu.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",$u.a="firebaseui.auth.soy2.page.federatedLinking",tc.a="firebaseui.auth.soy2.page.unauthorizedUser",ec.a="firebaseui.auth.soy2.page.unsupportedProvider",nc.a="firebaseui.auth.soy2.page.passwordReset",ic.a="firebaseui.auth.soy2.page.passwordResetSuccess",rc.a="firebaseui.auth.soy2.page.passwordResetFailure",oc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",ac.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",sc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",uc.a="firebaseui.auth.soy2.page.emailVerificationFailure",cc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",lc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",hc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",fc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",dc.a="firebaseui.auth.soy2.page.recoverableError",pc.a="firebaseui.auth.soy2.page.unrecoverableError",vc.a="firebaseui.auth.soy2.page.emailMismatch",mc.a="firebaseui.auth.soy2.page.providerSignIn",gc.a="firebaseui.auth.soy2.page.phoneSignInStart",yc.a="firebaseui.auth.soy2.page.phoneSignInFinish",bc.a="firebaseui.auth.soy2.page.signOut",wc.a="firebaseui.auth.soy2.page.selectTenant",Ic.a="firebaseui.auth.soy2.page.providerMatchByEmail",u(Nc,Pu),Nc.prototype.v=function(){this.P(),this.M(this.w,this.H),Lu(this,this.i(),this.w),this.i().focus(),Pu.prototype.v.call(this)},Nc.prototype.o=function(){this.w=null,Pu.prototype.o.call(this)},Nc.prototype.j=function(){return ps(Js(this,"firebaseui-id-email"))},x(Nc.prototype,{i:Tc,B:kc,P:Ac,u:Cc,ea:Sc,ba:_c,M:Ec});var xc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Oc(){return Js(this,"firebaseui-id-email")}function Dc(){return Js(this,"firebaseui-id-email-error")}function Pc(t){var e=Oc.call(this),n=Dc.call(this);Qs(this,e,(function(){iu(n)&&(Zs(e,!0),eu(n))})),t&&$s(this,e,(function(){t()}))}function Mc(){return Y(ps(Oc.call(this))||"")}function Rc(){var t=Oc.call(this),e=Dc.call(this),n=ps(t)||"";return n?xc.test(n)?(Zs(t,!0),eu(e),e=!0):(Zs(t,!1),nu(e,cn("That email address isn't correct").toString()),e=!1):(Zs(t,!1),nu(e,cn("Enter your email address to continue").toString()),e=!1),e?Y(ps(t)):null}function Lc(t,e,n,i,r,o,a){Pu.call(this,Fu,{email:n,ia:!!o},a,"passwordSignIn",{F:i,D:r}),this.w=t,this.H=e}function jc(t,e,n,i,r,o){Pu.call(this,t,e,i,r||"notice",o),this.i=n||null}function Fc(t,e,n,i,r){jc.call(this,Bu,{email:t,G:!!e},e,r,"passwordRecoveryEmailSent",{F:n,D:i})}function Uc(t,e){jc.call(this,sc,{G:!!t},t,e,"emailVerificationSuccess")}function Vc(t,e){jc.call(this,uc,{G:!!t},t,e,"emailVerificationFailure")}function Bc(t,e,n){jc.call(this,cc,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function Gc(t,e){jc.call(this,lc,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function qc(t,e){jc.call(this,fc,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function Kc(t){jc.call(this,bc,void 0,void 0,t,"signOut")}function Hc(t,e){jc.call(this,ic,{G:!!t},t,e,"passwordResetSuccess")}function Wc(t,e){jc.call(this,rc,{G:!!t},t,e,"passwordResetFailure")}function zc(t,e){jc.call(this,ac,{G:!!t},t,e,"emailChangeRevokeFailure")}function Jc(t,e,n){jc.call(this,dc,{errorMessage:t,zb:!!e},e,n,"recoverableError")}function Yc(t,e){jc.call(this,pc,{errorMessage:t},void 0,e,"unrecoverableError")}function Xc(t){if("auth/invalid-credential"===t.code&&t.message&&-1!==t.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(t.message&&-1!==t.message.indexOf("HTTP Cloud Function returned an error:")){var e=JSON.parse(t.message.substring(t.message.indexOf("{"),t.message.lastIndexOf("}")+1));return{code:t.code,message:e&&e.error&&e.error.message||t.message}}return t}function Zc(t,e,n,i){function r(n){if(!n.name||"cancel"!=n.name){t:{var i=n.message;try{var r=((JSON.parse(i).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var o=!0;break t}}catch(t){}o=!1}if(o)n=Mu(e),e.m(),rl(t,n,void 0,cn("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=tl(n)}e.a(o)}}}if(Ch(t),i)return Qc(t,n),qi();if(!n.credential)throw Error("No credential found!");if(!yh(t).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(t,e){return Oh(t),Th(t,(function(n){if(t.j&&!t.j.isAnonymous&&ka(xh(t))&&!yh(t).currentUser)return Ph(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return Ph(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Mh(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ph(t).then((function(){return bh(t).updateCurrentUser(e.user)})).then((function(){return e.user=bh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(t){return Hr(t.code||t.message,t),e.a(t.code||t.message),qi()}return n=o.then((function(e){Qc(t,e)}),r).then(void 0,r),Ah(t,o),qi(n)}function Qc(t,e){if(!e.user)throw Error("No user found");var n=Wa(xh(t));if(Ha(xh(t))&&n&&Yr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Wa(xh(t));var i=Qo(wh(t))||void 0;Xo(Wo,wh(t));var r=!1;nr()?(n&&!n(e,i)||(r=!0,Le(window.opener.location,$c(t,i))),n||window.close()):n&&!n(e,i)||(r=!0,Le(window.location,$c(t,i))),r||t.reset()}else{n=e.user,e=e.credential,i=Ha(xh(t)),r=Qo(wh(t))||void 0,Xo(Wo,wh(t));var o=!1;nr()?(i&&!i(n,e,r)||(o=!0,Le(window.opener.location,$c(t,r))),i||window.close()):i&&!i(n,e,r)||(o=!0,Le(window.location,$c(t,r))),o||t.reset()}}function $c(t,e){if(!(t=e||xh(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function tl(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Dn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Dn();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=An();break;case"auth/invalid-verification-code":n+=cn("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=cn(n).toString())return e;try{return JSON.parse(t.message),Hr("Internal error: "+t.message,void 0),Nn().toString()}catch(e){return t.message}}function el(t,e,n,r){function o(){!function(t,e){Zo(Ho,{tenantId:t.a},e)}(new ro(t.h.tenantId||null),wh(t)),Ah(t,e.I(C(t.dc,t),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Ah(t,vh(t).then((function(n){e.m(),Xo(Ho,wh(t)),cs("callback",t,u,qi(n))}),a))}),s))}function a(i){if(Xo(Ho,wh(t)),!i.name||"cancel"!=i.name)switch(i=Xc(i),i.code){case"auth/popup-blocked":o();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(tl(i));break;case"auth/admin-restricted-operation":e.m(),Ma(xh(t))?cs("handleUnauthorizedUser",t,u,null,n):cs("callback",t,u,Ki(i));break;default:e.m(),cs("callback",t,u,Ki(i))}}function s(n){Xo(Ho,wh(t)),n.name&&"cancel"==n.name||(Hr("signInWithRedirect: "+n.code,void 0),n=tl(n),"blank"==e.Ga&&qa(xh(t))?(e.m(),cs("providerSignIn",t,u,n)):e.a(n))}var u=Mu(e),c=function(t,e,n){var r=Ea[e]&&i.default.auth[Ea[e]]?new i.default.auth[Ea[e]]:0==e.indexOf("saml.")?new i.default.auth.SAMLAuthProvider(e):new i.default.auth.OAuthProvider(e);if(!r)throw Error("Invalid Firebase Auth provider!");var o=Ra(xh(t),e);if(r.addScope)for(var a=0;a<o.length;a++)r.addScope(o[a]);return o=La(xh(t),e)||{},n&&(t=e==i.default.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==i.default.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=xa(xh(t),e))&&t.Ob)&&(o[t]=n),r.setCustomParameters&&r.setCustomParameters(o),r}(t,n,r);Ka(xh(t))==is?o():Ah(t,function(t,e){return Oh(t),Th(t,(function(n){return n&&!$o(wh(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Mh(t,e)})):yh(t).signInWithPopup(e)}))}(t,c).then((function(n){e.m(),cs("callback",t,u,qi(n))}),a))}function nl(t){return 1==(t=Na(xh(t))).length&&t[0]==i.default.auth.EmailAuthProvider.PROVIDER_ID}function il(t){return 1==(t=Na(xh(t))).length&&t[0]==i.default.auth.PhoneAuthProvider.PROVIDER_ID}function rl(t,e,n,i){nl(t)?i?cs("signIn",t,e,n,i):ul(t,e,n):t&&il(t)&&!i?cs("phoneSignInStart",t,e):t&&qa(xh(t))&&!i?cs("federatedRedirect",t,e,n):cs("providerSignIn",t,e,i,n)}function ol(t,e,n,i){var r=Mu(e);Ah(t,e.I(C(yh(t).fetchSignInMethodsForEmail,yh(t)),[n],(function(o){e.m(),al(t,r,o,n,i)}),(function(t){t=tl(t),e.a(t)})))}function al(t,e,n,r,o,a){n.length||Ga(xh(t))&&!Ga(xh(t))?q(n,i.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?cs("passwordSignIn",t,e,r,a):1==n.length&&n[0]===i.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ga(xh(t))?cs("sendEmailLinkForSignIn",t,e,r,(function(){cs("signIn",t,e)})):cs("unsupportedProvider",t,e,r):(n=Sa(n,Na(xh(t))))?(ea(new eo(r),wh(t)),cs("federatedSignIn",t,e,r,n,o)):cs("unsupportedProvider",t,e,r):Pa(xh(t))?cs("handleUnauthorizedUser",t,e,r,i.default.auth.EmailAuthProvider.PROVIDER_ID):Ga(xh(t))?cs("sendEmailLinkForSignIn",t,e,r,(function(){cs("signIn",t,e)})):cs("passwordSignUp",t,e,r,void 0,void 0,a)}function sl(t,e,n,i,r,o){var a=Mu(e);Ah(t,e.I(C(t.Ib,t),[n,o],(function(){e.m(),cs("emailLinkSignInSent",t,a,n,i,o)}),r))}function ul(t,e,n){n?cs("prefilledEmailSignIn",t,e,n):cs("signIn",t,e)}function cl(){return yt(or(),"oobCode")}function ll(){var t=yt(or(),"continueUrl");return t?function(){Le(window.location,t)}:null}function hl(t,e){Pu.call(this,Yu,void 0,e,"anonymousUserMismatch"),this.i=t}function fl(t){Pu.call(this,Gu,void 0,t,"callback")}function dl(t,e,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=$o(wh(t)),o=r&&r.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var i=Mu(e);Ah(t,Ph(t).then((function(){e.m(),cs("emailMismatch",t,i,n)}),(function(t){t.name&&"cancel"==t.name||(t=tl(t.code),e.a(t))})))}(t,e,i);else{var a=r&&r.a;a?Ah(t,n.user.linkWithCredential(a).then((function(n){i={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},pl(t,e,i)}),(function(n){vl(t,e,n)}))):pl(t,e,i)}}else n=Mu(e),e.m(),ta(wh(t)),rl(t,n)}function pl(t,e,n){ta(wh(t)),Zc(t,e,n)}function vl(t,e,n){var i=Mu(e);ta(wh(t)),n=tl(n),e.m(),rl(t,i,void 0,n)}function ml(t,e,n,r){var o=Mu(e);Ah(t,yh(t).fetchSignInMethodsForEmail(n).then((function(a){e.m(),a.length?q(a,i.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?cs("passwordLinking",t,o,n):1==a.length&&a[0]===i.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?cs("emailLinkSignInLinking",t,o,n):(a=Sa(a,Na(xh(t))))?cs("federatedLinking",t,o,n,a,r):(ta(wh(t)),cs("unsupportedProvider",t,o,n)):(ta(wh(t)),cs("passwordRecovery",t,o,n,!1,xn().toString()))}),(function(n){vl(t,e,n)})))}function gl(t,e){Pu.call(this,Ju,void 0,e,"differentDeviceError"),this.i=t}function yl(t,e,n,i){Pu.call(this,oc,{email:t,G:!!n},i,"emailChangeRevoke"),this.l=e,this.i=n||null}function bl(){return Js(this,"firebaseui-id-new-password")}function wl(){return Js(this,"firebaseui-id-password-toggle")}function Il(){this.Ra=!this.Ra;var t=wl.call(this),e=bl.call(this);this.Ra?(e.type="text",fs(t,"firebaseui-input-toggle-off"),ds(t,"firebaseui-input-toggle-on")):(e.type="password",fs(t,"firebaseui-input-toggle-on"),ds(t,"firebaseui-input-toggle-off")),e.focus()}function Sl(){return Js(this,"firebaseui-id-new-password-error")}function _l(){this.Ra=!1;var t=bl.call(this);t.type="password";var e=Sl.call(this);Qs(this,t,(function(){iu(e)&&(Zs(t,!0),eu(e))}));var n=wl.call(this);fs(n,"firebaseui-input-toggle-on"),ds(n,"firebaseui-input-toggle-off"),function(t,e,n){Fn(t,N(Un,e=new _s(e))),Cs(Ys(t),e,"focusin",n)}(this,t,(function(){fs(n,"firebaseui-input-toggle-focus"),ds(n,"firebaseui-input-toggle-blur")})),function(t,e,n){Fn(t,N(Un,e=new _s(e))),Cs(Ys(t),e,"focusout",n)}(this,t,(function(){fs(n,"firebaseui-input-toggle-blur"),ds(n,"firebaseui-input-toggle-focus")})),tu(this,n,C(Il,this))}function El(){var t=bl.call(this),e=Sl.call(this);return ps(t)?(Zs(t,!0),eu(e),e=!0):(Zs(t,!1),nu(e,cn("Enter your password").toString()),e=!1),e?ps(t):null}function Tl(t,e,n){Pu.call(this,nc,{email:t},n,"passwordReset"),this.l=e}function kl(t,e,n,i,r){Pu.call(this,hc,{factorId:t,phoneNumber:n||null,G:!!i},r,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=i||null}function Al(t,e,n,i){"auth/weak-password"==(i&&i.code)?(t=tl(i),Zs(n.i(),!1),nu(n.w(),t),n.i().focus()):(n&&n.m(),(n=new Wc).render(e),mh(t,n))}function Cl(t,e){try{var n="number"==typeof t.selectionStart}catch(t){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):Qt&&!he("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function Nl(t,e,n,i,r,o){Pu.call(this,zu,{email:n},o,"emailLinkSignInConfirmation",{F:i,D:r}),this.l=t,this.u=e}function xl(t,e,n,i,r){Pu.call(this,Qu,{ga:t},r,"emailLinkSignInLinkingDifferentDevice",{F:n,D:i}),this.i=e}function Ol(t){Pu.call(this,Ku,void 0,t,"blank")}function Dl(t,e,n,r,o){var a=new Ol,s=new Ut(n),u=s.a.a.get(qt.$a)||"",c=s.a.a.get(qt.Sa)||"",l="1"===s.a.a.get(qt.Qa),h=Vt(s),f=s.a.a.get(qt.PROVIDER_ID)||null;s=s.a.a.get(qt.vb)||null,Nh(t,s);var d=!Yo(zo,wh(t)),p=r||function(t,e){var n=null;if(e=Yo(zo,e))try{var i=Ao(t,e),r=JSON.parse(i);n=r&&r.email||null}catch(t){}return n}(c,wh(t)),v=(r=function(t,e){var n=null;if(e=Yo(Jo,e))try{var i=Ao(t,e);n=JSON.parse(i)}catch(t){}return io(n||null)}(c,wh(t)))&&r.a;f&&v&&v.providerId!==f&&(v=null),a.render(e),mh(t,a),Ah(t,a.I((function(){var e=qi(null);e=h&&d||d&&l?Ki(Error("anonymous-user-not-found")):function(t,e){var n=Vt(new Ut(e));return n?(e=new Li((function(e,i){var r=bh(t).onAuthStateChanged((function(t){r(),t&&t.isAnonymous&&t.uid===n?e(t):t&&t.isAnonymous&&t.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))}));Ah(t,r)})),Ah(t,e),e):qi(null)}(t,n).then((function(t){if(f&&!v)throw Error("pending-credential-not-found");return t}));var i=null;return e.then((function(e){return i=e,o?null:yh(t).checkActionCode(u)})).then((function(){return i}))}),[],(function(r){p?function(t,e,n,r,o,a){var s=Mu(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",cn("Signing in...").toString());var u=null;o=(a?function(t,e,n,r,o){Oh(t);var a=o||null,s=i.default.auth.EmailAuthProvider.credentialWithLink(n,r);return n=a?yh(t).signInWithEmailLink(n,r).then((function(t){return t.user.linkWithCredential(a)})).then((function(){return Ph(t)})).then((function(){return Mh(t,{code:"auth/email-already-in-use"},a)})):yh(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Mh(t,{code:"auth/email-already-in-use"},s):e.linkWithCredential(s)})),Ah(t,n),n}(t,a,n,r,o):function(t,e,n,i){Oh(t);var r,o=i||null;return e=yh(t).signInWithEmailLink(e,n).then((function(t){if(r={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){r={user:t.user,credential:o,operationType:r.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){Ph(t)})).then((function(){return bh(t).updateCurrentUser(r.user)})).then((function(){return r.user=bh(t).currentUser,r})),Ah(t,e),e}(t,n,r,o)).then((function(n){Xo(Jo,wh(t)),Xo(zo,wh(t)),e.h(),e.$("firebaseui-icon-done",cn("Signed in!").toString()),u=setTimeout((function(){e.h(),Zc(t,e,n,!0)}),1e3),Ah(t,(function(){e&&(e.h(),e.m()),clearTimeout(u)}))}),(function(i){if(e.h(),e.m(),!i.name||"cancel"!=i.name){var o=tl(i=Xc(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Xo(Jo,wh(t)),Xo(zo,wh(t))):"auth/invalid-email"==i.code?(o=cn("The email provided does not match the current sign-in session.").toString(),cs("emailLinkConfirmation",t,s,r,Pl,null,o)):rl(t,s,n,o)}})),Ah(t,o)}(t,a,p,n,v,r):l?(a.m(),cs("differentDeviceError",t,e)):(a.m(),cs("emailLinkConfirmation",t,e,n,Pl))}),(function(i){var r=void 0;if(!i||!i.name||"cancel"!=i.name)switch(a.m(),i&&i.message){case"anonymous-user-not-found":cs("differentDeviceError",t,e);break;case"anonymous-user-mismatch":cs("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":cs("emailLinkNewDeviceLinking",t,e,n,Ml);break;default:i&&(r=tl(i)),rl(t,e,void 0,r)}})))}function Pl(t,e,n,i){Dl(t,e,i,n,!0)}function Ml(t,e,n){Dl(t,e,n)}function Rl(t,e,n,i,r,o){Pu.call(this,Zu,{email:t,ga:e},o,"emailLinkSignInLinking",{F:i,D:r}),this.i=n}function Ll(t,e,n,i,r,o){Pu.call(this,Hu,{email:t},o,"emailLinkSignInSent",{F:i,D:r}),this.u=e,this.i=n}function jl(t,e,n,i,r,o,a){Pu.call(this,vc,{jc:t,Qb:e},a,"emailMismatch",{F:r,D:o}),this.l=n,this.i=i}function Fl(t,e,n,i,r){Pu.call(this,Wu,void 0,r,"emailNotReceived",{F:n,D:i}),this.l=t,this.i=e}function Ul(t,e,n,i,r,o){Pu.call(this,$u,{email:t,ga:e},o,"federatedLinking",{F:i,D:r}),this.i=n}function Vl(t,e,n,i,r,o){Pu.call(this,Vu,{email:n,Ta:!!e},o,"passwordRecovery",{F:i,D:r}),this.l=t,this.u=e}function Bl(){return Js(this,"firebaseui-id-name")}function Gl(){return Js(this,"firebaseui-id-name-error")}function ql(t,e,n,i,r,o,a,s,u){Pu.call(this,Uu,{email:i,Tb:t,name:r,Ta:!!n,ia:!!s},u,"passwordSignUp",{F:o,D:a}),this.w=e,this.H=n,this.B=t}function Kl(){return Js(this,"firebaseui-id-phone-confirmation-code")}function Hl(){return Js(this,"firebaseui-id-phone-confirmation-code-error")}function Wl(){return Js(this,"firebaseui-id-resend-countdown")}function zl(t,e,n,i,r,o,a,s,u){Pu.call(this,yc,{phoneNumber:r},u,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new Es(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=i}u(Lc,Pu),Lc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Ru(this,this.l(),this.i()),Lu(this,this.i(),this.w),ps(this.l())?this.i().focus():this.l().focus(),Pu.prototype.v.call(this)},Lc.prototype.o=function(){this.H=this.w=null,Pu.prototype.o.call(this)},x(Lc.prototype,{l:Oc,U:Dc,P:Pc,M:Mc,j:Rc,i:Tc,B:kc,ea:Ac,u:Cc,ua:Sc,pa:_c,ba:Ec}),M(jc,Pu),jc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),jc.K.v.call(this)},jc.prototype.o=function(){this.i=null,jc.K.o.call(this)},x(jc.prototype,{l:Sc,w:_c,u:Ec}),M(Fc,jc),M(Uc,jc),M(Vc,jc),M(Bc,jc),M(Gc,jc),M(qc,jc),M(Kc,jc),M(Hc,jc),M(Wc,jc),M(zc,jc),M(Jc,jc),M(Yc,jc),u(hl,Pu),hl.prototype.v=function(){var t=this;tu(this,this.l(),(function(){t.i()})),this.l().focus(),Pu.prototype.v.call(this)},hl.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(hl.prototype,{l:_c}),us.anonymousUserMismatch=function(t,e){var n=new hl((function(){n.m(),rl(t,e)}));n.render(e),mh(t,n)},u(fl,Pu),fl.prototype.I=function(t,e,n,i){return t.apply(null,e).then(n,i)},us.callback=function(t,e,n){var i=new fl;i.render(e),mh(t,i),n=n||vh(t),Ah(t,n.then((function(e){dl(t,i,e)}),(function(n){if((n=Xc(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)ea(new eo(n.email,n.credential),wh(t)),ml(t,i,n.email);else if(n&&"auth/user-cancelled"==n.code){var r=$o(wh(t)),o=tl(n);r&&r.a?ml(t,i,r.g,o):r?ol(t,i,r.g,o):vl(t,i,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&nl(t)?dl(t,i,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Ma(xh(t))?(i.m(),ta(wh(t)),cs("handleUnauthorizedUser",t,e,null,null)):vl(t,i,n))})))},u(gl,Pu),gl.prototype.v=function(){var t=this;tu(this,this.l(),(function(){t.i()})),this.l().focus(),Pu.prototype.v.call(this)},gl.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(gl.prototype,{l:_c}),us.differentDeviceError=function(t,e){var n=new gl((function(){n.m(),rl(t,e)}));n.render(e),mh(t,n)},u(yl,Pu),yl.prototype.v=function(){var t=this;tu(this,Js(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Pu.prototype.v.call(this)},yl.prototype.o=function(){this.l=this.i=null,Pu.prototype.o.call(this)},x(yl.prototype,{u:Sc,B:_c,w:Ec}),u(Tl,Pu),Tl.prototype.v=function(){this.H(),this.B(this.l),Lu(this,this.i(),this.l),this.i().focus(),Pu.prototype.v.call(this)},Tl.prototype.o=function(){this.l=null,Pu.prototype.o.call(this)},x(Tl.prototype,{i:bl,w:Sl,M:wl,H:_l,u:El,U:Sc,P:_c,B:Ec}),u(kl,Pu),kl.prototype.v=function(){var t=this;tu(this,Js(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Pu.prototype.v.call(this)},kl.prototype.o=function(){this.l=this.i=null,Pu.prototype.o.call(this)},x(kl.prototype,{u:Sc,B:_c,w:Ec}),us.passwordReset=function(t,e,n,i){Ah(t,yh(t).verifyPasswordResetCode(n).then((function(r){var o=new Tl(r,(function(){!function(t,e,n,i,r){var o=n.u();o&&Ah(t,n.I(C(yh(t).confirmPasswordReset,yh(t)),[i,o],(function(){n.m();var i=new Hc(r);i.render(e),mh(t,i)}),(function(i){Al(t,e,n,i)})))}(t,e,o,n,i)}));o.render(e),mh(t,o)}),(function(){Al(t,e)})))},us.emailChangeRevocation=function(t,e,n){var i=null;Ah(t,yh(t).checkActionCode(n).then((function(e){return i=e.data.email,yh(t).applyActionCode(n)})).then((function(){!function(t,e,n){var i=new yl(n,(function(){Ah(t,i.I(C(yh(t).sendPasswordResetEmail,yh(t)),[n],(function(){i.m(),(i=new Fc(n,void 0,Ua(xh(t)),Va(xh(t)))).render(e),mh(t,i)}),(function(){i.a(Cn().toString())})))}));i.render(e),mh(t,i)}(t,e,i)}),(function(){var n=new zc;n.render(e),mh(t,n)})))},us.emailVerification=function(t,e,n,i){Ah(t,yh(t).applyActionCode(n).then((function(){var n=new Uc(i);n.render(e),mh(t,n)}),(function(){var n=new Vc;n.render(e),mh(t,n)})))},us.revertSecondFactorAddition=function(t,e,n){var i=null,r=null;Ah(t,yh(t).checkActionCode(n).then((function(e){return i=e.data.email,r=e.data.multiFactorInfo,yh(t).applyActionCode(n)})).then((function(){!function(t,e,n,i){var r=new kl(i.factorId,(function(){r.I(C(yh(t).sendPasswordResetEmail,yh(t)),[n],(function(){r.m(),(r=new Fc(n,void 0,Ua(xh(t)),Va(xh(t)))).render(e),mh(t,r)}),(function(){r.a(Cn().toString())}))}),i.phoneNumber);r.render(e),mh(t,r)}(t,e,i,r)}),(function(){var n=new qc;n.render(e),mh(t,n)})))},us.verifyAndChangeEmail=function(t,e,n,i){var r=null;Ah(t,yh(t).checkActionCode(n).then((function(e){return r=e.data.email,yh(t).applyActionCode(n)})).then((function(){var n=new Bc(r,i);n.render(e),mh(t,n)}),(function(){var n=new Gc;n.render(e),mh(t,n)})))},u(Nl,Pu),Nl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Cl(this.i(),(this.i().value||"").length),Pu.prototype.v.call(this)},Nl.prototype.o=function(){this.u=this.l=null,Pu.prototype.o.call(this)},x(Nl.prototype,{i:Oc,M:Dc,w:Pc,H:Mc,j:Rc,U:Sc,P:_c,B:Ec}),us.emailLinkConfirmation=function(t,e,n,i,r,o){var a=new Nl((function(){var r=a.j();r?(a.m(),i(t,e,r,n)):a.i().focus()}),(function(){a.m(),rl(t,e,r||void 0)}),r||void 0,Ua(xh(t)),Va(xh(t)));a.render(e),mh(t,a),o&&a.a(o)},u(xl,Pu),xl.prototype.v=function(){this.u(this.i),this.l().focus(),Pu.prototype.v.call(this)},xl.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(xl.prototype,{l:Sc,u:Ec}),us.emailLinkNewDeviceLinking=function(t,e,n,i){var r=new Ut(n);if(n=r.a.a.get(qt.PROVIDER_ID)||null,Bt(r,null),n){var o=new xl(xa(xh(t),n),(function(){o.m(),i(t,e,r.toString())}),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o)}else rl(t,e)},u(Ol,Pu),us.emailLinkSignInCallback=Dl,u(Rl,Pu),Rl.prototype.v=function(){this.u(this.i),this.l().focus(),Pu.prototype.v.call(this)},Rl.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(Rl.prototype,{l:Sc,u:Ec}),us.emailLinkSignInLinking=function(t,e,n){var i=$o(wh(t));if(ta(wh(t)),i){var r=i.a.providerId,o=new Rl(n,xa(xh(t),r),(function(){!function(t,e,n,i){var r=Mu(e);sl(t,e,n,(function(){rl(t,r,n)}),(function(i){if(!i.name||"cancel"!=i.name){var o=tl(i);i&&"auth/network-request-failed"==i.code?e.a(o):(e.m(),rl(t,r,n,o))}}),i)}(t,o,n,i)}),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o)}else rl(t,e)},u(Ll,Pu),Ll.prototype.v=function(){var t=this;tu(this,this.l(),(function(){t.i()})),tu(this,Js(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),Pu.prototype.v.call(this)},Ll.prototype.o=function(){this.i=this.u=null,Pu.prototype.o.call(this)},x(Ll.prototype,{l:_c}),us.emailLinkSignInSent=function(t,e,n,i,r){var o=new Ll(n,(function(){o.m(),cs("emailNotReceived",t,e,n,i,r)}),(function(){o.m(),i()}),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o)},u(jl,Pu),jl.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Pu.prototype.v.call(this)},jl.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(jl.prototype,{u:Sc,B:_c,w:Ec}),us.emailMismatch=function(t,e,n){var i=$o(wh(t));if(i){var r=new jl(n.user.email,i.g,(function(){var e=r;ta(wh(t)),Zc(t,e,n)}),(function(){var e=n.credential.providerId,o=Mu(r);r.m(),i.a?cs("federatedLinking",t,o,i.g,e):cs("federatedSignIn",t,o,i.g,e)}),Ua(xh(t)),Va(xh(t)));r.render(e),mh(t,r)}else rl(t,e)},u(Fl,Pu),Fl.prototype.v=function(){var t=this;tu(this,this.u(),(function(){t.i()})),tu(this,this.Da(),(function(){t.l()})),this.u().focus(),Pu.prototype.v.call(this)},Fl.prototype.Da=function(){return Js(this,"firebaseui-id-resend-email-link")},Fl.prototype.o=function(){this.i=this.l=null,Pu.prototype.o.call(this)},x(Fl.prototype,{u:_c}),us.emailNotReceived=function(t,e,n,i,r){var o=new Fl((function(){sl(t,o,n,i,(function(t){t=tl(t),o.a(t)}),r)}),(function(){o.m(),rl(t,e,n)}),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o)},u(Ul,Pu),Ul.prototype.v=function(){this.u(this.i),this.l().focus(),Pu.prototype.v.call(this)},Ul.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(Ul.prototype,{l:Sc,u:Ec}),us.federatedLinking=function(t,e,n,i,r){var o=$o(wh(t));if(o&&o.a){var a=new Ul(n,xa(xh(t),i),(function(){el(t,a,i,n)}),Ua(xh(t)),Va(xh(t)));a.render(e),mh(t,a),r&&a.a(r)}else rl(t,e)},us.federatedRedirect=function(t,e,n){var i=new Ol;i.render(e),mh(t,i),el(t,i,e=Na(xh(t))[0],n)},us.federatedSignIn=function(t,e,n,i,r){var o=new Ul(n,xa(xh(t),i),(function(){el(t,o,i,n)}),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o),r&&o.a(r)},us.passwordLinking=function(t,e,n){var i=$o(wh(t));ta(wh(t));var r=i&&i.a;if(r){var o=new Nc(n,(function(){!function(t,e,n,i){var r=e.u();r?Ah(t,e.I(C(t.Xb,t),[n,r],(function(n){return n=n.user.linkWithCredential(i).then((function(n){return Zc(t,e,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Ah(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":Zs(e.i(),!1),nu(e.B(),tl(t));break;case"auth/too-many-requests":e.a(tl(t));break;default:Hr("signInWithEmailAndPassword: "+t.message,void 0),e.a(tl(t))}}))):e.i().focus()}(t,o,n,r)}),(function(){o.m(),cs("passwordRecovery",t,e,n)}),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o)}else rl(t,e)},u(Vl,Pu),Vl.prototype.v=function(){this.B(),this.H(this.l,this.u),ps(this.i())||this.i().focus(),Lu(this,this.i(),this.l),Pu.prototype.v.call(this)},Vl.prototype.o=function(){this.u=this.l=null,Pu.prototype.o.call(this)},x(Vl.prototype,{i:Oc,w:Dc,B:Pc,M:Mc,j:Rc,U:Sc,P:_c,H:Ec}),us.passwordRecovery=function(t,e,n,i,r){var o=new Vl((function(){!function(t,e){var n=e.j();if(n){var i=Mu(e);Ah(t,e.I(C(yh(t).sendPasswordResetEmail,yh(t)),[n],(function(){e.m();var r=new Fc(n,(function(){r.m(),rl(t,i)}),Ua(xh(t)),Va(xh(t)));r.render(i),mh(t,r)}),(function(t){Zs(e.i(),!1),nu(e.w(),tl(t))})))}else e.i().focus()}(t,o)}),i?void 0:function(){o.m(),rl(t,e)},n,Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o),r&&o.a(r)},us.passwordSignIn=function(t,e,n,r){var o=new Lc((function(){!function(t,e){var n=e.j(),r=e.u();if(n)if(r){var o=i.default.auth.EmailAuthProvider.credential(n,r);Ah(t,e.I(C(t.bc,t),[n,r],(function(n){return Zc(t,e,{user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":Zs(e.l(),!1),nu(e.U(),tl(t));break;case"auth/too-many-requests":case"auth/wrong-password":Zs(e.i(),!1),nu(e.B(),tl(t));break;default:Hr("verifyPassword: "+t.message,void 0),e.a(tl(t))}})))}else e.i().focus();else e.l().focus()}(t,o)}),(function(){var n=o.M();o.m(),cs("passwordRecovery",t,e,n)}),n,Ua(xh(t)),Va(xh(t)),r);o.render(e),mh(t,o)},u(ql,Pu),ql.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Ru(this,this.i(),this.u()),Ru(this,this.u(),this.l())):Ru(this,this.i(),this.l()),this.w&&Lu(this,this.l(),this.w),ps(this.i())?this.B&&!ps(this.u())?this.u().focus():this.l().focus():this.i().focus(),Pu.prototype.v.call(this)},ql.prototype.o=function(){this.H=this.w=null,Pu.prototype.o.call(this)},x(ql.prototype,{i:Oc,U:Dc,ea:Pc,jb:Mc,j:Rc,u:Bl,Cc:Gl,Ja:function(){var t=Bl.call(this),e=Gl.call(this);Qs(this,t,(function(){iu(e)&&(Zs(t,!0),eu(e))}))},M:function(){var t=Bl.call(this),e=Gl.call(this),n=ps(t);return Zs(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(eu(e),e=!0):(nu(e,cn("Enter your account name").toString()),e=!1),e?Y(ps(t)):null},l:bl,ba:Sl,lb:wl,ua:_l,P:El,Nb:Sc,Mb:_c,pa:Ec}),us.passwordSignUp=function(t,e,n,r,o,a){var s=new ql(Ba(xh(t)),(function(){!function(t,e){var n=Ba(xh(t)),r=e.j(),o=null;n&&(o=e.M());var a=e.P();if(r){if(n){if(!o)return void e.u().focus();o=rt(o)}if(a){var s=i.default.auth.EmailAuthProvider.credential(r,a);Ah(t,e.I(C(t.Yb,t),[r,a],(function(i){var r={user:i.user,credential:s,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:o}).then((function(){return Zc(t,e,r)})),Ah(t,i),i):Zc(t,e,r)}),(function(n){if(!n.name||"cancel"!=n.name){var o=Xc(n);switch(n=tl(o),o.code){case"auth/email-already-in-use":return function(t,e,n,i){function r(){var t=tl(i);Zs(e.i(),!1),nu(e.U(),t),e.i().focus()}var o=yh(t).fetchSignInMethodsForEmail(n).then((function(i){i.length?r():(i=Mu(e),e.m(),cs("passwordRecovery",t,i,n,!1,xn().toString()))}),(function(){r()}));return Ah(t,o),o}(t,e,r,o);case"auth/too-many-requests":n=cn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Zs(e.l(),!1),nu(e.ba(),n);break;case"auth/admin-restricted-operation":Ma(xh(t))?(n=Mu(e),e.m(),cs("handleUnauthorizedUser",t,n,r,i.default.auth.EmailAuthProvider.PROVIDER_ID)):e.a(n);break;default:Hr(o="setAccountInfo: "+No(o),void 0),e.a(n)}}})))}else e.l().focus()}else e.i().focus()}(t,s)}),o?void 0:function(){s.m(),rl(t,e)},n,r,Ua(xh(t)),Va(xh(t)),a);s.render(e),mh(t,s)},u(zl,Pu),zl.prototype.v=function(){var t=this;this.U(this.jb),ni(this.i,"tick",this.w,!1,this),this.i.start(),tu(this,Js(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),tu(this,this.Da(),(function(){t.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Pu.prototype.v.call(this)},zl.prototype.o=function(){this.M=this.H=this.l=this.P=null,Ts(this.i),oi(this.i,"tick",this.w),this.i=null,Pu.prototype.o.call(this)},zl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ts(this.i),oi(this.i,"tick",this.w),this.ua(),this.lb())},x(zl.prototype,{u:Kl,pa:Hl,Ja:function(t){var e=Kl.call(this),n=Hl.call(this);Qs(this,e,(function(){iu(n)&&(Zs(e,!0),eu(n))})),t&&$s(this,e,(function(){t()}))},ba:function(){var t=Y(ps(Kl.call(this))||"");return/^\d{6}$/.test(t)?t:null},Fb:Wl,U:function(t){ze(Wl.call(this),cn("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){eu(this.Fb())},Da:function(){return Js(this,"firebaseui-id-resend-link")},lb:function(){nu(this.Da())},Nb:Sc,Mb:_c,ea:Ec}),us.phoneSignInFinish=function(t,e,n,i,r,o){var a=new zl((function(){a.m(),cs("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,i){function r(t){e.u().focus(),Zs(e.u(),!1),nu(e.pa(),t)}var o=e.ba();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",cn("Verifying...").toString()),Ah(t,e.I(C(i.confirm,i),[o],(function(n){e.h(),e.$("firebaseui-icon-done",cn("Verified!").toString());var i=setTimeout((function(){e.h(),e.m();var i={user:bh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Zc(t,e,i,!0)}),1e3);Ah(t,(function(){e&&e.h(),clearTimeout(i)}))}),(function(i){if(i.name&&"cancel"==i.name)e.h();else{var o=Xc(i);switch(i=tl(o),o.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":o=Mu(e),e.h(),e.m(),cs("phoneSignInStart",t,o,n,i);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),r(i);break;default:e.h(),e.a(i)}}})))):r(cn("Wrong code. Try again.").toString())}(t,a,n,r)}),(function(){a.m(),rl(t,e)}),(function(){a.m(),cs("phoneSignInStart",t,e,n)}),Ia(n),i,Ua(xh(t)),Va(xh(t)));a.render(e),mh(t,a),o&&a.a(o)};var Jl=!(Qt||Wt("Safari")&&!(zt()||Wt("Coast")||Wt("Opera")||Wt("Edge")||Wt("Firefox")||Wt("FxiOS")||Wt("Silk")||Wt("Android")));function Yl(t,e){return/-[a-z]/.test(e)?null:Jl&&t.dataset?!Wt("Android")||zt()||Wt("Firefox")||Wt("FxiOS")||Wt("Opera")||Wt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function Xl(t,e,n){var i=this;t=en(yu,{items:t},null,this.s),Tu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Yl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||Ke(document))||Ke(document),i=qs(t),r=qs(n);if(!Qt||9<=Number(ce)){a=Bs(n,"borderLeftWidth");var o=Bs(n,"borderRightWidth");s=Bs(n,"borderTopWidth"),u=Bs(n,"borderBottomWidth"),o=new Vs(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=Hs(n,"borderLeft");o=Hs(n,"borderRight");var s=Hs(n,"borderTop"),u=Hs(n,"borderBottom");o=new Vs(s,o,u,a)}n==Ke(document)?(a=i.a-n.scrollLeft,i=i.g-n.scrollTop,!Qt||10<=Number(ce)||(a+=o.left,i+=o.top)):(a=i.a-r.a-o.left,i=i.g-r.g-o.top),r=t.offsetWidth,o=t.offsetHeight,s=ne&&!r&&!o,t=d(r)&&!s||!t.getBoundingClientRect?new Fe(r,o):new Fe((t=Gs(t)).right-t.left,t.bottom-t.top),r=n.clientHeight-t.height,o=n.scrollLeft,s=n.scrollTop,n=new je(o+=Math.min(a,Math.max(a-(n.clientWidth-t.width),0)),s+=Math.min(i,Math.max(i-r,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),tu(this,t,(function(t){(t=(t=Je(t.target,"firebaseui-id-list-box-dialog-button"))&&Yl(t,"listboxid"))&&(ku.call(i),e(t))}))}function Zl(){return Js(this,"firebaseui-id-phone-number")}function Ql(){return Js(this,"firebaseui-id-country-selector")}function $l(){return Js(this,"firebaseui-id-phone-number-error")}function th(t,e){var n,i=t.a,r=eh("1-US-0",i);if(!(n=e&&eh(e,i)?e:r?"1-US-0":0<i.length?i[0].c:null))throw Error("No available default country");rh.call(this,n,t)}function eh(t,e){return!(!(t=da(t))||!q(e,t))}function nh(t){return"firebaseui-flag-"+t.f}function ih(t){var e=this;Xl.call(this,function(t){return t.map((function(t){return{id:t.c,Ma:"firebaseui-flag "+nh(t),label:t.name+" ‎+"+t.b}}))}(t.a),(function(n){rh.call(e,n,t,!0),e.O().focus()}),this.Ba)}function rh(t,e,n){var i=da(t);i&&(n&&(e=fa(e,n=Y(ps(Zl.call(this))||""))).length&&e[0].b!=i.b&&(n="+"+i.b+n.substr(e[0].b.length+1),vs(Zl.call(this),n)),e=da(this.Ba),this.Ba=t,t=Js(this,"firebaseui-id-country-selector-flag"),e&&ds(t,nh(e)),fs(t,nh(i)),ze(Js(this,"firebaseui-id-country-selector-code"),"‎+"+i.b))}function oh(t,e,n,i,r,o,a,s,u,c){Pu.call(this,gc,{Gb:e,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:i,D:r}),this.H=s||null,this.M=e,this.l=t,this.w=n||null,this.pa=a||null}function ah(t,e,n,r){try{var o=e.U(Za)}catch(t){return}o?Ya?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",cn("Verifying...").toString()),Ah(t,e.I(C(t.cc,t),[Ia(o),n],(function(n){var i=Mu(e);e.$("firebaseui-icon-done",cn("Code sent!").toString());var r=setTimeout((function(){e.h(),e.m(),cs("phoneSignInFinish",t,i,o,15,n)}),1e3);Ah(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(n){if(e.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Qa),Ya=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=cn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void nu(e.B(),An().toString());case"auth/admin-restricted-operation":if(Ma(xh(t)))return n=Mu(e),e.m(),void cs("handleUnauthorizedUser",t,n,Ia(o),i.default.auth.PhoneAuthProvider.PROVIDER_ID);r=tl(n);break;default:r=tl(n)}e.a(r)}})))):Xa?nu(e.u(),cn("Solve the reCAPTCHA").toString()):!Xa&&r&&e.i().click():(e.O().focus(),nu(e.B(),An().toString()))}function sh(t,e,n,i,r){Pu.call(this,mc,{Sb:e},r,"providerSignIn",{F:n,D:i}),this.i=t}function uh(t,e,n,i,r,o,a){Pu.call(this,ju,{email:n,Va:!!e,ia:!!o},a,"signIn",{F:i,D:r}),this.i=t,this.u=e}function ch(t,e,n,i,r,o,a){Pu.call(this,tc,{kc:t,yb:n,Eb:!!i},a,"unauthorizedUser",{F:r,D:o}),this.l=e,this.i=i}function lh(t,e,n,i,r,o){Pu.call(this,ec,{email:t},o,"unsupportedProvider",{F:i,D:r}),this.l=e,this.i=n}function hh(t,e){this.$=!1;var n=ph(e);if(dh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');dh[n]=this,this.a=t,this.u=null,this.Y=!1,fh(this.a),this.h=i.default.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),(t=t.emulatorConfig)&&(n=t.port,this.h.useEmulator(t.protocol+"://"+t.host+(null===n?"":":"+n),t.options)),fh(this.h),this.h.setPersistence&&this.h.setPersistence(i.default.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new Ta,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Sr.Xa(),this.j=this.C=null,this.da=this.A=!1}function fh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}u(oh,Pu),oh.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Ru(this,this.O(),this.i()),Lu(this,this.i(),this.l),this.O().focus(),Cl(this.O(),(this.O().value||"").length),Pu.prototype.v.call(this)},oh.prototype.o=function(){this.w=this.l=null,Pu.prototype.o.call(this)},x(oh.prototype,{Cb:Au,O:Zl,B:$l,ea:function(t,e,n){var i=this,r=Zl.call(this),o=Ql.call(this),a=$l.call(this),s=t||ya,u=s.a;if(0==u.length)throw Error("No available countries provided.");th.call(i,s,e),tu(this,o,(function(){ih.call(i,s)})),Qs(this,r,(function(){iu(a)&&(Zs(r,!0),eu(a));var t=Y(ps(r)||""),e=da(this.Ba),n=fa(s,t);t=eh("1-US-0",u),n.length&&n[0].b!=e.b&&(e=n[0],rh.call(i,"1"==e.b&&t?"1-US-0":e.c,s))})),n&&$s(this,r,(function(){n()}))},U:function(t){var e=Y(ps(Zl.call(this))||""),n=(t=t||ya).a,i=fa(ya,e);if(i.length&&!q(n,i[0]))throw vs(Zl.call(this)),Zl.call(this).focus(),nu($l.call(this),cn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=da(this.Ba),i.length&&i[0].b!=n.b&&rh.call(this,i[0].c,t),i.length&&(e=e.substr(i[0].b.length+1)),e?new ba(this.Ba,e):null},Ja:Ql,ba:function(){return Js(this,"firebaseui-recaptcha-container")},u:function(){return Js(this,"firebaseui-id-recaptcha-error")},i:Sc,ua:_c,P:Ec}),us.phoneSignInStart=function(t,e,n,r){var o=function(t){var e=null;if(Aa(t).forEach((function(t){t.provider==i.default.auth.PhoneAuthProvider.PROVIDER_ID&&_(t.recaptchaParameters)&&!Array.isArray(t.recaptchaParameters)&&(e=at(t.recaptchaParameters))})),e){var n=[];ss.forEach((function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Yr('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(xh(t))||{};Ya=null,Xa=!(o&&"invisible"===o.size);var a=il(t),s=function(t){var e=(t=Ca(t,i.default.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&pa(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=wa(t.loginHint)),e&&e[0]||n&&da(n.a)||null}(xh(t)),u=a?function(t){var e=null;return(t=Ca(t,i.default.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=wa(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Aa||null}(xh(t)):null;s=n&&n.a||s&&s.c||null,n=n&&n.Aa||u,(u=ja(xh(t)))&&ma(u),Za=u?new ha(ja(xh(t))):ya;var c=new oh((function(e){ah(t,c,l,!(!e||!e.keyCode))}),Xa,a?null:function(){l.clear(),c.m(),rl(t,e)},Ua(xh(t)),Va(xh(t)),a,Za,s,n);c.render(e),mh(t,c),r&&c.a(r),o.callback=function(e){c.u()&&eu(c.u()),Ya=e,Xa||ah(t,c,l)},o["expired-callback"]=function(){Ya=null};var l=new i.default.auth.RecaptchaVerifier(Xa?c.ba():c.i(),o,bh(t).app);Ah(t,c.I(C(l.render,l),[],(function(t){Qa=t}),(function(n){n.name&&"cancel"==n.name||(n=tl(n),c.m(),rl(t,e,void 0,n))})))},us.prefilledEmailSignIn=function(t,e,n){var i=new Ol;i.render(e),mh(t,i),Ah(t,i.I(C(yh(t).fetchSignInMethodsForEmail,yh(t)),[n],(function(r){i.m();var o=!(!nl(t)||!Ih(t));al(t,e,r,n,void 0,o)}),(function(r){r=tl(r),i.m(),cs("signIn",t,e,n,r)})))},u(sh,Pu),sh.prototype.v=function(){this.l(this.i),Pu.prototype.v.call(this)},sh.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(sh.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?Ve("firebaseui-id-idp-button",this.g||this.s.a):[],i=0;i<n.length;i++){var r=n[i];tu(this,r,N(e,Yl(r,"providerId")))}}}),us.providerSignIn=function(t,e,n,r){var o=new sh((function(n){n==i.default.auth.EmailAuthProvider.PROVIDER_ID?(o.m(),ul(t,e,r)):n==i.default.auth.PhoneAuthProvider.PROVIDER_ID?(o.m(),cs("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){Ah(t,e.I(C(t.$b,t),[],(function(n){return e.m(),Zc(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Hr("ContinueAsGuest: "+t.code,void 0),t=tl(t),e.a(t))})))}(t,o):el(t,o,n,r),Oh(t),t.l.cancel()}),Oa(xh(t)),Ua(xh(t)),Va(xh(t)));o.render(e),mh(t,o),n&&o.a(n),function(t){Oh(t);try{_r(t.l,Da(xh(t)),function(t){var e;return Oh(t),(e=t.Z)||(e=!(!(t=La(t=xh(t),i.default.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.g&&function(t,e,n){if(n&&n.credential&&n.clientId===Da(xh(t))){if(Ra(xh(t),i.default.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(o){}return el(t,e,i.default.auth.GoogleAuthProvider.PROVIDER_ID,r),qi(!0)}return o=i.default.auth.GoogleAuthProvider.credential(n.credential),a=!1,o=e.I(C(t.ac,t),[o],(function(n){var i=Mu(e);e.m(),cs("callback",t,i,qi(n)),a=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Mu(e);e.m(),cs("callback",t,r,Ki(n))}else n&&"auth/admin-restricted-operation"==n.code&&Ma(xh(t))?(n=Mu(e),e.m(),cs("handleUnauthorizedUser",t,n,null,i.default.auth.GoogleAuthProvider.PROVIDER_ID)):(n=tl(n),e.a(n))})),Ah(t,o),o.then((function(){return a}),(function(){return!1}))}var o,a;return n&&e.a(cn("The selected credential for the authentication provider is not supported!").toString()),qi(!1)}(t,t.g,e)}))}catch(t){}}(t)},us.sendEmailLinkForSignIn=function(t,e,n,r){var o=new fl;o.render(e),mh(t,o),sl(t,o,n,r,(function(r){o.m(),r&&"auth/admin-restricted-operation"==r.code&&Ma(xh(t))?cs("handleUnauthorizedUser",t,e,n,i.default.auth.EmailAuthProvider.PROVIDER_ID):(r=tl(r),cs("signIn",t,e,n,r))}))},u(uh,Pu),uh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Cl(this.l(),(this.l().value||"").length),Pu.prototype.v.call(this)},uh.prototype.o=function(){this.u=this.i=null,Pu.prototype.o.call(this)},x(uh.prototype,{l:Oc,M:Dc,w:Pc,H:Mc,j:Rc,U:Sc,P:_c,B:Ec}),us.signIn=function(t,e,n,i){var r=nl(t),o=new uh((function(){var e=o,n=e.j()||"";n&&ol(t,e,n)}),r?null:function(){o.m(),rl(t,e,n)},n,Ua(xh(t)),Va(xh(t)),r);o.render(e),mh(t,o),i&&o.a(i)},u(ch,Pu),ch.prototype.v=function(){var t=this,e=Js(this,"firebaseui-id-unauthorized-user-help-link");this.i&&e&&tu(this,e,(function(){t.i()})),tu(this,this.u(),(function(){t.l()})),this.u().focus(),Pu.prototype.v.call(this)},ch.prototype.o=function(){this.i=this.l=null,Pu.prototype.o.call(this)},x(ch.prototype,{u:_c}),us.handleUnauthorizedUser=function(t,e,n,r){function o(){rl(t,e)}r===i.default.auth.EmailAuthProvider.PROVIDER_ID?o=function(){ul(t,e)}:r===i.default.auth.PhoneAuthProvider.PROVIDER_ID&&(o=function(){cs("phoneSignInStart",t,e)});var a=null,s=null;r===i.default.auth.EmailAuthProvider.PROVIDER_ID&&Pa(xh(t))?(a=function(t){return(t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.adminEmail||null}(xh(t)),s=function(t){if((t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp){var e=t.disableSignUp.helpLink||null;if(e&&"string"==typeof e)return function(){ir(e)}}return null}(xh(t))):Ma(xh(t))&&(a=function(t){return(t=t.a.get("adminRestrictedOperation"))&&t.adminEmail?t.adminEmail:null}(xh(t)),s=function(t){if(t=t.a.get("adminRestrictedOperation")||null){var e=t.helpLink||null;if(e&&"string"==typeof e)return function(){ir(e)}}return null}(xh(t)));var u=new ch(n,(function(){u.m(),o()}),a,s,Ua(xh(t)),Va(xh(t)));u.render(e),mh(t,u)},u(lh,Pu),lh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Pu.prototype.v.call(this)},lh.prototype.o=function(){this.i=this.l=null,Pu.prototype.o.call(this)},x(lh.prototype,{u:Sc,B:_c,w:Ec}),us.unsupportedProvider=function(t,e,n){var i=new lh(n,(function(){i.m(),cs("passwordRecovery",t,e,n)}),(function(){i.m(),rl(t,e,n)}),Ua(xh(t)),Va(xh(t)));i.render(e),mh(t,i)};var dh={};function ph(t){return t||"[DEFAULT]"}function vh(t){return Oh(t),t.i||(t.i=Th(t,(function(e){return e&&!$o(wh(t))?qi(bh(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Mh(t,e)}))):qi(yh(t).getRedirectResult().then((function(e){return ka(xh(t))&&!e.user&&t.j&&!t.j.isAnonymous?bh(t).getRedirectResult():e})))}))),t.i}function mh(t,e){Oh(t),t.g=e}var gh=null;function yh(t){return Oh(t),t.h}function bh(t){return Oh(t),t.a}function wh(t){return Oh(t),t.oa}function Ih(t){return Oh(t),t.O?t.O.emailHint:void 0}function Sh(t){return"signIn"===((t=new Ut(t)).a.a.get(qt.ub)||null)&&!!t.a.a.get(qt.$a)}function _h(t,e,n,i){Oh(t),void 0!==t.a.languageCode&&(t.u=t.a.languageCode);var r="en".replace(/_/g,"-");t.a.languageCode=r,t.h.languageCode=r,t.Y=!0,void 0!==t.a.tenantId&&(t.h.tenantId=t.a.tenantId),t.ib(n),t.O=i||null;var o=f.document;t.C?t.C.then((function(){"complete"==o.readyState?Eh(t,e):ri(window,"load",(function(){Eh(t,e)}))})):"complete"==o.readyState?Eh(t,e):ri(window,"load",(function(){Eh(t,e)}))}function Eh(t,e){var n=rr(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),gh){var i=gh;Oh(i),$o(wh(i))&&Yr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),gh.reset()}if(gh=t,t.T=n,function(t,e){t.L=null,t.J=new Ii(e),t.J.register(),ni(t.J,"pageEnter",(function(e){if(e=e&&e.pageId,t.L!=e){var n=xh(t);(n=Ja(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),Fo(new Uo)&&Fo(new Vo)){e=rr(e,"Could not find the FirebaseUI widget element on the page."),n=(n=yt(n=or(),i=aa(xh(t).a,"queryParameterForSignInSuccessUrl")))?we(Se(n)).toString():null;t:{i=or();var r=Fa(xh(t));for(o in i=yt(i,r)||"",os)if(os[o].toLowerCase()==i.toLowerCase()){var o=os[o];break t}o="callback"}switch(o){case"callback":n&&(o=wh(t),Zo(Wo,n,o)),t.nb()?cs("callback",t,e):rl(t,e,Ih(t));break;case"resetPassword":cs("passwordReset",t,e,cl(),ll());break;case"recoverEmail":cs("emailChangeRevocation",t,e,cl());break;case"revertSecondFactorAddition":cs("revertSecondFactorAddition",t,e,cl());break;case"verifyEmail":cs("emailVerification",t,e,cl(),ll());break;case"verifyAndChangeEmail":cs("verifyAndChangeEmail",t,e,cl(),ll());break;case"signIn":cs("emailLinkSignInCallback",t,e,or()),Dh();break;case"select":n&&(o=wh(t),Zo(Wo,n,o)),rl(t,e);break;default:throw Error("Unhandled widget operation.")}(e=Ja(e=xh(t)).uiShown||null)&&e()}else e=rr(e,"Could not find the FirebaseUI widget element on the page."),(o=new Yc(cn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),mh(t,o);e=t.g&&"blank"==t.g.Ga&&qa(xh(t)),na(wh(t))&&!e&&(Nh(t,(e=na(wh(t))).a),Xo(Ho,wh(t)))}function Th(t,e){if(t.A)return e(kh(t));if(Ah(t,(function(){t.A=!1})),ka(xh(t))){var n=new Li((function(n){Ah(t,t.a.onAuthStateChanged((function(i){t.j=i,t.A||(t.A=!0,n(e(kh(t))))})))}));return Ah(t,n),n}return t.A=!0,e(null)}function kh(t){return Oh(t),ka(xh(t))&&t.j&&t.j.isAnonymous?t.j:null}function Ah(t,e){if(Oh(t),e){t.s.push(e);var n=function(){!function(t,e){!function(t,e){for(var n=p(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&H(t,i)}))}(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function Ch(t){void 0!==t.a.languageCode&&t.Y&&(t.Y=!1,t.a.languageCode=t.u)}function Nh(t,e){t.a.tenantId=e,t.h.tenantId=e}function xh(t){return Oh(t),t.ca}function Oh(t){if(t.$)throw Error("AuthUI instance is deleted!")}function Dh(){var t=or();if(Sh(t)){for(var e in t=new Ut(t),qt)qt.hasOwnProperty(e)&&Rt(t.a.a,qt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"};var n=f.document.title;f.history&&f.history.replaceState&&f.history.replaceState(e,n,t.toString())}}function Ph(t){return Oh(t),yh(t).signOut()}function Mh(t,e,n){if(Oh(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var i=za(xh(t));return qi().then((function(){return i(new Pn("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.g&&(t.g.m(),t.g=null),e}))}return Ki(e)}function Rh(t,e,n,i){Pu.call(this,Ic,void 0,i,"providerMatchByEmail",{F:e,D:n}),this.i=t}function Lh(t,e,n,i,r){Pu.call(this,wc,{ec:e},r,"selectTenant",{F:n,D:i}),this.i=t}function jh(t){Pu.call(this,qu,void 0,t,"spinner")}function Fh(t){for(var e in this.a=new ia,ra(this.a,"authDomain"),ra(this.a,"displayMode",Hh),ra(this.a,"tenants"),ra(this.a,"callbacks"),ra(this.a,"tosUrl"),ra(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{oa(this.a,e,t[e])}catch(t){Hr('Invalid config: "'+e+'"',void 0)}}function Uh(t){return t.a.get("callbacks")||{}}function Vh(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Yr("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ir(e)}}return null}function Bh(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Yr("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ir(n)}}return null}function Gh(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(zh))throw Error("Invalid tenant configuration!")}function qh(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var i=[];if(!(t=t[e]||t[zh]))return Hr("Invalid tenant configuration: "+e+" is not configured!",void 0),i;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)i.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&i.push(t.provider):i.push(t.provider)}else Hr(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),i}(t=hh.prototype).nb=function(){return Oh(this),!!na(wh(this))||Sh(or())},t.start=function(t,e){_h(this,t,e)},t.Db=function(){Oh(this),this.Z=!0},t.reset=function(){Oh(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(t){var e=wi(t.N());gi[e]&&gi[e].length&&(function(t,e){t:{for(var n=t.length,i=p(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}0<=e&&H(t,e)}(gi[e],(function(e){return e==t})),gi[e].length||delete gi[e])}(this.J),Ch(this),this.O=null,Dh(),Xo(Ho,wh(this)),Oh(this),this.l.cancel(),this.i=qi({user:null,credential:null}),gh==this&&(gh=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],ta(wh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Ph(this).then((function(){t.C=null}),(function(){t.C=null})))},t.ib=function(t){Oh(this);var e,n=this.ca;for(e in t)try{oa(n.a,e,t[e])}catch(t){Hr('Invalid config: "'+e+'"',void 0)}ie&&oa(n.a,"popupMode",!1),ja(n),!this.da&&Ha(xh(this))&&(Yr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Wb=function(){Oh(this);var t=xh(this),e=aa(t.a,"widgetUrl");t=Fa(t);for(var n,i=e.search(gt),r=0,o=[];0<=(n=mt(e,r,t,i));)o.push(e.substring(r,n)),r=Math.min(e.indexOf("&",n)+1||i,i);o.push(e.substr(r)),e=o.join("").replace(bt,"$1"),(t+=i="="+encodeURIComponent("select"))?(0>(i=e.indexOf("#"))&&(i=e.length),0>(r=e.indexOf("?"))||r>i?(r=i,n=""):n=e.substring(r+1,i),i=(e=[e.substr(0,r),n,e.substr(i)])[1],e[1]=t?i?i+"&"+t:t:i,i=e[0]+(e[1]?"?"+e[1]:"")+e[2]):i=e,xh(this).a.get("popupMode")?(i=i||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||i.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=er(i,t))&&t.focus()):Le(window.location,i)},t.Wa=function(){var t=this;return Oh(this),this.h.app.delete().then((function(){var e=ph(wh(t));delete dh[e],t.reset(),t.$=!0}))},t.Ib=function(t,e){Oh(this);var n=this,r=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Ga(xh(this)))return Ki(Error("Email link sign-in should be enabled to trigger email sending."));var o=function(t){if(Ga(t)){var e={url:or(),handleCodeInApp:!0};(t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&ut(e,t.emailLinkSignIn()),t=e.url;var n=or();n instanceof wt||(n=Et(n)),t instanceof wt||(t=Et(t));var r=n;n=new wt(r);var o=!!t.j;o?It(n,t.j):o=!!t.A,o?n.A=t.A:o=!!t.h,o?n.h=t.h:o=null!=t.C;var a=t.g;if(o)St(n,t.C);else if(o=!!t.g)if("/"!=a.charAt(0)&&(r.h&&!r.g?a="/"+a:-1!=(r=n.g.lastIndexOf("/"))&&(a=n.g.substr(0,r+1)+a)),".."==a||"."==a)a="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){r=0==a.lastIndexOf("/",0),a=a.split("/");for(var s=[],u=0;u<a.length;){var c=a[u++];"."==c?r&&u==a.length&&s.push(""):".."==c?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&u==a.length&&s.push("")):(s.push(c),r=!0)}a=s.join("/")}return o?n.g=a:o=""!==t.a.toString(),o?_t(n,jt(t.a)):o=!!t.s,o&&(n.s=t.s),e.url=n.toString(),e}return null}(xh(this)),a=new Ut(o.url);return function(t,e){e?t.a.a.set(qt.Sa,e):Rt(t.a.a,qt.Sa)}(a,r),e&&e.a&&(function(t,e,n){Zo(Jo,ko(t,JSON.stringify(no(e))),n)}(r,e,wh(this)),Bt(a,e.a.providerId)),function(t,e){null!==e?t.a.a.set(qt.Qa,e?"1":"0"):Rt(t.a.a,qt.Qa)}(a,function(t){return!(!(t=Ca(t,i.default.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(xh(this))),Th(this,(function(e){return e&&((e=e.uid)?a.a.a.set(qt.Pa,e):Rt(a.a.a,qt.Pa)),o.url=a.toString(),yh(n).sendSignInLinkToEmail(t,o)})).then((function(){var e=wh(n),i={};i.email=t,Zo(zo,ko(r,JSON.stringify(i)),e)}),(function(t){throw Xo(Jo,wh(n)),Xo(zo,wh(n)),t}))},t.bc=function(t,e){Oh(this);var n=this;return yh(this).signInWithEmailAndPassword(t,e).then((function(r){return Th(n,(function(o){return o?Ph(n).then((function(){return Mh(n,{code:"auth/email-already-in-use"},i.default.auth.EmailAuthProvider.credential(t,e))})):r}))}))},t.Yb=function(t,e){Oh(this);var n=this;return Th(this,(function(r){if(r){var o=i.default.auth.EmailAuthProvider.credential(t,e);return r.linkWithCredential(o)}return yh(n).createUserWithEmailAndPassword(t,e)}))},t.ac=function(t){Oh(this);var e=this;return Th(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Mh(e,n,t)})):yh(e).signInWithCredential(t)}))},t.dc=function(t){Oh(this);var e=this,n=this.i;return this.i=null,Th(this,(function(n){return n&&!$o(wh(e))?n.linkWithRedirect(t):yh(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.cc=function(t,e){Oh(this);var n=this;return Th(this,(function(i){return i?i.linkWithPhoneNumber(t,e).then((function(t){return new kr(t,(function(t){if("auth/credential-already-in-use"==t.code)return Mh(n,t);throw t}))})):bh(n).signInWithPhoneNumber(t,e).then((function(t){return new kr(t)}))}))},t.$b=function(){return Oh(this),bh(this).signInAnonymously()},t.Xb=function(t,e){return Oh(this),yh(this).signInWithEmailAndPassword(t,e)},u(Rh,Pu),Rh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Cl(this.l(),(this.l().value||"").length),Pu.prototype.v.call(this)},Rh.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},x(Rh.prototype,{l:Oc,H:Dc,u:Pc,B:Mc,j:Rc,M:Sc,w:Ec}),u(Lh,Pu),Lh.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var i=t.g?Ve("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],r=0;r<i.length;r++){var o=i[r];tu(t,o,N(n,Yl(o,"tenantId")))}}(this,this.i),Pu.prototype.v.call(this)},Lh.prototype.o=function(){this.i=null,Pu.prototype.o.call(this)},u(jh,Pu);var Kh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Hh="optionFirst",Wh={qc:Hh,pc:"identifierFirst"},zh="*";function Jh(t,e){var n=this;this.s=rr(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Fh(e[t])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(t){this.ob=t||null},enumerable:!1})}function Yh(t){t.j&&t.j.reset(),t.mb(),t.g&&t.g.m()}(t=Jh.prototype).Ub=function(t,e){var n=this;Yh(this);var i=t.apiKey;return new Li((function(t,r){if(n.a.hasOwnProperty(i)){var o=Uh(n.a[i]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),Wh)if(Wh[e]===t)return Wh[e];return Hh}(n.a[i])===Hh){var a=[];e.forEach((function(t){t=t||"_";var e=n.a[i].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[zh])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,za:e.iconUrl,ta:e.buttonColor}:(Hr("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&a.push(t)}));var s=function(e){e={tenantId:e,providerIds:qh(n.a[i],e||"_")},t(e)};if(1===a.length)return void s(a[0].tenantId);n.g=new Lh((function(t){Yh(n),o&&o(),s(t)}),a,Vh(n.a[i]),Bh(n.a[i]))}else n.g=new Rh((function(){var r=n.g.j();if(r){for(var a=0;a<e.length;a++){var s=qh(n.a[i],e[a]||"_",r);if(0!==s.length)return r={tenantId:e[a],providerIds:s,email:r},Yh(n),o&&o(),void t(r)}n.g.a(On({code:"no-matching-tenant-for-email"}).toString())}}),Vh(n.a[i]),Bh(n.a[i]));n.g.render(n.s),(r=Uh(n.a[i]).selectTenantUiShown||null)&&r()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),r(u)}}))},t.Pb=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Gh(this.a[t],e||"_");try{this.i=i.default.app(n).auth()}catch(o){var r=this.a[t].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(t=i.default.initializeApp({apiKey:t,authDomain:r},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Zb=function(t,e){var n=this;return new Li((function(i,r){function o(e,i){n.j=new hh(t),_h(n.j,n.s,e,i)}var a=t.app.options.apiKey;n.a.hasOwnProperty(a)||r(Error("Invalid project configuration: API key is invalid!"));var s=function(t,e,n){return t=function(t,e){var n=Kh,i=void 0===i?{}:i;return Gh(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[zh],n,i)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return"string"==typeof t?n.includes(t):n.includes(t.provider)})),t.signInOptions=e),t}(n.a[a],t.tenantId||"_",e&&e.providerIds);Yh(n),r={signInSuccessWithAuthResult:function(t){return i(t),!1}};var u,c=Uh(n.a[a]).signInUiShown||null,l=!1;r.uiChanged=function(e,i){null===e&&"callback"===i?((e=Be("firebaseui-id-page-callback",n.s))&&eu(e),n.h=new jh,n.h.render(n.s)):l||null===e&&"spinner"===i||"blank"===i||(n.h&&(n.h.m(),n.h=null),l=!0,c&&c(t.tenantId))},s.callbacks=r,s.credentialHelper="none",e&&e.email&&(u={emailHint:e.email}),n.j?n.j.Wa().then((function(){o(s,u)})):o(s,u)}))},t.reset=function(){var t=this;return qi().then((function(){t.j&&t.j.Wa()})).then((function(){t.j=null,Yh(t)}))},t.Vb=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){Yh(t),t.h=new jh,t.g=t.h,t.h.render(t.s),t.A=null}),500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Yh(this),this.g=new Kc,this.g.render(this.s),qi()},t.pb=function(t){var e,n=this,i=On({code:t.code}).toString()||t.message;Yh(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new Jc(i,e),this.g.render(this.s)},t.Rb=function(t){var e=this;return qi().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Gh(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Uh(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},P("firebaseui.auth.FirebaseUiHandler",Jh),P("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Jh.prototype.Ub),P("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Jh.prototype.Pb),P("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Jh.prototype.Zb),P("firebaseui.auth.FirebaseUiHandler.prototype.reset",Jh.prototype.reset),P("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Jh.prototype.Vb),P("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Jh.prototype.mb),P("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Jh.prototype.Bb),P("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Jh.prototype.pb),P("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Jh.prototype.Rb),P("firebaseui.auth.AuthUI",hh),P("firebaseui.auth.AuthUI.getInstance",(function(t){return t=ph(t),dh[t]?dh[t]:null})),P("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",hh.prototype.Db),P("firebaseui.auth.AuthUI.prototype.start",hh.prototype.start),P("firebaseui.auth.AuthUI.prototype.setConfig",hh.prototype.ib),P("firebaseui.auth.AuthUI.prototype.signIn",hh.prototype.Wb),P("firebaseui.auth.AuthUI.prototype.reset",hh.prototype.reset),P("firebaseui.auth.AuthUI.prototype.delete",hh.prototype.Wa),P("firebaseui.auth.AuthUI.prototype.isPendingRedirect",hh.prototype.nb),P("firebaseui.auth.AuthUIError",Pn),P("firebaseui.auth.AuthUIError.prototype.toJSON",Pn.prototype.toJSON),P("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",$a),P("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",ts),P("firebaseui.auth.CredentialHelper.NONE",es),P("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Li.prototype.catch=Li.prototype.Ca,Li.prototype.finally=Li.prototype.fc}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window)}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=o());var a=firebaseui.auth},4997:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},3544:()=>{var t={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(t=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(e,n){for(var i=0;i<t.length;i++)if(t[i].className===e)return void 0!==n&&(t[i]=n),t[i];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function o(t,e){return-1!==r(t).indexOf(e)}function a(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var i=document.createEvent("Events");return i.initEvent(t,e,n),i}function s(e,n){if(void 0===e&&void 0===n)for(var r=0;r<t.length;r++)s(t[r].className,t[r].cssClass);else{var o=e;if(void 0===n){var a=i(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=r(s),h=[];if(u)o(s,u)||h.push(i(u));else{var f=s.classList;t.forEach((function(t){f.contains(t.cssClass)&&-1===h.indexOf(t)&&!o(s,t.className)&&h.push(t)}))}for(var d,p=0,v=h.length;p<v;p++){if(!(d=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(d.className),s.setAttribute("data-upgraded",l.join(","));var m=new d.classConstructor(s);m[n]=d,e.push(m);for(var g=0,y=d.callbacks.length;g<y;g++)d.callbacks[g](s);d.widget&&(s[d.className]=m);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(t){if(t){var i=e.indexOf(t);e.splice(i,1);var r=t.element_.getAttribute("data-upgraded").split(","),o=r.indexOf(t[n].classAsString);r.splice(o,1),t.element_.setAttribute("data-upgraded",r.join(","));var s=a("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,i=0,r=e.length;i<r;i++)(n=e[i])instanceof HTMLElement&&(u(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)s(t[e].className)},registerUpgradedCallback:function(t,e){var n=i(t);n&&n.callbacks.push(e)},register:function(e){var r=!0;void 0===e.widget&&void 0===e.widget||(r=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:r,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");i(e.classAsString,o)||t.push(o)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(c)};if(t instanceof Array||t instanceof NodeList)for(var i=0;i<t.length;i++)n(t[i]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).ComponentConfigPublic,t.ComponentConfig,t.Component,t.upgradeDom=t.upgradeDom,t.upgradeElement=t.upgradeElement,t.upgradeElements=t.upgradeElements,t.upgradeAllRegistered=t.upgradeAllRegistered,t.registerUpgradedCallback=t.registerUpgradedCallback,t.register=t.register,t.downgradeElements=t.downgradeElements,window.componentHandler=t,window.componentHandler=t,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):(t.upgradeElement=function(){},t.register=function(){})}))},4210:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},5634:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,i,r],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}e.appendChild(n),e.appendChild(i),e.appendChild(r),this.element_.appendChild(e)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},6573:()=>{!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},3401:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Background=void 0;var r=n(8882),o=function(){function t(t,e){this.imageBottom=new Image,this.imageTop=new Image,this.topStart={x:0,y:-(r.screen_h+2*r.field_increase)},this.bottomStart={x:0,y:0},this.bottom=i(i({},this.bottomStart),{sx:this.bottomStart.x,sy:this.bottomStart.y,height:this.imageBottom.height}),this.top=i(i({},this.topStart),{sx:this.topStart.x,sy:this.topStart.y,height:this.imageTop.height}),this.drawBg=function(t,e,n){var i=r.screen_w/2;t.drawImage(e,i,0,r.canvas_w,r.canvas_h,n.x,n.y,r.canvas_w,r.canvas_h)},this.scroll=function(t){t.y++,t.y>r.field_h&&(t.y=-(r.screen_h+2*r.field_increase))},this.imageBottom.setAttribute("src",t),this.imageTop.setAttribute("src",e)}return t.prototype.draw=function(t){this.drawBg(t,this.imageBottom,this.bottom),this.drawBg(t,this.imageTop,this.top)},t.prototype.update=function(){this.scroll(this.bottom),this.scroll(this.top)},t}();e.Background=o},946:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Boss=void 0;var o=n(8882),a=function(t){function e(e,n,i,r,a,s){var u=void 0===s?{}:s,c=u.moveFunctionArg,l=void 0===c?NaN:c,h=u.changeIndex,f=void 0===h?0:h,d=u.changeMax,p=void 0===d?3:d,v=t.call(this,e,n,i,r,a,l)||this;return v.changeIndex=f,v.changeMax=p,o.vars.bossEncounter=!0,v}return r(e,t),e.prototype.update=function(){o.vars.bossMhp=this.maxHp,o.vars.bossHp=this.hp,0===this.direction&&(this.direction+=this.directionGap,this.changeIndex>=this.changeMax?this.changeIndex=0:this.changeIndex++),t.prototype.update.call(this)},e}(n(1432).Enemy);e.Boss=a},1594:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var o=n(3801),a=n(8882),s=n(4607),u=n(8216),c=n(3306),l=function(t){function e(e,n,i,r,o){var a=t.call(this,o,e,n,i,r,new Audio("musics/explosion.mp3"))||this;return a.r=4,a}return r(e,t),e.prototype.update=function(){t.prototype.update.call(this);for(var e=0;e<a.enemy.length;e++)if(!a.enemy[e].kill&&a.isPlaying&&(0,s.checkHit)(this.x,this.y,this.r,a.enemy[e].x,a.enemy[e].y,a.enemy[e].r)){this.kill=!0,a.enemy[e].hp-=a.player.power,a.enemy[e].hp<=0&&!a.vars.gameClear&&!a.vars.gameOver?(this.makeSounds(),a.enemy[e].kill=!0,a.vars.score+=a.enemy[e].score,(0,u.moreExplosion)(a.enemy[e].x,a.enemy[e].y,a.enemy[e].vx>>3,a.enemy[e].vy>>3)):a.explosion.push((0,c.makeExplosion)(0,this.x,this.y,0,0));break}},e.prototype.draw=function(){t.prototype.draw.call(this)},e}(o.Character);e.Bullet=l},3801:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Character=void 0;var i=n(8882),r=n(2717),o=n(77),a=function(){function t(t,e,n,r,a,s){var u=this;void 0===s&&(s=null),this.checkIsOutRange=function(){var t=(0,o.correctionToCalcValue)(i.field_w),e=(0,o.correctionToCalcValue)(i.field_h);(u.x<0||u.x>t||u.y<0||u.y>e)&&(u.kill=!0)},this.makeSounds=function(){u.audio&&(u.audio.currentTime=0,u.audio.volume=.5,u.audio.play())},this.snum=t,this.x=e,this.y=n,this.vx=r,this.vy=a,this.kill=!1,this.count=0,this.audio=s}return t.prototype.update=function(){this.count++,this.x+=this.vx,this.y+=this.vy,this.checkIsOutRange()},t.prototype.draw=function(t){var e=(void 0===t?{}:t).file,n=void 0===e?0:e;(0,r.drawSprite)(this.snum,this.x,this.y,{file:n})},t.prototype.calcDistance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},t.prototype.moveX=function(t){this.x+=t},t.prototype.moveY=function(t){this.y+=t},t.prototype.accelerationX=function(t){this.vx+=t},t.prototype.accelerationY=function(t){this.vy+=t},t}();e.Character=a},1432:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Enemy=void 0;var o=n(8882),a=n(3801),s=n(4607),u=n(1296),c=n(77),l=n(3731),h=function(t){function e(e,n,i,r,a,s,u){void 0===s&&(s=NaN);var l=void 0===u?{}:u,h=l.isSquare,f=void 0!==h&&h,d=l.width,p=void 0===d?0:d,v=l.height,m=void 0===v?0:v,g=t.call(this,0,n,i,r,a)||this;return g.isAttackable=function(t,e,n){void 0===n&&(n=!0);var i=g.y;n&&(i=g.x);var r=Math.abs(i-t);return(e=(0,c.correctionToCalcValue)(e))>=r},g.getVp=function(){return g.vp},g.enemyNumber=o.enemyMaster[e].enemyNumber,g.r=o.enemyMaster[e].r,g.diameter=2*g.r,g.maxHp=o.enemyMaster[e].hp,g.score=o.enemyMaster[e].score,g.moveFunction=o.enemyMaster[e].moveFunction,g.moveFunctionArg=s,g.hp=g.maxHp,g.flag=!1,g.vp=0,g.isSquare=f,g.width=g.isSquare?p:g.diameter,g.height=g.isSquare?m:g.diameter,g.direction=90,g.directionGap=0,g.reload=0,g}return r(e,t),e.prototype.update=function(){t.prototype.update.call(this),this.reload&&this.reload--,isNaN(this.moveFunctionArg)?this.moveFunction(this):this.moveFunction(this,this.moveFunctionArg),(this.isSquare?(0,l.checkHit2)(this.x,this.y,this.width,this.height,o.player.x,o.player.y,o.player.r):(0,s.checkHit)(this.x,this.y,this.r,o.player.x,o.player.y,o.player.r))&&(0,u.isAttacked)()},e}(a.Character);e.Enemy=h},4602:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyMaster=void 0;e.EnemyMaster=function(t,e,n,i,r,o){void 0===r&&(r=function(){});var a=void 0===o?{}:o,s=a.isSquare,u=void 0!==s&&s,c=a.width,l=void 0===c?e:c,h=a.height,f=void 0===h?e:h;this.enemyNumber=t,this.r=e,this.hp=n,this.score=i,this.moveFunction=r,this.width=l,this.height=f,this.isSquare=u}},245:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyShot=void 0;var o=n(3801),a=n(8882),s=n(4607),u=n(1296),c=n(19),l=n(2220),h=function(t){function e(e,n,i,r,o,h,f,d,p){void 0===h&&(h=0),void 0===f&&(f=0),void 0===d&&(d=30),void 0===p&&(p=0);var v=t.call(this,e,n,i,r,o)||this;return v.isMove=!1,v.addMagnitude=0,v.draw=function(){t.prototype.draw.call(v)},v.update=function(){v.delay?v.delay--:(t.prototype.update.call(v),(0,s.checkHit)(v.x,v.y,v.r,a.player.x,a.player.y,a.player.r)&&(0,u.isAttacked)(),v.count%(0,l.secToCount)(.1)==0&&(v.snum=v.snum===v.snumOriginal?v.snum+1:v.snumOriginal),v.moveWaitSec&&v.count%v.moveWaitSec==0&&!v.isMove&&(v.rotation(v.moveAngle,v.addMagnitude),v.isMove=!0))},v.rotation=function(t,e){void 0===e&&(e=0);var n=new c.Vector(v.vx,v.vy);n.varyingAngle(t,e),v.vx=n.vx,v.vy=n.vy},v.snumOriginal=e,v.r=4,v.delay=void 0===h?0:(0,l.secToCount)(h),v.moveWaitSec=(0,l.secToCount)(f),v.moveAngle=d,v.addMagnitude=p,v}return r(e,t),e}(o.Character);e.EnemyShot=h},5889:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Explosion=void 0;var o=function(t){function e(e,n,i,r,o){var a=t.call(this,0,n,i,r,o)||this;return a.startSnum=16,a.endSnum=26,a.timer=e,a}return r(e,t),e.prototype.update=function(){this.timer>0?this.timer--:t.prototype.update.call(this)},e.prototype.draw=function(){this.timer||(this.snum=this.startSnum+(this.count>>2),this.snum>this.endSnum?this.kill=!0:t.prototype.draw.call(this))},e}(n(3801).Character);e.Explosion=o},471:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var o=n(3801),a=n(8882),s=n(4607),u=n(1889),c=n(2148),l=function(t){function e(e,n,i,r,o){var s=t.call(this,0,n,i,r,o)||this;return s.item=a.itemMaster[e],s.itemNumber=s.item.itemNumber,s.r=a.itemMaster[e].r,s.isUsed=!1,s}return r(e,t),e.prototype.update=function(){t.prototype.update.call(this),h[a.itemMaster[this.itemNumber].functionNumber](this),(0,s.checkHit)(this.x,this.y,this.r,a.player.x,a.player.y,a.player.r)&&(0,c.heal)(this)},e.prototype.draw=function(){t.prototype.draw.call(this,{file:a.itemMaster[this.itemNumber].fileNumber})},e}(o.Character);e.Item=l;var h=[u.itemMoveDefault]},7479:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemMaster=void 0;e.ItemMaster=function(t,e,n,i){var r=this;this.getItemNumber=function(){return r.itemNumber},this.itemNumber=t,this.r=e,this.fileNumber=n,this.functionNumber=i||0}},5152:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LastBoss=void 0;var o=n(77),a=n(7055),s=n(8882),u=function(t){function e(e,n,i,r,u){var c=t.call(this,e,n,i,r,u)||this;return c.movePattern=0,c.maxPattern=10,c.bulletSpeed=1e3,c.checkIsOutRange=function(){},c.calcBulletSpeed=function(){c.count%360==0&&(c.bulletSpeed=(0,a.rand)(500,1500))},c.update=function(){switch(s.vars.bossMhp=c.maxHp,s.vars.bossHp=c.hp,c.calcBulletSpeed(),(0,a.rand)(0,200)||(c.movePattern=c.count%c.maxPattern,c.vx=0,c.vy=0),t.prototype.update.call(c),c.movePattern){case 0:!(0,a.rand)(0,400)&&c.flag>1&&c.teleport()}},c.teleport=function(){c.x=(0,a.rand)(c.r,(0,o.correctionToCalcValue)(s.field_w)-c.r),c.y=(0,a.rand)(c.r,(0,o.correctionToCalcValue)(s.field_h)-c.r)},c.attack=function(){c.movePattern},s.vars.bossEncounter=!0,c}return r(e,t),e}(n(1432).Enemy);e.LastBoss=u},1756:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var i=n(8882),r=n(2717),o=n(5657),a=n(77),s=n(3198),u=n(2002),c=256;e.Player=function(){var t=this;this.vectorMax=5,this.brake=250,this.attackSoundSrc=new Audio("musics/shot.mp3"),this.isAttackedSrc=new Audio("musics/playerIsAttacked.mp3"),this.draw=function(){t.stun&&1&t.count||((0,r.drawSprite)(2+(t.anime>>2),t.x,t.y),(0,r.drawSprite)(9+(t.anime>>2),t.x,t.y+6144))},this.update=function(){t.count++,t.subtractionOfPlayerValues(),t.keyOperation(),t.slowSpeed(),t.limitRangeOfMovement()},this.keyOperation=function(){i.vars.afterPushedSpace?(t.playerAttack(),t.playerMove(),t.useSpecialAttack()):t.gameStart()},this.playerMove=function(){var e=!1,n={vx:t.vx,vy:t.vy},r=n.vx,o=n.vy,a=t.speed;i.key.ArrowLeft&&(r-=a,e=!0,t.changeAnime(-8,-1,">")),i.key.ArrowRight&&(r+=a,e=!0,t.changeAnime(8,1,"<")),i.key.ArrowUp&&(o-=a,e=!0),i.key.ArrowDown&&(o+=a,e=!0),e?(Math.abs(r)<=t.vectorMax*c&&(t.vx=r),Math.abs(o)<=t.vectorMax*c&&(t.vy=o)):t.unPushedKey()},this.airResistance=function(){t.vx=t.calcResistance(10,t.vx),t.vy=t.calcResistance(10,t.vy)},this.slowSpeed=function(){if(i.key.shift){var e=t.vx?c:0,n=t.vy?c:0;t.vx<0&&(e=-e),t.vy<0&&(n=-n),t.x+=e,t.y+=n,t.vx=0,t.vy=0}else t.x+=t.vx,t.y+=t.vy},this.calcResistance=function(t,e){return Math.abs(e)>=t?e>0?e-=t:e<0&&(e+=t):e=0,e},this.useSpecialAttack=function(){i.key.special&&!t.special&&t.specialMagazine&&(t.special=!0,t.specialTime=t.specialMaxTime,t.specialMagazine--)},this.playerAttack=function(){var e=t.special?u.shotSprite.pSpecial:u.shotSprite.ps1,n=-2e3;i.key.space&&0===t.reload&&(i.bullet.push((0,o.makeBullet)(t.x+1024,t.y,0,n,e)),i.bullet.push((0,o.makeBullet)(t.x-1024,t.y,0,n,e)),t.special&&[500,200].map((function(r,a){a<=0?(i.bullet.push((0,o.makeBullet)(t.x,t.y,r,-1900,e)),i.bullet.push((0,o.makeBullet)(t.x,t.y,-r,-1900,e))):(i.bullet.push((0,o.makeBullet)(t.x,t.y,r,n,e)),i.bullet.push((0,o.makeBullet)(t.x,t.y,-r,n,e)))})),t.attackSound(),t.reload=5,t.magazine++,t.magazine>=4&&(t.reload=20,t.magazine=0))},this.attackSound=function(){(0,s.makeSoundEffect)(t.attackSoundSrc)},this.isAttackedSound=function(){(0,s.makeSoundEffect)(t.isAttackedSrc)},this.subtractionOfPlayerValues=function(){t.specialTime?t.specialTime--:t.special=!1,t.damage&&t.damage--,t.stun&&t.stun--,t.reload>0&&t.reload--},this.unPushedKey=function(){t.anime>0?t.anime--:t.anime<0&&t.anime++,t.airResistance()},this.changeAnime=function(e,n,i){(t.anime>e&&">"===i||t.anime<e&&"<"===i)&&(t.anime+=n)},this.compareValues=function(e,n){var i=!1;return t[e]>n&&(i=!0),i},this.limitRangeOfMovement=function(){var e=(0,a.correctionToCalcValue)(i.field_w),n=(0,a.correctionToCalcValue)(i.field_h);t.x<=1&&(t.x=20),t.x>=e&&(t.x=e-1),t.y<0&&(t.y=0),t.y>=n-1&&(t.y=n-1)},this.gameStart=function(){if(i.key.space&&!i.vars.afterPushedSpace){i.vars.afterPushedSpace=!0;var t=setInterval((function(){i.vars.gameStartCount-=1,0===i.vars.gameStartCount&&clearInterval(t)}),1e3)}},this.x=i.field_w/2<<8,this.y=i.field_h-50<<8,this.vx=0,this.vy=0,this.r=5,this.damage=0,this.speed=c,this.anime=0,this.reload=0,this.magazine=0,this.stun=0,this.count=0,this.maxHp=10,this.hp=this.maxHp,this.power=1,this.special=!1,this.specialTime=0,this.specialMagazine=5,this.specialMaxTime=900}},1383:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;e.Sprite=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}},19:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=void 0;var i=n(7286);e.Vector=function(t,e){var n=this;this.transformToCartesianCoordinate=function(t,e,n){return void 0===n&&(n=0),{vx:(t+=n)*Math.cos(e),vy:t*Math.sin(e)}},this.varyingAngle=function(t,e){void 0===e&&(e=0),t=(0,i.toRad)(t),t+=n.angle;var r=n.transformToCartesianCoordinate(n.magnitude,t,e);n.vx=r.vx,n.vy=r.vy},this.vx=t,this.vy=e,this.magnitude=Math.sqrt(this.vx*this.vx+this.vy*this.vy),this.angle=Math.atan2(this.vy,this.vx)}},5657:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeBullet=void 0;var i=n(2002),r=n(1594);e.makeBullet=function(t,e,n,o,a){return void 0===a&&(a=i.shotSprite.es2_1),new r.Bullet(t,e,n,o,a)}},78:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeEnemy=void 0;var i=n(77),r=n(7055),o=n(8882),a=n(946),s=n(1432);e.makeEnemy=function(t,e){var n=void 0===e?{}:e,u=n.probability,c=void 0===u?0:u,l=n.x,h=void 0===l?NaN:l,f=n.y,d=void 0===f?0:f,p=n.vx,v=void 0===p?0:p,m=n.vy,g=void 0===m?(0,r.rand)(300,1200):m,y=n.changeMax,b=void 0===y?3:y,w=n.isBoss,I=void 0!==w&&w;Number.isNaN(h)&&(h=(0,r.rand)(0,o.field_w)),h=(0,i.correctionToCalcValue)(h),d=(0,i.correctionToCalcValue)(d);var S=I?new a.Boss(t,h,d,v,g,{changeMax:b}):new s.Enemy(t,h,d,v,g);return(0,r.rand)(0,c-1)||o.enemy.push(S),o.enemy.slice(-1)[0]}},3500:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeEnemyShot=void 0;var i=n(245);e.makeEnemyShot=function(t,e,n,r,o,a){var s=void 0===a?{}:a,u=s.delay,c=void 0===u?0:u,l=s.moveCount,h=void 0===l?0:l,f=s.moveAngle,d=void 0===f?0:f,p=s.addMagnitude,v=void 0===p?0:p;return new i.EnemyShot(t,e,n,r,o,c,h,d,v)}},3306:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeExplosion=void 0;var i=n(5889);e.makeExplosion=function(t,e,n,r,o){return new i.Explosion(t,e,n,r,o)}},8913:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ui=e.auth=e.db=e.firebase=void 0;var s=a(n(5503));e.firebase=s.default,n(9433),n(7397);var u=o(n(4811));s.default.initializeApp({apiKey:"AIzaSyDX_QPjKGDA3OnfPL5x5IpCPztdxl200Gw",authDomain:"shooting2-c68c2.firebaseapp.com",projectId:"shooting2-c68c2",storageBucket:"shooting2-c68c2.appspot.com",messagingSenderId:"1060125794969",appId:"1:1060125794969:web:6313c3e88bb8d0a6d20e08"});var c=s.default.firestore();e.db=c;var l=s.default.auth();e.auth=l;var h=new u.auth.AuthUI(l);e.ui=h},4607:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkHit=void 0;var i=n(671);e.checkHit=function(t,e,n,r,o,a){var s=!1,u=(0,i.correctionToMapValue)(t-r),c=(0,i.correctionToMapValue)(e-o),l=n+a;return l*l>=u*u+c*c&&(s=!0),s}},3731:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkHit2=void 0,e.checkHit2=function(t,e,n,i,r,o,a){var s=t+n,u=e+i;return!(t-a>r||s+a<r||e-a>o||u+a<o||t>r&&e>o&&!((t-r)*(t-r)+(e-o)*(e-o)<a*a)||s<r&&e>o&&!((s-r)*(s-r)+(e-o)*(e-o)<a*a)||t>r&&u<o&&!((t-r)*(t-r)+(u-o)*(u-o)<a*a)||s<r&&u<o&&!((s-r)*(s-r)+(u-o)*(u-o)<a*a))}},77:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.correctionToCalcValue=void 0,e.correctionToCalcValue=function(t){return t<<8}},671:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.correctionToMapValue=void 0,e.correctionToMapValue=function(t){return t>>8}},2717:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawSprite=void 0;var i=n(8882),r=n(2002),o=n(8906),a=n(671);e.drawSprite=function(t,e,n,s){var u=(void 0===s?{}:s).file,c=void 0===u?0:u,l=r.sprite[t].x,h=r.sprite[t].y,f=r.sprite[t].w,d=r.sprite[t].h,p=(0,a.correctionToMapValue)(e)-f/2,v=(0,a.correctionToMapValue)(n)-d/2;p+f<i.vars.camera_x||p>=i.vars.camera_x+i.screen_w||v+d<i.vars.camera_y||v>=i.vars.camera_y+i.screen_h||i.vctx&&i.vctx.drawImage(o.images[c],l,h,f,d,p,v,f,d)}},6993:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changeSprite=void 0,e.changeSprite=function(t,e,n){void 0===n&&(n=4);for(var i=[],r=0;r<n;r++)i.push(e+r);t.snum=i[t.count>>3&3]}},5486:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyAfterAttack=void 0,e.enemyAfterAttack=function(t,e,n,i,r,o,a){var s=a[0],u=void 0===s?0:s,c=a[1],l=void 0===c?0:c;e.x<t.x&&t.vx<n?u?t.accelerationY(i):t.accelerationX(i):t.vx>-r&&(l?t.accelerationY(o):t.accelerationX(o))}},3771:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyBeforeAttack=void 0,e.enemyBeforeAttack=function(t,e,n,i,r){void 0===r&&(r=-i),t.x<e.x&&t.vx<i?t.accelerationX(n):t.vx>r&&t.accelerationX(-n)}},9574:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyBullet=void 0;var i=n(8882),r=n(7055),o=n(3500),a=n(7286),s=n(2002);e.enemyBullet=function(t,e,n){var u=void 0===n?{}:n,c=u.snum,l=void 0===c?s.shotSprite.es2_1:c,h=u.xGap,f=void 0===h?0:h,d=u.yGap,p=void 0===d?0:d,v=u.gap,m=void 0===v?0:v,g=u.fixedAngle,y=void 0===g?NaN:g,b=u.delay,w=void 0===b?0:b,I=u.isRandom,S=void 0!==I&&I,_=u.begin,E=void 0===_?-i.player.r:_,T=u.end,k=void 0===T?i.player.r:T,A=u.moveCount,C=void 0===A?0:A,N=u.moveAngle,x=void 0===N?30:N,O=u.addMagnitude,D=void 0===O?0:O,P=Number.isNaN(y)?Math.atan2(i.player.y-t.y,i.player.x-t.x):y;if(S){var M=(0,r.rand)(E,k);P+=(0,a.toRad)(M)}else P+=(m=(0,a.toRad)(m))||0;var R=Math.cos(P)*e,L=Math.sin(P)*e;i.enemyShot.push((0,o.makeEnemyShot)(l,t.x+f,t.y+p,R,L,{delay:w||0,moveCount:C,moveAngle:x,addMagnitude:D}))}},2153:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyFunctions=void 0;var i=n(9444),r=n(4010),o=n(5477),a=n(8384),s=n(1573),u=n(4445),c=n(406),l=n(8352),h=n(1627),f=n(9006),d=n(9194),p=n(6485),v=n(499),m={pink:l.enemyMovePink,yellow:v.enemyMoveYellow,blue:i.enemyMoveBlue,robot:h.enemyMoveRobot,boss:r.enemyMoveBoss,chicken:o.enemyMoveChicken,egg:a.enemyMoveEgg,shell:f.enemyMoveShell,lastBoss:c.enemyMoveLastBoss,shovel:p.enemyMoveShovel,bigShovel:d.enemyMoveBigShovel,finger:s.enemyMoveFinger,kadai:u.enemyMoveKadai};e.enemyFunctions=m},9444:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveBlue=void 0;var i=n(2002),r=n(8882),o=n(6993),a=n(598);e.enemyMoveBlue=function(t,e){switch(void 0===e&&(e=i.enemySpriteStart.blue),r.vars.gameRound+1){case 1:case 2:(0,a.lvl1)(t);break;default:(0,a.lvl1)(t)}(0,o.changeSprite)(t,e)}},598:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1=void 0;var i=n(8051);e.lvl1=function(t){(0,i.sharedMove)(t)}},8051:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sharedMove=void 0;var i=n(8882),r=n(5486),o=n(3771),a=n(9574);e.sharedMove=function(t,e){var n=void 0===e?{}:e,s=n.distance,u=void 0===s?300:s,c=n.attackTimes,l=void 0===c?50:c,h=n.bulletSpeed,f=void 0===h?250:h,d=n.moveCount,p=void 0===d?2:d,v=n.limitY,m=void 0===v?-i.field_h/2:v,g=n.func,y=void 0===g?function(){}:g;if(t.flag?(0,r.enemyAfterAttack)(t,i.player,400,-30,-400,30,[0,0]):(0,o.enemyBeforeAttack)(t,i.player,4,120),t.isAttackable(i.player.y,u,!1)&&!t.flag){t.flag=!0;for(var b=0;b<l;b++)(0,a.enemyBullet)(t,f,{gap:10*b,moveCount:p});y()}t.flag&&t.y>m&&t.accelerationY(-30)}},8511:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bossInfo=void 0;var i=n(8882);e.bossInfo=function(t,e){if(i.vars.bossHp>0){var n=(i.screen_w-2*e)*i.vars.bossHp/i.vars.bossMhp,r=i.screen_w-2*e;t&&(t.fillStyle="rgba(255, 0, 0, 0.8)",t.fillRect(i.vars.camera_x+e,i.vars.camera_y+e,n,e),t.strokeStyle="yellow",t.strokeRect(i.vars.camera_x+e,i.vars.camera_y+e,n,e),t.strokeRect(i.vars.camera_x+e,i.vars.camera_y+e,r,e))}}},2102:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bossMoveBattle=void 0;var i=n(8882),r=n(671),o=n(1479),a=n(4417),s=n(8455);e.bossMoveBattle=function(t,e){var n=void 0===e?{}:e,u=n.mapX,c=void 0===u?(0,r.correctionToMapValue)(t.x):u,l=n.mapY,h=void 0===l?(0,r.correctionToMapValue)(t.y):l,f=n.maxVx,d=void 0===f?300:f,p=n.maxVy,v=void 0===p?500:p,m=n.move,g=void 0===m||m,y=n.limitX,b=void 0===y?i.field_w:y,w=n.limitY,I=void 0===w?i.field_h:w,S=n.pattern,_=void 0===S?"":S;if((0,o.bossMoveDown)(t,h),g)switch(_){case"h":(0,a.bossMoveHorizontal)(t,d,c,b);break;case"v":(0,s.bossMoveVertical)(t,v,h,I);break;case"hv":(0,a.bossMoveHorizontal)(t,d,c,b),(0,s.bossMoveVertical)(t,v,h,I)}}},1479:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bossMoveDown=void 0,e.bossMoveDown=function(t,e){!t.flag&&e>=120&&(t.flag=1),1===t.flag&&(t.vy-=1,t.vy<=0&&(t.flag=2,t.vy=0))}},4417:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bossMoveHorizontal=void 0;var i=n(7055);e.bossMoveHorizontal=function(t,e,n,r){r-=t.diameter,2===t.flag?(t.vx<e&&(t.vx+=(0,i.rand)(1,e)),n>r&&(t.flag=3)):3===t.flag&&(t.vx>-e&&(t.vx-=(0,i.rand)(1,e)),n<t.diameter&&(t.flag=2))}},8455:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bossMoveVertical=void 0;var i=n(8882),r=n(7055);e.bossMoveVertical=function(t,e,n,o){void 0===o&&(o=i.field_h),o-=t.diameter;var a=t.diameter,s=t.vy,u=t.getVp();switch(u){case 0:s<=e&&t.accelerationY((0,r.rand)(1,e)),n>=o&&(u=1);break;case 1:s>=-e&&t.accelerationY(-(0,r.rand)(1,e)),n<=a&&(u=0)}t.vp=u}},1716:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bossShotDefault=void 0;var i=n(8882),r=n(77),o=n(7055),a=n(7286),s=n(9574);e.bossShotDefault=function(t,e){var n=void 0===e?{}:e,u=n.speed,c=void 0===u?300:u,l=n.directionGap,h=void 0===l?0:l,f=n.changeDir,d=void 0!==f&&f,p=n.changeFrequency,v=void 0===p?3:p,m=n.minDir,g=void 0===m?3.5:m,y=n.maxDir,b=void 0===y?360:y,w=n.moveCount,I=void 0===w?0:w,S=n.moveAngle,_=void 0===S?30:S,E=n.addMagnitude,T=void 0===E?0:E;if(t.flag>1){var k=i.enemyMaster[i.enemyMasterIndex.bigYellow].r,A=(0,a.toRad)(t.direction),C=(0,r.correctionToCalcValue)(Math.cos(A)*k),N=(0,r.correctionToCalcValue)(Math.sin(A)*k);(0,s.enemyBullet)(t,c,{delay:.5,fixedAngle:A,xGap:C,yGap:N,moveCount:I,moveAngle:_,addMagnitude:T}),t.direction+=t.directionGap+h,t.direction>=360&&(t.direction=0,!(0,o.rand)(0,v-1)&&d&&(t.directionGap=(0,o.rand)(g,b)))}}},4010:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveBoss=void 0;var i=n(8882),r=n(3206),o=n(7073),a=n(2002);e.enemyMoveBoss=function(t,e){switch(void 0===e&&(e=a.enemySpriteStart.bigPink),i.vars.gameRound){case 0:(0,r.lvl1)(t),e=a.enemySpriteStart.bigPink;break;case 1:(0,o.lvl2)(t),e=a.enemySpriteStart.bigYellow;break;default:(0,r.lvl1)(t)}t.snum=e}},3206:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1=void 0;var i=n(2002),r=n(8882),o=n(2153),a=n(2102),s=n(1716),u=n(7754);e.lvl1=function(t){(0,a.bossMoveBattle)(t,{pattern:""});var e=[90,-90,0],n=[250,500,1e3];(0,s.bossShotDefault)(t,{speed:n[t.changeIndex%n.length],directionGap:10,moveCount:2,moveAngle:e[t.changeIndex%e.length]}),(0,u.makeFollowers)(t,r.enemyMasterIndex.pink,o.enemyFunctions.chicken,i.enemySpriteStart.chicken)}},7073:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl2=void 0;var i=n(2002),r=n(8882),o=n(1778),a=n(2153),s=n(2102),u=n(1716),c=n(7754);e.lvl2=function(t){(0,s.bossMoveBattle)(t,{pattern:"h"});var e=t.hp>t.maxHp/3?[250,500,1e3]:[300,1e3,2e3],n=[-100,0,100],l=t.changeIndex;(0,u.bossShotDefault)(t,{speed:e[l],directionGap:l+10,changeDir:!0,moveCount:2,moveAngle:n[l%n.length-1],addMagnitude:(0,o.randArr)([0,100,250])}),(0,c.makeFollowers)(t,r.enemyMasterIndex.yellow,a.enemyFunctions.yellow,i.enemySpriteStart.yellow,{followerNumber:1})}},7754:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeFollowers=void 0;var i=n(78),r=n(671),o=n(2220),a=n(7286);e.makeFollowers=function(t,e,n,s,u){var c=void 0===u?{}:u,l=c.followerNumber,h=void 0===l?4:l,f=c.vx,d=void 0===f?300:f,p=c.vy,v=void 0===p?300:p,m=c.makeFollowerCount,g=void 0===m?1:m;if(t.hp<t.maxHp/2){var y=t.count%(0,o.secToCount)(5);if((g=y/(10*g))<h&&y%10==0){var b=t.r,w=(0,a.toRad)(30*g);d=Math.cos(w)*d,v=Math.sin(w)*v;var I=(0,r.correctionToMapValue)(Math.cos(w)*b+t.x),S=(0,r.correctionToMapValue)(Math.sin(w)*b+t.y),_=(0,i.makeEnemy)(e,{x:I,y:S,vx:d,vy:v});_.moveFunction=n,_.moveFunctionArg=s}}}},5477:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveChicken=void 0;var i=n(2002),r=n(8882),o=n(6993),a=n(8163);e.enemyMoveChicken=function(t,e){switch(void 0===e&&(e=i.enemySpriteStart.chicken),r.vars.gameRound){case 0:(0,a.lvl1)(t);break;default:(0,a.lvl1)(t)}(0,o.changeSprite)(t,e)}},8163:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1=void 0;var i=n(8882),r=n(7055),o=n(9574),a=n(4666),s=n(766);e.lvl1=function(t){var e=i.player.r/2,n=(0,r.rand)(500,1e3),u=(0,r.rand)(300,500);(0,s.sharedMove)(t,{func:function(){(0,a.isAttackable)(t,n)&&(0,o.enemyBullet)(t,u,{gap:(0,r.rand)(-e,e)})}})}},8384:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveEgg=void 0;var i=n(2002),r=n(6993);e.enemyMoveEgg=function(t,e){void 0===e&&(e=i.enemySpriteStart.egg),(0,r.changeSprite)(t,e)}},1573:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveFinger=void 0;var i=n(2002),r=n(8882),o=n(7055),a=n(6233);e.enemyMoveFinger=function(t,e){void 0===e&&(e=i.enemySpriteStart.finger);var n=(0,o.rand)(500,1e3);(0,a.down)(t,n);var s=(0,o.rand)(0,100),u=(0,o.rand)(2e3,4e3);t.x<r.player.x&&t.vx<u?t.vx+=s:t.x>r.player.x&&t.vx>-u&&(t.vx-=s),t.snum=e}},4445:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveKadai=void 0;var i=n(2002),r=n(7055),o=n(9574),a=n(3504);e.enemyMoveKadai=function(t,e){void 0===e&&(e=i.enemySpriteStart.kadai),(0,a.sharedMove)(t,(0,r.rand)(500,1e3),30);var n=[500,1e3,1500],s=[0,90,180,270],u=t.count%n.length;if(!t.flag){for(var c=0;c<(0,r.rand)(1,30);c++)(0,o.enemyBullet)(t,n[u],{xGap:t.r,yGap:t.r,moveAngle:s[t.count%s.length],addMagnitude:n[n.length-u]});t.flag=!0}t.snum=e}},406:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveLastBoss=void 0;var i=n(78),r=n(2002),o=n(8882),a=n(671),s=n(7055),u=n(2102),c=n(1716);e.enemyMoveLastBoss=function(t,e){void 0===e&&(e=r.enemySpriteStart.lastBoss);var n=(0,a.correctionToMapValue)(t.x),l=(0,a.correctionToMapValue)(t.y);switch((0,u.bossMoveBattle)(t,{pattern:["hv","v","h"][t.movePattern],mapX:n,mapY:l}),t.movePattern){case 0:(0,i.makeEnemy)(o.enemyMasterIndex.shovel,{probability:30});break;case 1:(0,i.makeEnemy)(o.enemyMasterIndex.bigShovel,{probability:40});break;case 2:(0,i.makeEnemy)(o.enemyMasterIndex.shovel,{probability:40}),(0,i.makeEnemy)(o.enemyMasterIndex.bigShovel,{probability:30});break;case 3:o.vars.healCount=0,t.movePattern=(0,s.rand)(0,t.maxPattern);break;case 4:(0,i.makeEnemy)(o.enemyMasterIndex.kadai,{probability:30});break;default:(0,c.bossShotDefault)(t,{speed:t.bulletSpeed,directionGap:10,changeDir:!0,moveCount:1,addMagnitude:t.bulletSpeed/6,moveAngle:(0,s.rand)(0,360)})}t.snum=e}},8352:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMovePink=void 0;var i=n(2002),r=n(8882),o=n(6993),a=n(8064),s=n(7131);e.enemyMovePink=function(t,e){switch(void 0===e&&(e=i.enemySpriteStart.pink),r.vars.gameRound){case 0:(0,a.lvl1)(t);break;case 1:(0,s.lvl2)(t);break;default:(0,a.lvl1)(t)}(0,o.changeSprite)(t,e)}},4666:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttackable=void 0;var i=n(8882),r=n(77);e.isAttackable=function(t,e){void 0===e&&(e=300);var n=Math.abs(i.player.y-t.y)<(0,r.correctionToCalcValue)(e)&&!t.flag;return n&&(t.flag=!0),n}},8064:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1=void 0;var i=n(9574),r=n(766),o=n(4666);e.lvl1=function(t){(0,r.sharedMove)(t,{func:function(){(0,o.isAttackable)(t)&&(0,i.enemyBullet)(t,1e3,{isRandom:!0,begin:-10,end:10})}})}},7131:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl2=void 0;var i=n(9574),r=n(766),o=n(4666);e.lvl2=function(t){(0,r.sharedMove)(t,{func:function(){if((0,o.isAttackable)(t))for(var e=0;e<3;e++)(0,i.enemyBullet)(t,1e3,{})}})}},766:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sharedMove=void 0;var i=n(8882),r=n(5486),o=n(3771);e.sharedMove=function(t,e){var n=void 0===e?{}:e,a=n.func,s=void 0===a?function(){}:a,u=n.acceleration,c=void 0===u?4:u,l=n.vxMax,h=void 0===l?120:l,f=n.approachX,d=void 0===f?400:f,p=n.breakOutX,v=void 0===p?30:p,m=n.escapeVy,g=void 0===m?-500:m;t.flag?(0,r.enemyAfterAttack)(t,i.player,d,-v,-d,v,[0,0]):(0,o.enemyBeforeAttack)(t,i.player,c,h),s(),t.flag&&t.vy>g&&t.accelerationY(-v)}},1627:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveRobot=void 0;var i=n(2002),r=n(8882),o=n(6993),a=n(4199);e.enemyMoveRobot=function(t,e){switch(void 0===e&&(e=i.enemySpriteStart.robot),r.vars.gameRound){case 0:(0,a.lvl1)(t);break;default:(0,a.lvl1)(t)}(0,o.changeSprite)(t,e)}},4199:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1=void 0;var i=n(8882),r=n(9574);e.lvl1=function(t){t.count<=10?(t.vx=0,t.vy=0):t.count>=60&&(i.player.compareValues("x",t.x)?t.vx+=5:t.vx-=5,t.vy=1,t.count>=100&&(t.reload||((0,r.enemyBullet)(t,300),t.reload=200)))}},9006:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveShell=void 0;var i=n(2002),r=n(6993);e.enemyMoveShell=function(t,e){void 0===e&&(e=i.enemySpriteStart.shell),(0,r.changeSprite)(t,e)}},6233:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.down=void 0,e.down=function(t,e){t.vy=e}},9194:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveBigShovel=void 0;var i=n(2002),r=n(7055),o=n(6233);e.enemyMoveBigShovel=function(t,e){void 0===e&&(e=i.enemySpriteStart.bigShovel),(0,o.down)(t,(0,r.rand)(500,1e3)),t.snum=e}},6485:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveShovel=void 0;var i=n(2002),r=n(1778),o=n(7055),a=n(6233);e.enemyMoveShovel=function(t,e){void 0===e&&(e=i.enemySpriteStart.shovel),(0,a.down)(t,(0,o.rand)(500,2e3));var n=[e,e+1],s=t.count;t.snum=s<=10?e:(0,o.rand)(0,99)?t.snum:(0,r.randArr)(n)}},499:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enemyMoveYellow=void 0;var i=n(8882),r=n(684),o=n(8189),a=n(6993),s=n(2002);e.enemyMoveYellow=function(t,e){switch(void 0===e&&(e=s.enemySpriteStart.yellow),0==i.vars.gameRound&&(0,o.lvl1)(t),i.vars.gameRound){case 0:(0,o.lvl1)(t);break;case 1:(0,r.lvl2)(t);break;default:(0,o.lvl1)(t)}(0,a.changeSprite)(t,e)}},8189:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1=void 0;var i=n(3504);e.lvl1=function(t){(0,i.sharedMove)(t,10,5)}},684:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl2=void 0;var i=n(3504);e.lvl2=function(t){(0,i.sharedMove)(t,16,5)}},3504:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sharedMove=void 0;var i=n(8882),r=n(7055),o=n(5486),a=n(3771),s=n(9574);e.sharedMove=function(t,e,n,u){void 0===u&&(u=function(){});t.flag?(0,o.enemyAfterAttack)(t,i.player,300,30,-600,50,[1,1]):(0,a.enemyBeforeAttack)(t,i.player,30,300,-600),t.flag||((0,r.rand)(0,n-1)||(t.flag=!0),(0,s.enemyBullet)(t,1e3,{isRandom:!0,begin:-e,end:e}),u())}},1071:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.remodelEnemy=void 0,e.remodelEnemy=function(t,e){var n=void 0===e?{}:e,i=n.x,r=void 0===i?t.x:i,o=n.y,a=void 0===o?t.y:o,s=n.vx,u=void 0===s?t.vx:s,c=n.vy,l=void 0===c?t.vy:c,h=n.hp,f=void 0===h?t.hp:h,d=n.score,p=void 0===d?t.score:d,v=n.moveFunction,m=void 0===v?t.moveFunction:v,g=n.directionGap,y=void 0===g?t.directionGap:g;return t.x=r,t.y=a,t.vx=u,t.vy=l,t.maxHp=f,t.hp=f,t.score=p,t.moveFunction=m,t.directionGap=y,t}},2148:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.heal=void 0;var i=n(8882);e.heal=function(t){!i.vars.gameOver&&!i.vars.gameClear&&i.player.hp<i.player.maxHp&&!t.isUsed&&(i.player.hp+=1),t.isUsed=!0,t.kill=!0}},3620:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.beforeStart=void 0,e.beforeStart=function(t,e,n,i,r){t.beginPath(),t.font="200% "+e,t.fillStyle="lime";var o="PUSH 'SPACE'",a="TO GAME START",s=t.measureText(o).width,u=t.measureText(a).width,c=i/2-s/2,l=r/2;t.fillText(o,c,l),c=i/2-u/2,l+=n,t.fillText(a,c,l),t.closePath()}},2350:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countDown=void 0;var i=n(8882);e.countDown=function(t,e,n,r){t.beginPath(),t.font="500% "+e,t.fillStyle="lime";var o=i.vars.gameStartCount||"GO!",a=n/2-t.measureText(o.toString()).width/2,s=r/2;t.fillText(o.toString(),a,s),i.vars.gameStartCount<=0&&setTimeout((function(){i.vars.gameStart=!0}),1e3),t.closePath()}},17:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gameClear=void 0;var i=n(8882);e.gameClear=function(t,e,n){t.font="200% "+n,t.fillStyle="Yellow";var r=(i.vars.gameTimer/60).toFixed(1),o=["GAME CLEAR","HP   : "+i.player.hp,"SCORE: "+i.vars.score,"TIME : "+r+" s"],a=i.screen_h/2;o.forEach((function(e,r){0===r?t.fillStyle="yellow":(t.fillStyle="rgba(255, 255, 255, 0.9)",t.font="150% "+n);var o=t.measureText(e),s=o.width,u=i.screen_w/2-s/2;t.fillText(e,u,a);var c=o.actualBoundingBoxAscent+o.actualBoundingBoxDescent;a+=1.5*c}))}},6989:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.information=void 0;var i=n(8882),r=n(671),o=n(3620),a=n(2350),s=n(17),u=n(9946),c=n(9783),l=n(6392);e.information=function(){var t="'M PLUS Rounded 1c', sans-serif",e="rgba(255, 255, 255, 0.7)";if(i.ctx)if(i.ctx.font="15px "+t,i.ctx.fillStyle=e,i.vars.afterPushedSpace)if(i.vars.gameStart)if(i.vars.gameOver)(0,u.gameOver)(i.ctx,t,e,i.screen_w,i.screen_h,i.vars.score);else if(i.vars.gameClear)(0,s.gameClear)(i.ctx,30,t);else{i.vars.drawCount++,i.vars.lastTime+1e3<=Date.now()&&(i.vars.fps=i.vars.drawCount,i.vars.drawCount=0,i.vars.lastTime=Date.now());var n=i.screen_h-20,h=10;(v=[]).push("HP : "+i.player.hp);var f=(0,r.correctionToMapValue)(i.player.x).toString(),d=(0,r.correctionToMapValue)(i.player.y).toString();v.push("X : "+f.padStart(3,"_")+"\nY : "+d.padStart(3,"_")),v.push("SCORE : "+i.vars.score),i.ctx.fillStyle=e;var p=(0,c.printInfo)(v,h,n,20,i.ctx);(0,l.printSpecialBar)(i.player,i.screen_w,20,h,p,i.ctx);var v=[],m=(h=i.screen_w-100,(i.vars.gameTimer/60).toFixed(1));i.ctx.fillStyle=e,v.push("TIME : "+m),v.push("Round : "+i.vars.gameRound),(0,c.printInfo)(v,h,n,20,i.ctx)}else(0,a.countDown)(i.ctx,t,i.screen_w,i.screen_h);else(0,o.beforeStart)(i.ctx,t,40,i.screen_w,i.screen_h)}},9946:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gameOver=void 0,e.gameOver=function(t,e,n,i,r,o){t.font="200% "+e,t.fillStyle="red";var a="GAME OVER",s="SCORE : "+o,u=(t.measureText(a).width,r/2);[a,"push 'R' to Play Again!",s].forEach((function(e,r){t.fillStyle=1===r?n:"";var o=t.measureText(e),a=o.width,s=i/2-a/2;t.fillText(e,s,u);var c=o.actualBoundingBoxAscent+o.actualBoundingBoxDescent;u+=1.5*c}))}},9783:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printInfo=void 0,e.printInfo=function(t,e,n,i,r){var o=n;return t.forEach((function(t){r.fillText(t,e,o),o-=i})),o-i}},6392:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printSpecialBar=void 0,e.printSpecialBar=function(t,e,n,i,r,o){if(t.special){var a=e/4*t.specialTime/t.specialMaxTime,s=e/4;o.fillStyle="rgba(0, 255, 0, 0.8)",o.fillRect(i,r,a,i),o.strokeStyle="lime",o.strokeRect(i,r,s,i)}else t.special||o.fillText("SPECIAL : "+t.specialMagazine,i,r+n)}},1296:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttacked=void 0;var i=n(8882),r=n(6844);e.isAttacked=function(){i.player.stun||i.player.special||(i.player.isAttackedSound(),i.player.hp>0?(i.player.hp-=1,i.player.stun=60,i.player.damage=10):((0,r.gameOver)(i.player),i.vars.callData=1))}},9759:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNotEndGame=void 0;var i=n(8882);e.isNotEndGame=function(){return!(i.vars.gameOver||i.vars.gameClear)}},1889:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.itemMoveDefault=void 0,e.itemMoveDefault=function(t){t.snum=79}},6109:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeItem=void 0;var i=n(471),r=n(8882),o=n(77),a=n(7055);e.makeItem=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=400),r.item.push(new i.Item(t,(0,o.correctionToCalcValue)((0,a.rand)(r.field_w/3,r.field_w/1.5)),0,e,n)),r.vars.healCount--}},6236:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changeKey=void 0;var i=n(8882);e.changeKey=function(t,e){"f"!==t&&"F"!==t||(i.key.special=e)," "===t&&e&&(i.key.space=!i.key.space),"ArrowUp"!==t&&"i"!==t&&"I"!==t||(i.key.ArrowUp=e),"ArrowRight"!==t&&"l"!==t&&"L"!==t||(i.key.ArrowRight=e),"ArrowDown"!==t&&"k"!==t&&"K"!==t||(i.key.ArrowDown=e),"ArrowLeft"!==t&&"j"!==t&&"J"!==t||(i.key.ArrowLeft=e),"Shift"!==t&&"d"!==t||(i.key.shift=e)}},3419:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keyControl=void 0;var i=n(8882),r=n(6236);e.keyControl=function(){var t="";document.onkeydown=function(e){t=e.key,(0,r.changeKey)(t,!0),(i.vars.gameOver||i.vars.gameClear)&&"r"===t&&i.vars.inputOnFocus&&document.location.reload(),"r"===t||"f"===t||i.vars.gameOver||i.vars.gameClear||e.preventDefault()},document.onkeyup=function(e){t=e.key,(0,r.changeKey)(t,!1)}}},3198:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeSoundEffect=void 0;var i=n(9759);e.makeSoundEffect=function(t,e){void 0===e&&(e=.5),(0,i.isNotEndGame)()&&(t.currentTime=0,t.volume=e,t.play())}},8216:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.moreExplosion=void 0;var i=n(8882),r=n(7055),o=n(3306);e.moreExplosion=function(t,e,n,a){i.explosion.push((0,o.makeExplosion)(0,t,e,n,a));for(var s=0;s<10;s++){var u=n+((0,r.rand)(-10,10)<<6),c=a+((0,r.rand)(-10,10)<<6);i.explosion.push((0,o.makeExplosion)(s,t,e,u,c))}}},7924:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawObject=e.updateObject=void 0,e.updateObject=function(t){for(var e=t.length-1;e>=0;e--)t[e].update(),t[e].kill&&t.splice(e,1)},e.drawObject=function(t){for(var e=0;e<t.length;e++)t[e].draw()}},1778:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randArr=void 0;var i=n(7055);e.randArr=function(t){return t[(0,i.rand)(0,t.length-1)]}},7055:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rand=void 0,e.rand=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},2220:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.secToCount=void 0;var i=n(8882);e.secToCount=function(t){return t*i.frame}},9531:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawStars=e.updateStars=void 0,e.updateStars=function(t){for(var e=t.length-1;e>=0;e--)t[e].update()},e.drawStars=function(t){for(var e=0;e<t.length;e++)t[e].draw()}},5672:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copyCanvas=void 0;var i=n(8882);e.copyCanvas=function(t,e){t&&t.drawImage(e,i.vars.camera_x,i.vars.camera_y,i.screen_w,i.screen_h,0,0,i.screen_w,i.screen_h)}},9167:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkState=void 0;var i=n(8882);e.checkState=function(){var t=!0;return i.player.hp>i.player.maxHp&&(t=!1),t}},2725:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.database=void 0;var i=n(8882),r=n(8913),o=n(9498),a=n(9780),s=n(8127),u=n(1057);e.database=function(){null===i.logoutButton||void 0===i.logoutButton||i.logoutButton.addEventListener("click",(function(){(0,a.signOut)()}));var t=document.getElementById("isLogin");r.auth.onAuthStateChanged((function(e){e&&t?(0,o.login)(t,e):((0,u.logout)(),r.ui.start("#firebase-ui-container",s.uiConfig))}))}},9498:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.login=void 0;var i=n(8913),r=n(8882),o=n(9167);e.login=function(t,e){var n,a=document.getElementById("isLogout");a&&(a.style.display="none"),t&&(t.style.display="flex");var s=i.db.collection("profiles").doc(""+(null===(n=null===i.auth||void 0===i.auth?void 0:i.auth.currentUser)||void 0===n?void 0:n.uid)),u=document.getElementById("userName"),c=document.getElementById("login-text");s.get().then((function(t){if(t.exists){var n,a,l,h=t.data();c&&(c.innerHTML=(null==h?void 0:h.name)+"さん"),console.log("データの取得に成功しました"),s.get().then((function(t){t.exists?(h&&(n=h.name,a=h.score,l=h.life),null!=u&&(u.value=n)):(n="",a=0,u.value="")})).catch((function(t){n="",a=0,u.value=""})),r.scoreSubmit&&(0,o.checkState)()?r.scoreSubmit.addEventListener("submit",(function(){r.player.hp>l?s.set({score:r.vars.score,life:r.player.hp,round:r.vars.gameRound},{merge:!0}).then((function(){alert("スコアを投稿しました"),u.value=""})).catch((function(t){console.error("データの書き換え失敗しました",t)})):r.vars.score>a?window.confirm("ランキングの順位が下がる可能性があります。データを送信してもよろしいですか？")&&s.set({score:r.vars.score,life:r.player.hp,round:r.vars.gameRound},{merge:!0}).then((function(t){return t})):console.log("スコアの書き換えを行いませんでした"),n!==u.value&&s.set({name:u.value},{merge:!0}).then((function(){alert("スコアを投稿しました");var t=u.value+"さん";u.value="",c&&(c.innerHTML=t)})).catch((function(t){alert("データの送信に失敗しました"),console.error("エラー",t)}))})):(alert("通信時にエラーが発生しました"),location.reload())}else console.log("初ログイン"),r.scoreSubmit&&r.scoreSubmit.addEventListener("submit",(function(){var t=document.getElementById("userName");i.db.collection("profiles").doc(e.uid).set({name:t.value,score:r.vars.score,life:r.player.hp}).then((function(){alert("スコアを投稿しました"),u.value=""})).catch((function(t){alert("データの送信に失敗しました"),console.error("エラー",t)}))}))})).catch((function(t){console.log("エラーだお",t)}))}},1057:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logout=void 0;var i=n(8913),r=n(8882);e.logout=function(){var t=i.db.collection("hamako-fes"),e=document.getElementById("userNameLogout"),n=document.getElementById("score-submit");e.addEventListener("focusin",(function(){r.vars.inputOnFocus=!1})),e.addEventListener("focusout",(function(){r.vars.inputOnFocus=!0}));var o=r.vars.score,a=r.vars.gameRound,s=r.player.hp;null==n||n.addEventListener("submit",(function(){var n=e.value;o>0&&(!0===confirm(n+"でスコアを投稿します。\nよろしいですか?")?t.add({name:n,life:s,score:o,round:a}).then((function(){alert("スコアを投稿しました"),e.value="",setTimeout((function(){location.reload()}),2e3)})).catch((function(t){alert("通信に失敗しました"),console.log(t)})):alert("投稿をキャンセルしました"))}))}},9780:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.signOut=void 0;var i=n(8913);e.signOut=function(){i.auth.onAuthStateChanged((function(){i.auth.signOut().then((function(){location.reload()})).catch((function(t){console.error(t)}))}))}},8127:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uiConfig=void 0;var i=n(8913),r={callbacks:{signInSuccessWithAuthResult:function(t,e){return!0},uiShown:function(){var t=document.getElementById("loader");t&&(t.style.display="none")}},signInFlow:"popup",signInOptions:[i.firebase.auth.GoogleAuthProvider.PROVIDER_ID,i.firebase.auth.GithubAuthProvider.PROVIDER_ID,i.firebase.auth.TwitterAuthProvider.PROVIDER_ID]};e.uiConfig=r},7883:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteCanvas=void 0;var i=n(8882);e.deleteCanvas=function(t){null===i.afterGame||void 0===i.afterGame||i.afterGame.classList.remove("playing"),t.classList.remove("canvas"),t.height=i.screen_h,t.width=i.screen_w}},7268:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.finishRound=void 0;var i=n(2725),r=n(8882),o=n(7883);e.finishRound=function(t){0===t&&((0,o.deleteCanvas)(r.canvas),(0,i.database)())}},6844:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gameOver=void 0;var i=n(8882),r=n(7268);e.gameOver=function(t){t.hp=-1,i.vars.gameOver=!0,(0,r.finishRound)(i.vars.callData)}},7286:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toRad=void 0,e.toRad=function(t){return t*Math.PI/180}},6634:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawAll=e.updateAll=void 0;var i=n(8882),r=n(671),o=n(8511),a=n(7924),s=n(9531),u=n(5672);e.updateAll=function(){(0,s.updateStars)(i.star),(0,a.updateObject)(i.item),(0,a.updateObject)(i.bullet),(0,a.updateObject)(i.enemyShot),(0,a.updateObject)(i.enemy),(0,a.updateObject)(i.explosion),i.player.update(),i.background.update()},e.drawAll=function(){i.vctx&&(i.background.draw(i.vctx),i.player.damage?i.vctx.fillStyle="rgba(255, 0, 0, 0.7)":i.vctx.fillStyle="rgba(50, 50, 50, 0.2)",i.vctx.fillRect(i.vars.camera_x-10,i.vars.camera_y-10,i.field_w,i.field_h)),(0,s.drawStars)(i.star),i.vars.gameOver||i.vars.gameClear||((0,a.drawObject)(i.item),(0,a.drawObject)(i.enemyShot),(0,a.drawObject)(i.explosion),(0,a.drawObject)(i.bullet),i.player.draw()),(0,a.drawObject)(i.enemy),i.vars.camera_x=(0,r.correctionToMapValue)(i.player.x)/i.field_w*(i.field_w-i.screen_w),i.vars.camera_y=(0,r.correctionToMapValue)(i.player.y)/i.field_h*(i.field_h-i.screen_h),(0,o.bossInfo)(i.vctx,10),(0,u.copyCanvas)(i.ctx,i.vcanvas)}},5753:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.increaseWave=void 0;var i=n(8882);e.increaseWave=function(t){i.vars.gameCount>60*t&&(i.vars.gameWave++,i.vars.gameCount=0)}},1092:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPossibleLvUp=void 0;var i=n(8882);e.isPossibleLvUp=function(){return i.enemy.length<=0&&i.vars.bossEncounter&&i.enemyShot.length<=0}},2782:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lastWaves=void 0;var i=n(78),r=n(5152),o=n(8882),a=n(77),s=n(6109),u=n(1778),c=n(7055),l=n(2220),h=n(5753),f=n(1092),d=n(8555),p=[function(){(0,i.makeEnemy)(o.enemyMasterIndex.chicken,{probability:40}),(0,h.increaseWave)(o.oneWave)},function(){(0,i.makeEnemy)(o.enemyMasterIndex.blue,{probability:40}),(0,h.increaseWave)(3*o.oneWave)},function(){var t=[o.enemyMasterIndex.pink,o.enemyMasterIndex.chicken,o.enemyMasterIndex.yellow,o.enemyMasterIndex.blue,o.enemyMasterIndex.robot];(0,i.makeEnemy)((0,u.randArr)(t),{probability:20}),!(0,c.rand)(0,99)&&o.vars.healCount>=2&&o.vars.gameCount>(0,l.secToCount)(20)&&(0,s.makeItem)(o.itemMasterIndex.heal),(0,h.increaseWave)(3*o.oneWave)},function(){o.vars.gameCount++,o.vars.gameCount>(0,l.secToCount)(5)&&!o.vars.bossEncounter?o.enemy.push(new r.LastBoss(o.enemyMasterIndex.lastBoss,(0,a.correctionToCalcValue)(o.field_w/2),0,0,200)):o.vars.gameCount>=(0,l.secToCount)(2*o.tenSeconds)&&o.vars.healCount>=0&&!(0,c.rand)(0,999)&&(0,s.makeItem)(o.itemMasterIndex.heal),(0,f.isPossibleLvUp)()&&(0,d.levelUp)()}];e.lastWaves=p},8555:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.levelUp=void 0;var i=n(8882),r=n(7268);e.levelUp=function(){i.vars.gameRound++,i.vars.gameCount=0,i.vars.gameWave=0,i.vars.healCount=0,i.vars.bossEncounter=!1,i.vars.gameRound>=i.vars.maxRound&&(i.vars.gameClear=!0,(0,r.finishRound)(i.vars.callData),i.vars.callData=1)}},1011:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl1Waves=void 0;var i=n(78),r=n(8882),o=n(1071),a=n(6109),s=n(7055),u=n(2220),c=n(5753),l=n(1092),h=n(8555),f=[function(){(0,i.makeEnemy)(r.enemyMasterIndex.pink,{probability:30}),(0,c.increaseWave)(2*r.oneWave)},function(){(0,i.makeEnemy)(r.enemyMasterIndex.yellow,{probability:30}),(0,c.increaseWave)(2*r.oneWave)},function(){var t=[r.enemyMasterIndex.pink,r.enemyMasterIndex.yellow];(0,i.makeEnemy)(t[(0,s.rand)(0,t.length-1)],{probability:20}),!(0,s.rand)(0,99)&&2==r.vars.healCount&&r.vars.gameCount>(0,u.secToCount)(r.tenSeconds)&&(0,a.makeItem)(r.itemMasterIndex.heal),(0,c.increaseWave)(1.5*r.oneWave)},function(){var t;r.vars.gameCount++,r.vars.gameCount>=(0,u.secToCount)(5)&&!r.vars.bossEncounter?(t=(0,i.makeEnemy)(r.enemyMasterIndex.bigYellow,{vy:r.bossEnemy.vy,x:r.field_w/2,isBoss:!0}),(0,o.remodelEnemy)(t,{hp:t.hp/2,score:t.score/4})):r.vars.gameCount>=(0,u.secToCount)(3*r.tenSeconds)&&1==r.vars.healCount&&!(0,s.rand)(0,99)&&(0,a.makeItem)(r.itemMasterIndex.heal),(0,l.isPossibleLvUp)()&&(0,h.levelUp)()}];e.lvl1Waves=f},2083:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lvl2Waves=void 0;var i=n(78),r=n(8882),o=n(1071),a=n(6109),s=n(7055),u=n(2220),c=n(5753),l=n(1092),h=n(8555),f=[function(){(0,i.makeEnemy)(r.enemyMasterIndex.pink,{probability:30}),(0,c.increaseWave)(2*r.oneWave)},function(){(0,i.makeEnemy)(r.enemyMasterIndex.yellow,{probability:30}),(0,c.increaseWave)(r.oneWave)},function(){var t=[r.enemyMasterIndex.pink,r.enemyMasterIndex.yellow];(0,i.makeEnemy)(t[(0,s.rand)(0,t.length-1)],{probability:20}),!(0,s.rand)(0,99)&&2==r.vars.healCount&&r.vars.gameCount>(0,u.secToCount)(20)&&(0,a.makeItem)(r.itemMasterIndex.heal),(0,c.increaseWave)(3*r.oneWave)},function(){var t;r.vars.gameCount++,r.vars.gameCount>=(0,u.secToCount)(5)&&!r.vars.bossEncounter?(t=(0,i.makeEnemy)(r.enemyMasterIndex.bigYellow,{vy:200,changeMax:3,isBoss:!0,x:r.field_w/2}),(0,o.remodelEnemy)(t,{score:t.score/2,hp:t.hp/2})):r.vars.gameCount>=(0,u.secToCount)(2*r.tenSeconds)&&r.vars.healCount>=1&&!(0,s.rand)(0,999)&&(0,a.makeItem)(r.itemMasterIndex.heal),console.log("count : "+r.vars.gameCount+"\nheal : "+r.vars.healCount),(0,l.isPossibleLvUp)()&&(0,h.levelUp)()}];e.lvl2Waves=f},2381:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waves=void 0;var i=n(1011),r=n(2083),o=n(2782),a=[i.lvl1Waves,r.lvl2Waves,o.lastWaves];e.waves=a},2659:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gameInit=void 0;var i=n(8882),r=n(6634),o=n(6989),a=n(2381),s=n(7209),u=n(9759);e.gameInit=function(){(0,s.bgmStart)(),setInterval((function(){(0,u.isNotEndGame)()&&i.vars.gameStart&&(a.waves[i.vars.gameRound][i.vars.gameWave](),i.vars.gameTimer++,i.vars.gameCount++),(0,r.updateAll)(),(0,r.drawAll)(),(0,o.information)()}),i.gameSpeed)}},8319:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gameStart=void 0;var i=n(2659);e.gameStart=function(){(0,i.gameInit)()}},7247:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bgmFadeOut=e.bgmFadeIn=void 0;var i=n(8882),r=n(7209),o=function(){r.bgm.volume<.5&&(r.bgm.volume+=.1,setTimeout(o,1e3))};e.bgmFadeIn=o;var a=function(){(i.vars.gameOver||r.bgm.volume>0&&r.bgm.duration-r.bgm.currentTime<=5)&&(r.bgm.volume-=.1,setTimeout(a,1e3))};e.bgmFadeOut=a},7209:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bgm=e.bgmStart=void 0;var i=n(7055),r=n(7247),o=function(t){return t.map((function(t){return new Audio("musics/"+t+".mp3")}))}(Array.from({length:3},(function(t,e){return++e})).map((function(t){return"bgm"+t}))),a=o[(0,i.rand)(0,o.length-1)];e.bgm=a,e.bgmStart=function(){a.play(),a.loop=!0,a.volume=0,(0,r.bgmFadeIn)(),(0,r.bgmFadeOut)()}},8906:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.images=void 0;var n=new Image;n.src="./sprite.png";var i=new Image;i.src="./itemSprites/sticon_set.png";var r=[n,i];e.images=r},2002:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shotSprite=e.enemySpriteStart=e.sprite=void 0;var i=n(1383);e.sprite=[new i.Sprite(0,0,22,42),new i.Sprite(23,0,33,42),new i.Sprite(57,0,43,42),new i.Sprite(101,0,33,42),new i.Sprite(135,0,21,42),new i.Sprite(0,50,3,7),new i.Sprite(4,50,5,5),new i.Sprite(3,42,16,5),new i.Sprite(29,42,21,5),new i.Sprite(69,42,19,5),new i.Sprite(108,42,21,5),new i.Sprite(138,42,16,5),new i.Sprite(11,50,7,7),new i.Sprite(19,50,7,7),new i.Sprite(32,49,8,8),new i.Sprite(42,47,12,12),new i.Sprite(5,351,9,9),new i.Sprite(21,346,20,20),new i.Sprite(46,343,29,27),new i.Sprite(80,343,33,30),new i.Sprite(117,340,36,33),new i.Sprite(153,340,37,33),new i.Sprite(191,341,25,31),new i.Sprite(216,349,19,16),new i.Sprite(241,350,15,14),new i.Sprite(259,350,14,13),new i.Sprite(276,351,13,12),new i.Sprite(6,373,9,9),new i.Sprite(19,371,16,15),new i.Sprite(38,373,11,12),new i.Sprite(54,372,17,17),new i.Sprite(75,374,13,14),new i.Sprite(4,62,24,27),new i.Sprite(36,62,24,27),new i.Sprite(68,62,24,27),new i.Sprite(100,62,24,27),new i.Sprite(133,62,24,27),new i.Sprite(161,62,30,27),new i.Sprite(4,95,24,26),new i.Sprite(36,95,24,26),new i.Sprite(68,95,24,26),new i.Sprite(100,95,24,26),new i.Sprite(133,92,24,29),new i.Sprite(161,95,30,26),new i.Sprite(4,125,24,29),new i.Sprite(36,125,24,29),new i.Sprite(68,125,24,29),new i.Sprite(100,125,24,29),new i.Sprite(133,124,24,30),new i.Sprite(161,125,30,29),new i.Sprite(4,160,25,27),new i.Sprite(34,160,26,27),new i.Sprite(66,160,26,27),new i.Sprite(98,160,26,27),new i.Sprite(132,160,26,27),new i.Sprite(161,158,30,29),new i.Sprite(4,194,24,28),new i.Sprite(36,194,24,28),new i.Sprite(68,194,24,28),new i.Sprite(100,194,24,28),new i.Sprite(133,194,24,30),new i.Sprite(161,194,30,28),new i.Sprite(4,230,22,26),new i.Sprite(41,230,22,26),new i.Sprite(73,230,22,26),new i.Sprite(105,230,22,26),new i.Sprite(137,230,22,26),new i.Sprite(6,261,24,28),new i.Sprite(38,261,24,28),new i.Sprite(70,261,24,28),new i.Sprite(102,261,24,28),new i.Sprite(135,261,24,28),new i.Sprite(206,58,69,73),new i.Sprite(204,134,69,73),new i.Sprite(205,212,69,78),new i.Sprite(337,0,139,147),new i.Sprite(336,151,139,147),new i.Sprite(336,301,139,155),new i.Sprite(0,0,30,38),new i.Sprite(193,26,22,20),new i.Sprite(4,55,5,5),new i.Sprite(299,461,192,210),new i.Sprite(487,213,15,58),new i.Sprite(486,279,14,58),new i.Sprite(505,152,33,121),new i.Sprite(540,212,50,62),new i.Sprite(521,464,92,75)],e.enemySpriteStart={yellow:33,middleYellow:72,bigYellow:75,pink:39,middlePink:73,bigPink:76,blue:45,middleBlue:74,bigBlue:77,robot:50,chicken:57,egg:63,shell:68,lastBoss:81,shovel:82,shovelLight:83,bigShovel:84,finger:85,kadai:86},e.shotSprite={ps1:5,ps2:6,pSpecial:80,es1_1:12,es1_2:13,es2_1:14,es2_2:15}},8882:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPlaying=e.vars=e.explosion=e.enemyShot=e.item=e.enemy=e.bullet=e.star=e.key=e.enemyMasterIndex=e.enemyMaster=e.bossEnemy=e.gameSpeed=e.frame=e.itemMasterIndex=e.itemMaster=e.background=e.player=e.star_max=e.vctx=e.vcanvas=e.ctx=e.canvas=e.field_h=e.field_w=e.field_increase=e.canvas_h=e.canvas_w=e.screen_h=e.screen_w=e.SMOOTHING=e.afterGame=e.logoutButton=e.scoreSubmit=e.oneWave=e.debugTime=e.tenSeconds=e.DEBUG=void 0;var i=n(4602),r=n(1756),o=n(7479),a=n(3401),s=n(2381),u=n(2153);e.DEBUG=!1,e.tenSeconds=10,e.debugTime=1,e.oneWave=e.DEBUG?e.debugTime:e.tenSeconds,e.scoreSubmit=document.getElementById("score-submit"),e.logoutButton=document.getElementById("logout-button"),e.afterGame=document.getElementById("after-game"),e.SMOOTHING=!1,e.screen_w=650,e.screen_h=650,e.canvas_w=2*e.screen_w,e.canvas_h=2*e.screen_h,e.field_increase=120,e.field_w=e.screen_w+e.field_increase,e.field_h=e.screen_h+e.field_increase,e.canvas=document.getElementById("canvas"),e.ctx=e.canvas.getContext("2d"),e.vcanvas=document.createElement("canvas"),e.vctx=e.vcanvas.getContext("2d"),e.star_max=20,e.player=new r.Player,e.background=new a.Background("./images/hamako_bottom.png","./images/hamako_top.png"),e.itemMaster=[new o.ItemMaster(0,15,1)],e.itemMasterIndex={heal:0},e.frame=60,e.gameSpeed=1e3/e.frame;var c=10,l=100;e.bossEnemy={r:70,hp:1e3,score:1e4,vy:200},e.enemyMaster=[new i.EnemyMaster(0,c,1,l,u.enemyFunctions.pink),new i.EnemyMaster(1,c,1,l,u.enemyFunctions.yellow),new i.EnemyMaster(2,e.bossEnemy.r,e.bossEnemy.hp,e.bossEnemy.score,u.enemyFunctions.boss),new i.EnemyMaster(3,c,5,l,u.enemyFunctions.robot),new i.EnemyMaster(4,c,1,l,u.enemyFunctions.blue),new i.EnemyMaster(5,c,6,200,u.enemyFunctions.chicken),new i.EnemyMaster(6,c,10,l,u.enemyFunctions.egg),new i.EnemyMaster(7,c,1,l,u.enemyFunctions.shell),new i.EnemyMaster(8,e.bossEnemy.r,e.bossEnemy.hp,e.bossEnemy.score,u.enemyFunctions.boss),new i.EnemyMaster(9,105,5*e.bossEnemy.hp,e.bossEnemy.score,u.enemyFunctions.lastBoss),new i.EnemyMaster(10,15,e.bossEnemy.hp,0,u.enemyFunctions.shovel,{isSquare:!0,width:15,height:58}),new i.EnemyMaster(11,33,e.bossEnemy.hp,0,u.enemyFunctions.bigShovel,{isSquare:!0,width:33,height:58}),new i.EnemyMaster(12,92,5,200,u.enemyFunctions.kadai),new i.EnemyMaster(13,50,e.bossEnemy.hp,0,u.enemyFunctions.finger)],e.enemyMasterIndex={pink:0,yellow:1,bigYellow:2,robot:3,blue:4,chicken:5,egg:6,shell:7,bigPink:8,lastBoss:9,shovel:10,bigShovel:11,kadai:12,finger:13},e.key={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1,shift:!1,space:!1,special:!1},e.star=[],e.bullet=[],e.enemy=[],e.item=[],e.enemyShot=[],e.explosion=[],e.vars={score:0,bossHp:0,bossMhp:0,drawCount:0,fps:0,lastTime:Date.now(),afterPushedSpace:!1,gameStart:!1,gameStartCount:3,gameOver:!1,gameClear:!1,callData:0,camera_x:0,camera_y:0,inputOnFocus:!0,rightClick:0,bossEncounter:!1,gameTimer:0,gameCount:0,gameWave:0,gameRound:0,maxRound:s.waves.length,isLevelUp:!1,starSpeed:100,healCount:2},e.isPlaying=!e.vars.gameClear||!e.vars.gameOver},655:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>r,pi:()=>o,mG:()=>a,Jh:()=>s,XA:()=>u,CR:()=>c,ev:()=>l});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))}function s(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}Object.create,Object.create}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(7055),e=n(3419),i=n(8882),r=n(8319);console.log("updated"),i.DEBUG,(0,e.keyControl)(),null!==i.scoreSubmit&&(i.scoreSubmit.addEventListener("click",(function(){i.vars.inputOnFocus=!1})),i.scoreSubmit.addEventListener("focusout",(function(){i.vars.inputOnFocus=!0}))),null!==i.afterGame&&i.afterGame.classList.add("playing");var o=["https://student.hamako-ths.ed.jp/~ei2030/games/shooting/index.html","https://student.hamako-ths.ed.jp/~ei2030/games/tetorisu/netarisu_ranking/main/index.html","https://student.hamako-ths.ed.jp/~ei2030/games/tetorisu/speedUp_tetorisu/index.html"];i.DEBUG||(document.oncontextmenu=function(){return i.vars.rightClick>5&&(console.log("The page is corrupted."),location.href=o[(0,t.rand)(0,o.length-1)]),i.vars.rightClick++,!1}),i.canvas.width=i.canvas_w,i.canvas.height=i.canvas_h,i.vcanvas.width=i.canvas_w,i.vcanvas.height=i.canvas_h,window.onload=r.gameStart})()})();